// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var ya;"use strict";var Ta=this;
function Xa(e){function b(h,m,r){var x=m[0],A=m[1],C=m[2];m=m[3];var F=r[0],I=r[1],L=r[2];r=r[3];h[0]=x*F+C*I;h[1]=A*F+m*I;h[2]=x*L+C*r;h[3]=A*L+m*r;return h}function a(h,m,r){h[0]=m[0]-r[0];h[1]=m[1]-r[1];h[2]=m[2]-r[2];h[3]=m[3]-r[3];return h}function d(h,m,r){var x=m[0],A=m[1],C=m[2],F=m[3],I=m[4];m=m[5];var L=r[0],O=r[1],S=r[2],T=r[3],X=r[4];r=r[5];h[0]=x*L+C*O;h[1]=A*L+F*O;h[2]=x*S+C*T;h[3]=A*S+F*T;h[4]=x*X+C*r+I;h[5]=A*X+F*r+m;return h}function c(h,m,r){h[0]=m[0]-r[0];h[1]=m[1]-r[1];h[2]=m[2]-
r[2];h[3]=m[3]-r[3];h[4]=m[4]-r[4];h[5]=m[5]-r[5];return h}function f(){var h=new qa(9);qa!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[5]=0,h[6]=0,h[7]=0);h[0]=1;h[4]=1;h[8]=1;return h}function l(h,m,r){var x=m[0],A=m[1],C=m[2],F=m[3],I=m[4],L=m[5],O=m[6],S=m[7];m=m[8];var T=r[0],X=r[1],W=r[2],fa=r[3],da=r[4],aa=r[5],ua=r[6],pa=r[7];r=r[8];h[0]=T*x+X*F+W*O;h[1]=T*A+X*I+W*S;h[2]=T*C+X*L+W*m;h[3]=fa*x+da*F+aa*O;h[4]=fa*A+da*I+aa*S;h[5]=fa*C+da*L+aa*m;h[6]=ua*x+pa*F+r*O;h[7]=ua*A+pa*I+r*S;h[8]=ua*C+pa*L+
r*m;return h}function g(h,m,r){h[0]=m[0]-r[0];h[1]=m[1]-r[1];h[2]=m[2]-r[2];h[3]=m[3]-r[3];h[4]=m[4]-r[4];h[5]=m[5]-r[5];h[6]=m[6]-r[6];h[7]=m[7]-r[7];h[8]=m[8]-r[8];return h}function k(h){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h}function n(h,m,r){var x=m[0],A=m[1],C=m[2],F=m[3],I=m[4],L=m[5],O=m[6],S=m[7],T=m[8],X=m[9],W=m[10],fa=m[11],da=m[12],aa=m[13],ua=m[14];m=m[15];var pa=r[0],sa=r[1],ta=r[2],ra=r[3];h[0]=
pa*x+sa*I+ta*T+ra*da;h[1]=pa*A+sa*L+ta*X+ra*aa;h[2]=pa*C+sa*O+ta*W+ra*ua;h[3]=pa*F+sa*S+ta*fa+ra*m;pa=r[4];sa=r[5];ta=r[6];ra=r[7];h[4]=pa*x+sa*I+ta*T+ra*da;h[5]=pa*A+sa*L+ta*X+ra*aa;h[6]=pa*C+sa*O+ta*W+ra*ua;h[7]=pa*F+sa*S+ta*fa+ra*m;pa=r[8];sa=r[9];ta=r[10];ra=r[11];h[8]=pa*x+sa*I+ta*T+ra*da;h[9]=pa*A+sa*L+ta*X+ra*aa;h[10]=pa*C+sa*O+ta*W+ra*ua;h[11]=pa*F+sa*S+ta*fa+ra*m;pa=r[12];sa=r[13];ta=r[14];ra=r[15];h[12]=pa*x+sa*I+ta*T+ra*da;h[13]=pa*A+sa*L+ta*X+ra*aa;h[14]=pa*C+sa*O+ta*W+ra*ua;h[15]=pa*
F+sa*S+ta*fa+ra*m;return h}function q(h,m,r){var x=m[0],A=m[1],C=m[2],F=m[3],I=x+x,L=A+A,O=C+C;m=x*I;var S=x*L;x*=O;var T=A*L;A*=O;C*=O;I*=F;L*=F;F*=O;h[0]=1-(T+C);h[1]=S+F;h[2]=x-L;h[3]=0;h[4]=S-F;h[5]=1-(m+C);h[6]=A+I;h[7]=0;h[8]=x+L;h[9]=A-I;h[10]=1-(m+T);h[11]=0;h[12]=r[0];h[13]=r[1];h[14]=r[2];h[15]=1;return h}function t(h,m){h[0]=m[12];h[1]=m[13];h[2]=m[14];return h}function p(h,m){var r=m[4],x=m[5],A=m[6],C=m[8],F=m[9],I=m[10];h[0]=Math.hypot(m[0],m[1],m[2]);h[1]=Math.hypot(r,x,A);h[2]=Math.hypot(C,
F,I);return h}function v(h,m){var r=new qa(3);p(r,m);var x=1/r[0],A=1/r[1],C=1/r[2],F=m[0]*x;r=m[1]*A;var I=m[2]*C,L=m[4]*x,O=m[5]*A,S=m[6]*C;x*=m[8];A*=m[9];m=m[10]*C;C=F+O+m;0<C?(F=2*Math.sqrt(C+1),h[3]=.25*F,h[0]=(S-A)/F,h[1]=(x-I)/F,h[2]=(r-L)/F):F>O&&F>m?(F=2*Math.sqrt(1+F-O-m),h[3]=(S-A)/F,h[0]=.25*F,h[1]=(r+L)/F,h[2]=(x+I)/F):O>m?(F=2*Math.sqrt(1+O-F-m),h[3]=(x-I)/F,h[0]=(r+L)/F,h[1]=.25*F,h[2]=(S+A)/F):(F=2*Math.sqrt(1+m-F-O),h[3]=(r-L)/F,h[0]=(x+I)/F,h[1]=(S+A)/F,h[2]=.25*F);return h}function u(h,
m,r){h[0]=m[0]-r[0];h[1]=m[1]-r[1];h[2]=m[2]-r[2];h[3]=m[3]-r[3];h[4]=m[4]-r[4];h[5]=m[5]-r[5];h[6]=m[6]-r[6];h[7]=m[7]-r[7];h[8]=m[8]-r[8];h[9]=m[9]-r[9];h[10]=m[10]-r[10];h[11]=m[11]-r[11];h[12]=m[12]-r[12];h[13]=m[13]-r[13];h[14]=m[14]-r[14];h[15]=m[15]-r[15];return h}function w(){var h=new qa(3);qa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0);return h}function y(h){return Math.hypot(h[0],h[1],h[2])}function z(h,m,r){var x=new qa(3);x[0]=h;x[1]=m;x[2]=r;return x}function E(h,m,r){h[0]=m[0]-r[0];h[1]=
m[1]-r[1];h[2]=m[2]-r[2];return h}function G(h,m,r){h[0]=m[0]*r[0];h[1]=m[1]*r[1];h[2]=m[2]*r[2];return h}function P(h,m,r){h[0]=m[0]/r[0];h[1]=m[1]/r[1];h[2]=m[2]/r[2];return h}function D(h,m){return Math.hypot(m[0]-h[0],m[1]-h[1],m[2]-h[2])}function H(h,m){var r=m[0]-h[0],x=m[1]-h[1];h=m[2]-h[2];return r*r+x*x+h*h}function J(h){var m=h[0],r=h[1];h=h[2];return m*m+r*r+h*h}function M(h,m){var r=m[0],x=m[1],A=m[2];r=r*r+x*x+A*A;0<r&&(r=1/Math.sqrt(r));h[0]=m[0]*r;h[1]=m[1]*r;h[2]=m[2]*r;return h}function Q(h,
m){return h[0]*m[0]+h[1]*m[1]+h[2]*m[2]}function R(h,m,r){var x=m[0],A=m[1];m=m[2];var C=r[0],F=r[1];r=r[2];h[0]=A*r-m*F;h[1]=m*C-x*r;h[2]=x*F-A*C;return h}function V(){var h=new qa(4);qa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[3]=0);return h}function Z(h){var m=new qa(4);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];return m}function ca(h,m,r,x){var A=new qa(4);A[0]=h;A[1]=m;A[2]=r;A[3]=x;return A}function Y(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];return h}function ha(h,m,r,x,A){h[0]=m;h[1]=r;h[2]=
x;h[3]=A;return h}function ka(h,m,r){h[0]=m[0]+r[0];h[1]=m[1]+r[1];h[2]=m[2]+r[2];h[3]=m[3]+r[3];return h}function za(h,m,r){h[0]=m[0]-r[0];h[1]=m[1]-r[1];h[2]=m[2]-r[2];h[3]=m[3]-r[3];return h}function Oa(h,m,r){h[0]=m[0]*r[0];h[1]=m[1]*r[1];h[2]=m[2]*r[2];h[3]=m[3]*r[3];return h}function ab(h,m,r){h[0]=m[0]/r[0];h[1]=m[1]/r[1];h[2]=m[2]/r[2];h[3]=m[3]/r[3];return h}function Ua(h,m,r){h[0]=m[0]*r;h[1]=m[1]*r;h[2]=m[2]*r;h[3]=m[3]*r;return h}function bb(h,m){return Math.hypot(m[0]-h[0],m[1]-h[1],
m[2]-h[2],m[3]-h[3])}function mb(h,m){var r=m[0]-h[0],x=m[1]-h[1],A=m[2]-h[2];h=m[3]-h[3];return r*r+x*x+A*A+h*h}function Va(h){return Math.hypot(h[0],h[1],h[2],h[3])}function Pa(h){var m=h[0],r=h[1],x=h[2];h=h[3];return m*m+r*r+x*x+h*h}function fb(h,m){var r=m[0],x=m[1],A=m[2];m=m[3];var C=r*r+x*x+A*A+m*m;0<C&&(C=1/Math.sqrt(C));h[0]=r*C;h[1]=x*C;h[2]=A*C;h[3]=m*C;return h}function cb(h,m){return h[0]*m[0]+h[1]*m[1]+h[2]*m[2]+h[3]*m[3]}function ub(h,m,r,x){var A=m[0],C=m[1],F=m[2];m=m[3];h[0]=A+
x*(r[0]-A);h[1]=C+x*(r[1]-C);h[2]=F+x*(r[2]-F);h[3]=m+x*(r[3]-m);return h}function vb(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]}function wb(h,m){var r=h[0],x=h[1],A=h[2];h=h[3];var C=m[0],F=m[1],I=m[2];m=m[3];return Math.abs(r-C)<=1E-6*Math.max(1,Math.abs(r),Math.abs(C))&&Math.abs(x-F)<=1E-6*Math.max(1,Math.abs(x),Math.abs(F))&&Math.abs(A-I)<=1E-6*Math.max(1,Math.abs(A),Math.abs(I))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))}function gb(){var h=new qa(4);qa!=Float32Array&&
(h[0]=0,h[1]=0,h[2]=0);h[3]=1;return h}function xb(h,m,r){r*=.5;var x=Math.sin(r);h[0]=x*m[0];h[1]=x*m[1];h[2]=x*m[2];h[3]=Math.cos(r);return h}function yb(h,m,r){var x=m[0],A=m[1],C=m[2];m=m[3];var F=r[0],I=r[1],L=r[2];r=r[3];h[0]=x*r+m*F+A*L-C*I;h[1]=A*r+m*I+C*F-x*L;h[2]=C*r+m*L+x*I-A*F;h[3]=m*r-x*F-A*I-C*L;return h}function zb(h,m,r){r*=.5;var x=m[0],A=m[1],C=m[2];m=m[3];var F=Math.sin(r);r=Math.cos(r);h[0]=x*r+m*F;h[1]=A*r+C*F;h[2]=C*r-A*F;h[3]=m*r-x*F;return h}function Ab(h,m,r){r*=.5;var x=
m[0],A=m[1],C=m[2];m=m[3];var F=Math.sin(r);r=Math.cos(r);h[0]=x*r-C*F;h[1]=A*r+m*F;h[2]=C*r+x*F;h[3]=m*r-A*F;return h}function Bb(h,m,r){r*=.5;var x=m[0],A=m[1],C=m[2];m=m[3];var F=Math.sin(r);r=Math.cos(r);h[0]=x*r+A*F;h[1]=A*r-x*F;h[2]=C*r+m*F;h[3]=m*r-C*F;return h}function Cb(h,m){var r=m[0],x=m[1],A=m[2],C=Math.sqrt(r*r+x*x+A*A);m=Math.exp(m[3]);var F=0<C?m*Math.sin(C)/C:0;h[0]=r*F;h[1]=x*F;h[2]=A*F;h[3]=m*Math.cos(C);return h}function Db(h,m){var r=m[0],x=m[1],A=m[2];m=m[3];var C=Math.sqrt(r*
r+x*x+A*A);C=0<C?Math.atan2(C,m)/C:0;h[0]=r*C;h[1]=x*C;h[2]=A*C;h[3]=.5*Math.log(r*r+x*x+A*A+m*m);return h}function hb(h,m,r,x){var A=m[0],C=m[1],F=m[2];m=m[3];var I=r[0],L=r[1],O=r[2];r=r[3];var S=A*I+C*L+F*O+m*r;0>S&&(S=-S,I=-I,L=-L,O=-O,r=-r);if(1E-6<1-S){var T=Math.acos(S);var X=Math.sin(T);S=Math.sin((1-x)*T)/X;x=Math.sin(x*T)/X}else S=1-x;h[0]=S*A+x*I;h[1]=S*C+x*L;h[2]=S*F+x*O;h[3]=S*m+x*r;return h}function Eb(h,m){var r=m[0]+m[4]+m[8];if(0<r)r=Math.sqrt(r+1),h[3]=.5*r,r=.5/r,h[0]=(m[5]-m[7])*
r,h[1]=(m[6]-m[2])*r,h[2]=(m[1]-m[3])*r;else{var x=0;m[4]>m[0]&&(x=1);m[8]>m[3*x+x]&&(x=2);var A=(x+1)%3,C=(x+2)%3;r=Math.sqrt(m[3*x+x]-m[3*A+A]-m[3*C+C]+1);h[x]=.5*r;r=.5/r;h[3]=(m[3*A+C]-m[3*C+A])*r;h[A]=(m[3*A+x]+m[3*x+A])*r;h[C]=(m[3*C+x]+m[3*x+C])*r}return h}function Fb(h,m,r){var x=.5*r[0],A=.5*r[1];r=.5*r[2];var C=m[0],F=m[1],I=m[2];m=m[3];h[0]=C;h[1]=F;h[2]=I;h[3]=m;h[4]=x*m+A*I-r*F;h[5]=A*m+r*C-x*I;h[6]=r*m+x*F-A*C;h[7]=-x*C-A*F-r*I;return h}function Gb(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];
h[3]=m[3];h[4]=m[4];h[5]=m[5];h[6]=m[6];h[7]=m[7];return h}function Hb(h,m,r){var x=m[0],A=m[1],C=m[2],F=m[3],I=r[4],L=r[5],O=r[6],S=r[7],T=m[4],X=m[5],W=m[6];m=m[7];var fa=r[0],da=r[1],aa=r[2];r=r[3];h[0]=x*r+F*fa+A*aa-C*da;h[1]=A*r+F*da+C*fa-x*aa;h[2]=C*r+F*aa+x*da-A*fa;h[3]=F*r-x*fa-A*da-C*aa;h[4]=x*S+F*I+A*O-C*L+T*r+m*fa+X*aa-W*da;h[5]=A*S+F*L+C*I-x*O+X*r+m*da+W*fa-T*aa;h[6]=C*S+F*O+x*L-A*I+W*r+m*aa+T*da-X*fa;h[7]=F*S-x*I-A*L-C*O+m*r-T*fa-X*da-W*aa;return h}function ib(){var h=new qa(2);qa!=Float32Array&&
(h[0]=0,h[1]=0);return h}function Sa(h,m,r){h[0]=m[0]-r[0];h[1]=m[1]-r[1];return h}function jb(h,m,r){h[0]=m[0]*r[0];h[1]=m[1]*r[1];return h}function kb(h,m,r){h[0]=m[0]/r[0];h[1]=m[1]/r[1];return h}function Wa(h,m){return Math.hypot(m[0]-h[0],m[1]-h[1])}function lb(h,m){var r=m[0]-h[0];h=m[1]-h[1];return r*r+h*h}function Ma(h){return Math.hypot(h[0],h[1])}function nb(h){var m=h[0];h=h[1];return m*m+h*h}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ka=Math.random,Ib=Math.PI/180;Math.hypot||
(Math.hypot=function(){for(var h=0,m=arguments.length;m--;)h+=arguments[m]*arguments[m];return Math.sqrt(h)});var Ob=Object.freeze({__proto__:null,EPSILON:1E-6,get Bia(){return qa},yra:Ka,Xya:function(h){qa=h},gza:function(h){return h*Ib},gd:function(h,m){return Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))}}),Pb=Object.freeze({__proto__:null,create:function(){var h=new qa(4);qa!=Float32Array&&(h[1]=0,h[2]=0);h[0]=1;h[3]=1;return h},clone:function(h){var m=new qa(4);m[0]=h[0];m[1]=h[1];
m[2]=h[2];m[3]=h[3];return m},za:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];return h},oy:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=1;return h},eg:function(h,m,r,x){var A=new qa(4);A[0]=h;A[1]=m;A[2]=r;A[3]=x;return A},set:function(h,m,r,x,A){h[0]=m;h[1]=r;h[2]=x;h[3]=A;return h},OX:function(h,m){if(h===m){var r=m[1];h[1]=m[2];h[2]=r}else h[0]=m[0],h[1]=m[2],h[2]=m[1],h[3]=m[3];return h},eu:function(h,m){var r=m[0],x=m[1],A=m[2];m=m[3];var C=r*m-A*x;if(!C)return null;C=1/C;h[0]=m*C;h[1]=-x*
C;h[2]=-A*C;h[3]=r*C;return h},TW:function(h,m){var r=m[0];h[0]=m[3];h[1]=-m[1];h[2]=-m[2];h[3]=r;return h},fM:function(h){return h[0]*h[3]-h[2]*h[1]},multiply:b,rotate:function(h,m,r){var x=m[0],A=m[1],C=m[2];m=m[3];var F=Math.sin(r);r=Math.cos(r);h[0]=x*r+C*F;h[1]=A*r+m*F;h[2]=x*-F+C*r;h[3]=A*-F+m*r;return h},scale:function(h,m,r){var x=m[1],A=m[2],C=m[3],F=r[0];r=r[1];h[0]=m[0]*F;h[1]=x*F;h[2]=A*r;h[3]=C*r;return h},iE:function(h,m){var r=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=r;h[2]=-r;h[3]=m;
return h},jM:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=m[1];return h},an:function(h){return"mat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},iM:function(h){return Math.hypot(h[0],h[1],h[2],h[3])},bpa:function(h,m,r,x){h[2]=x[2]/x[0];r[0]=x[0];r[1]=x[1];r[3]=x[3]-h[2]*r[1];return[h,m,r]},add:function(h,m,r){h[0]=m[0]+r[0];h[1]=m[1]+r[1];h[2]=m[2]+r[2];h[3]=m[3]+r[3];return h},bn:a,Tj:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]},gd:function(h,m){var r=h[0],x=h[1],A=h[2];h=
h[3];var C=m[0],F=m[1],I=m[2];m=m[3];return Math.abs(r-C)<=1E-6*Math.max(1,Math.abs(r),Math.abs(C))&&Math.abs(x-F)<=1E-6*Math.max(1,Math.abs(x),Math.abs(F))&&Math.abs(A-I)<=1E-6*Math.max(1,Math.abs(A),Math.abs(I))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},wM:function(h,m,r){h[0]=m[0]*r;h[1]=m[1]*r;h[2]=m[2]*r;h[3]=m[3]*r;return h},xM:function(h,m,r,x){h[0]=m[0]+r[0]*x;h[1]=m[1]+r[1]*x;h[2]=m[2]+r[2]*x;h[3]=m[3]+r[3]*x;return h},$o:b,sub:a}),Qb=Object.freeze({__proto__:null,create:function(){var h=
new qa(6);qa!=Float32Array&&(h[1]=0,h[2]=0,h[4]=0,h[5]=0);h[0]=1;h[3]=1;return h},clone:function(h){var m=new qa(6);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];return m},za:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=m[4];h[5]=m[5];return h},oy:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=1;h[4]=0;h[5]=0;return h},eg:function(h,m,r,x,A,C){var F=new qa(6);F[0]=h;F[1]=m;F[2]=r;F[3]=x;F[4]=A;F[5]=C;return F},set:function(h,m,r,x,A,C,F){h[0]=m;h[1]=r;h[2]=x;h[3]=A;h[4]=C;h[5]=
F;return h},eu:function(h,m){var r=m[0],x=m[1],A=m[2],C=m[3],F=m[4];m=m[5];var I=r*C-x*A;if(!I)return null;I=1/I;h[0]=C*I;h[1]=-x*I;h[2]=-A*I;h[3]=r*I;h[4]=(A*m-C*F)*I;h[5]=(x*F-r*m)*I;return h},fM:function(h){return h[0]*h[3]-h[1]*h[2]},multiply:d,rotate:function(h,m,r){var x=m[0],A=m[1],C=m[2],F=m[3],I=m[4];m=m[5];var L=Math.sin(r);r=Math.cos(r);h[0]=x*r+C*L;h[1]=A*r+F*L;h[2]=x*-L+C*r;h[3]=A*-L+F*r;h[4]=I;h[5]=m;return h},scale:function(h,m,r){var x=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=r[0];r=r[1];
h[0]=m[0]*L;h[1]=x*L;h[2]=A*r;h[3]=C*r;h[4]=F;h[5]=I;return h},translate:function(h,m,r){var x=m[0],A=m[1],C=m[2],F=m[3],I=m[4];m=m[5];var L=r[0];r=r[1];h[0]=x;h[1]=A;h[2]=C;h[3]=F;h[4]=x*L+C*r+I;h[5]=A*L+F*r+m;return h},iE:function(h,m){var r=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=r;h[2]=-r;h[3]=m;h[4]=0;h[5]=0;return h},jM:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=m[1];h[4]=0;h[5]=0;return h},kM:function(h,m){h[0]=1;h[1]=0;h[2]=0;h[3]=1;h[4]=m[0];h[5]=m[1];return h},an:function(h){return"mat2d("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+")"},iM:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],1)},add:function(h,m,r){h[0]=m[0]+r[0];h[1]=m[1]+r[1];h[2]=m[2]+r[2];h[3]=m[3]+r[3];h[4]=m[4]+r[4];h[5]=m[5]+r[5];return h},bn:c,wM:function(h,m,r){h[0]=m[0]*r;h[1]=m[1]*r;h[2]=m[2]*r;h[3]=m[3]*r;h[4]=m[4]*r;h[5]=m[5]*r;return h},xM:function(h,m,r,x){h[0]=m[0]+r[0]*x;h[1]=m[1]+r[1]*x;h[2]=m[2]+r[2]*x;h[3]=m[3]+r[3]*x;h[4]=m[4]+r[4]*x;h[5]=m[5]+r[5]*x;return h},Tj:function(h,m){return h[0]===
m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]},gd:function(h,m){var r=h[0],x=h[1],A=h[2],C=h[3],F=h[4];h=h[5];var I=m[0],L=m[1],O=m[2],S=m[3],T=m[4];m=m[5];return Math.abs(r-I)<=1E-6*Math.max(1,Math.abs(r),Math.abs(I))&&Math.abs(x-L)<=1E-6*Math.max(1,Math.abs(x),Math.abs(L))&&Math.abs(A-O)<=1E-6*Math.max(1,Math.abs(A),Math.abs(O))&&Math.abs(C-S)<=1E-6*Math.max(1,Math.abs(C),Math.abs(S))&&Math.abs(F-T)<=1E-6*Math.max(1,Math.abs(F),Math.abs(T))&&Math.abs(h-m)<=1E-6*Math.max(1,
Math.abs(h),Math.abs(m))},$o:d,sub:c}),Rb=Object.freeze({__proto__:null,create:f,Uga:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[4];h[4]=m[5];h[5]=m[6];h[6]=m[8];h[7]=m[9];h[8]=m[10];return h},clone:function(h){var m=new qa(9);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];m[6]=h[6];m[7]=h[7];m[8]=h[8];return m},za:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=m[4];h[5]=m[5];h[6]=m[6];h[7]=m[7];h[8]=m[8];return h},eg:function(h,m,r,x,A,C,F,I,L){var O=new qa(9);O[0]=
h;O[1]=m;O[2]=r;O[3]=x;O[4]=A;O[5]=C;O[6]=F;O[7]=I;O[8]=L;return O},set:function(h,m,r,x,A,C,F,I,L,O){h[0]=m;h[1]=r;h[2]=x;h[3]=A;h[4]=C;h[5]=F;h[6]=I;h[7]=L;h[8]=O;return h},oy:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=1;h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},OX:function(h,m){if(h===m){var r=m[1],x=m[2],A=m[5];h[1]=m[3];h[2]=m[6];h[3]=r;h[5]=m[7];h[6]=x;h[7]=A}else h[0]=m[0],h[1]=m[3],h[2]=m[6],h[3]=m[1],h[4]=m[4],h[5]=m[7],h[6]=m[2],h[7]=m[5],h[8]=m[8];return h},eu:function(h,m){var r=m[0],x=
m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7];m=m[8];var S=m*F-I*O,T=-m*C+I*L,X=O*C-F*L,W=r*S+x*T+A*X;if(!W)return null;W=1/W;h[0]=S*W;h[1]=(-m*x+A*O)*W;h[2]=(I*x-A*F)*W;h[3]=T*W;h[4]=(m*r-A*L)*W;h[5]=(-I*r+A*C)*W;h[6]=X*W;h[7]=(-O*r+x*L)*W;h[8]=(F*r-x*C)*W;return h},TW:function(h,m){var r=m[0],x=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7];m=m[8];h[0]=F*m-I*O;h[1]=A*O-x*m;h[2]=x*I-A*F;h[3]=I*L-C*m;h[4]=r*m-A*L;h[5]=A*C-r*I;h[6]=C*O-F*L;h[7]=x*L-r*O;h[8]=r*F-x*C;return h},fM:function(h){var m=
h[3],r=h[4],x=h[5],A=h[6],C=h[7],F=h[8];return h[0]*(F*r-x*C)+h[1]*(-F*m+x*A)+h[2]*(C*m-r*A)},multiply:l,translate:function(h,m,r){var x=m[0],A=m[1],C=m[2],F=m[3],I=m[4],L=m[5],O=m[6],S=m[7];m=m[8];var T=r[0];r=r[1];h[0]=x;h[1]=A;h[2]=C;h[3]=F;h[4]=I;h[5]=L;h[6]=T*x+r*F+O;h[7]=T*A+r*I+S;h[8]=T*C+r*L+m;return h},rotate:function(h,m,r){var x=m[0],A=m[1],C=m[2],F=m[3],I=m[4],L=m[5],O=m[6],S=m[7];m=m[8];var T=Math.sin(r);r=Math.cos(r);h[0]=r*x+T*F;h[1]=r*A+T*I;h[2]=r*C+T*L;h[3]=r*F-T*x;h[4]=r*I-T*A;h[5]=
r*L-T*C;h[6]=O;h[7]=S;h[8]=m;return h},scale:function(h,m,r){var x=r[0];r=r[1];h[0]=x*m[0];h[1]=x*m[1];h[2]=x*m[2];h[3]=r*m[3];h[4]=r*m[4];h[5]=r*m[5];h[6]=m[6];h[7]=m[7];h[8]=m[8];return h},kM:function(h,m){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=1;h[5]=0;h[6]=m[0];h[7]=m[1];h[8]=1;return h},iE:function(h,m){var r=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=r;h[2]=0;h[3]=-r;h[4]=m;h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},jM:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=0;h[4]=m[1];h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},
bxa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=0;h[3]=m[2];h[4]=m[3];h[5]=0;h[6]=m[4];h[7]=m[5];h[8]=1;return h},Vga:function(h,m){var r=m[0],x=m[1],A=m[2];m=m[3];var C=r+r,F=x+x,I=A+A;r*=C;var L=x*C;x*=F;var O=A*C,S=A*F;A*=I;C*=m;F*=m;m*=I;h[0]=1-x-A;h[3]=L-m;h[6]=O+F;h[1]=L+m;h[4]=1-r-A;h[7]=S-C;h[2]=O-F;h[5]=S+C;h[8]=1-r-x;return h},fya:function(h,m){var r=m[0],x=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7],S=m[8],T=m[9],X=m[10],W=m[11],fa=m[12],da=m[13],aa=m[14];m=m[15];var ua=r*I-x*F,pa=r*L-A*
F,sa=r*O-C*F,ta=x*L-A*I,ra=x*O-C*I,Da=A*O-C*L,Ea=S*da-T*fa,Fa=S*aa-X*fa;S=S*m-W*fa;var Ga=T*aa-X*da;T=T*m-W*da;X=X*m-W*aa;W=ua*X-pa*T+sa*Ga+ta*S-ra*Fa+Da*Ea;if(!W)return null;W=1/W;h[0]=(I*X-L*T+O*Ga)*W;h[1]=(L*S-F*X-O*Fa)*W;h[2]=(F*T-I*S+O*Ea)*W;h[3]=(A*T-x*X-C*Ga)*W;h[4]=(r*X-A*S+C*Fa)*W;h[5]=(x*S-r*T-C*Ea)*W;h[6]=(da*Da-aa*ra+m*ta)*W;h[7]=(aa*sa-fa*Da-m*pa)*W;h[8]=(fa*ra-da*sa+m*ua)*W;return h},CX:function(h,m,r){h[0]=2/m;h[1]=0;h[2]=0;h[3]=0;h[4]=-2/r;h[5]=0;h[6]=-1;h[7]=1;h[8]=1;return h},an:function(h){return"mat3("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+")"},iM:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8])},add:function(h,m,r){h[0]=m[0]+r[0];h[1]=m[1]+r[1];h[2]=m[2]+r[2];h[3]=m[3]+r[3];h[4]=m[4]+r[4];h[5]=m[5]+r[5];h[6]=m[6]+r[6];h[7]=m[7]+r[7];h[8]=m[8]+r[8];return h},bn:g,wM:function(h,m,r){h[0]=m[0]*r;h[1]=m[1]*r;h[2]=m[2]*r;h[3]=m[3]*r;h[4]=m[4]*r;h[5]=m[5]*r;h[6]=m[6]*r;h[7]=m[7]*r;h[8]=m[8]*r;return h},xM:function(h,m,r,x){h[0]=
m[0]+r[0]*x;h[1]=m[1]+r[1]*x;h[2]=m[2]+r[2]*x;h[3]=m[3]+r[3]*x;h[4]=m[4]+r[4]*x;h[5]=m[5]+r[5]*x;h[6]=m[6]+r[6]*x;h[7]=m[7]+r[7]*x;h[8]=m[8]+r[8]*x;return h},Tj:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]&&h[6]===m[6]&&h[7]===m[7]&&h[8]===m[8]},gd:function(h,m){var r=h[0],x=h[1],A=h[2],C=h[3],F=h[4],I=h[5],L=h[6],O=h[7];h=h[8];var S=m[0],T=m[1],X=m[2],W=m[3],fa=m[4],da=m[5],aa=m[6],ua=m[7];m=m[8];return Math.abs(r-S)<=1E-6*Math.max(1,Math.abs(r),
Math.abs(S))&&Math.abs(x-T)<=1E-6*Math.max(1,Math.abs(x),Math.abs(T))&&Math.abs(A-X)<=1E-6*Math.max(1,Math.abs(A),Math.abs(X))&&Math.abs(C-W)<=1E-6*Math.max(1,Math.abs(C),Math.abs(W))&&Math.abs(F-fa)<=1E-6*Math.max(1,Math.abs(F),Math.abs(fa))&&Math.abs(I-da)<=1E-6*Math.max(1,Math.abs(I),Math.abs(da))&&Math.abs(L-aa)<=1E-6*Math.max(1,Math.abs(L),Math.abs(aa))&&Math.abs(O-ua)<=1E-6*Math.max(1,Math.abs(O),Math.abs(ua))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},$o:l,sub:g}),Sb=Object.freeze({__proto__:null,
create:function(){var h=new qa(16);qa!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0);h[0]=1;h[5]=1;h[10]=1;h[15]=1;return h},clone:function(h){var m=new qa(16);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];m[6]=h[6];m[7]=h[7];m[8]=h[8];m[9]=h[9];m[10]=h[10];m[11]=h[11];m[12]=h[12];m[13]=h[13];m[14]=h[14];m[15]=h[15];return m},za:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=m[4];h[5]=m[5];h[6]=m[6];h[7]=m[7];h[8]=
m[8];h[9]=m[9];h[10]=m[10];h[11]=m[11];h[12]=m[12];h[13]=m[13];h[14]=m[14];h[15]=m[15];return h},eg:function(h,m,r,x,A,C,F,I,L,O,S,T,X,W,fa,da){var aa=new qa(16);aa[0]=h;aa[1]=m;aa[2]=r;aa[3]=x;aa[4]=A;aa[5]=C;aa[6]=F;aa[7]=I;aa[8]=L;aa[9]=O;aa[10]=S;aa[11]=T;aa[12]=X;aa[13]=W;aa[14]=fa;aa[15]=da;return aa},set:function(h,m,r,x,A,C,F,I,L,O,S,T,X,W,fa,da,aa){h[0]=m;h[1]=r;h[2]=x;h[3]=A;h[4]=C;h[5]=F;h[6]=I;h[7]=L;h[8]=O;h[9]=S;h[10]=T;h[11]=X;h[12]=W;h[13]=fa;h[14]=da;h[15]=aa;return h},oy:k,OX:function(h,
m){if(h===m){var r=m[1],x=m[2],A=m[3],C=m[6],F=m[7],I=m[11];h[1]=m[4];h[2]=m[8];h[3]=m[12];h[4]=r;h[6]=m[9];h[7]=m[13];h[8]=x;h[9]=C;h[11]=m[14];h[12]=A;h[13]=F;h[14]=I}else h[0]=m[0],h[1]=m[4],h[2]=m[8],h[3]=m[12],h[4]=m[1],h[5]=m[5],h[6]=m[9],h[7]=m[13],h[8]=m[2],h[9]=m[6],h[10]=m[10],h[11]=m[14],h[12]=m[3],h[13]=m[7],h[14]=m[11],h[15]=m[15];return h},eu:function(h,m){var r=m[0],x=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7],S=m[8],T=m[9],X=m[10],W=m[11],fa=m[12],da=m[13],aa=m[14];m=m[15];var ua=
r*I-x*F,pa=r*L-A*F,sa=r*O-C*F,ta=x*L-A*I,ra=x*O-C*I,Da=A*O-C*L,Ea=S*da-T*fa,Fa=S*aa-X*fa,Ga=S*m-W*fa,Ia=T*aa-X*da,Qa=T*m-W*da,Ra=X*m-W*aa,Aa=ua*Ra-pa*Qa+sa*Ia+ta*Ga-ra*Fa+Da*Ea;if(!Aa)return null;Aa=1/Aa;h[0]=(I*Ra-L*Qa+O*Ia)*Aa;h[1]=(A*Qa-x*Ra-C*Ia)*Aa;h[2]=(da*Da-aa*ra+m*ta)*Aa;h[3]=(X*ra-T*Da-W*ta)*Aa;h[4]=(L*Ga-F*Ra-O*Fa)*Aa;h[5]=(r*Ra-A*Ga+C*Fa)*Aa;h[6]=(aa*sa-fa*Da-m*pa)*Aa;h[7]=(S*Da-X*sa+W*pa)*Aa;h[8]=(F*Qa-I*Ga+O*Ea)*Aa;h[9]=(x*Ga-r*Qa-C*Ea)*Aa;h[10]=(fa*ra-da*sa+m*ua)*Aa;h[11]=(T*sa-S*ra-
W*ua)*Aa;h[12]=(I*Fa-F*Ia-L*Ea)*Aa;h[13]=(r*Ia-x*Fa+A*Ea)*Aa;h[14]=(da*pa-fa*ta-aa*ua)*Aa;h[15]=(S*ta-T*pa+X*ua)*Aa;return h},TW:function(h,m){var r=m[0],x=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7],S=m[8],T=m[9],X=m[10],W=m[11],fa=m[12],da=m[13],aa=m[14];m=m[15];h[0]=I*(X*m-W*aa)-T*(L*m-O*aa)+da*(L*W-O*X);h[1]=-(x*(X*m-W*aa)-T*(A*m-C*aa)+da*(A*W-C*X));h[2]=x*(L*m-O*aa)-I*(A*m-C*aa)+da*(A*O-C*L);h[3]=-(x*(L*W-O*X)-I*(A*W-C*X)+T*(A*O-C*L));h[4]=-(F*(X*m-W*aa)-S*(L*m-O*aa)+fa*(L*W-O*X));h[5]=r*
(X*m-W*aa)-S*(A*m-C*aa)+fa*(A*W-C*X);h[6]=-(r*(L*m-O*aa)-F*(A*m-C*aa)+fa*(A*O-C*L));h[7]=r*(L*W-O*X)-F*(A*W-C*X)+S*(A*O-C*L);h[8]=F*(T*m-W*da)-S*(I*m-O*da)+fa*(I*W-O*T);h[9]=-(r*(T*m-W*da)-S*(x*m-C*da)+fa*(x*W-C*T));h[10]=r*(I*m-O*da)-F*(x*m-C*da)+fa*(x*O-C*I);h[11]=-(r*(I*W-O*T)-F*(x*W-C*T)+S*(x*O-C*I));h[12]=-(F*(T*aa-X*da)-S*(I*aa-L*da)+fa*(I*X-L*T));h[13]=r*(T*aa-X*da)-S*(x*aa-A*da)+fa*(x*X-A*T);h[14]=-(r*(I*aa-L*da)-F*(x*aa-A*da)+fa*(x*L-A*I));h[15]=r*(I*X-L*T)-F*(x*X-A*T)+S*(x*L-A*I);return h},
fM:function(h){var m=h[0],r=h[1],x=h[2],A=h[3],C=h[4],F=h[5],I=h[6],L=h[7],O=h[8],S=h[9],T=h[10],X=h[11],W=h[12],fa=h[13],da=h[14];h=h[15];return(m*F-r*C)*(T*h-X*da)-(m*I-x*C)*(S*h-X*fa)+(m*L-A*C)*(S*da-T*fa)+(r*I-x*F)*(O*h-X*W)-(r*L-A*F)*(O*da-T*W)+(x*L-A*I)*(O*fa-S*W)},multiply:n,translate:function(h,m,r){var x=r[0],A=r[1];r=r[2];if(m===h)h[12]=m[0]*x+m[4]*A+m[8]*r+m[12],h[13]=m[1]*x+m[5]*A+m[9]*r+m[13],h[14]=m[2]*x+m[6]*A+m[10]*r+m[14],h[15]=m[3]*x+m[7]*A+m[11]*r+m[15];else{var C=m[0];var F=m[1];
var I=m[2];var L=m[3];var O=m[4];var S=m[5];var T=m[6];var X=m[7];var W=m[8];var fa=m[9];var da=m[10];var aa=m[11];h[0]=C;h[1]=F;h[2]=I;h[3]=L;h[4]=O;h[5]=S;h[6]=T;h[7]=X;h[8]=W;h[9]=fa;h[10]=da;h[11]=aa;h[12]=C*x+O*A+W*r+m[12];h[13]=F*x+S*A+fa*r+m[13];h[14]=I*x+T*A+da*r+m[14];h[15]=L*x+X*A+aa*r+m[15]}return h},scale:function(h,m,r){var x=r[0],A=r[1];r=r[2];h[0]=m[0]*x;h[1]=m[1]*x;h[2]=m[2]*x;h[3]=m[3]*x;h[4]=m[4]*A;h[5]=m[5]*A;h[6]=m[6]*A;h[7]=m[7]*A;h[8]=m[8]*r;h[9]=m[9]*r;h[10]=m[10]*r;h[11]=m[11]*
r;h[12]=m[12];h[13]=m[13];h[14]=m[14];h[15]=m[15];return h},rotate:function(h,m,r,x){var A=x[0],C=x[1];x=x[2];var F=Math.hypot(A,C,x);if(1E-6>F)return null;F=1/F;A*=F;C*=F;x*=F;var I=Math.sin(r);var L=Math.cos(r);var O=1-L;r=m[0];F=m[1];var S=m[2];var T=m[3];var X=m[4];var W=m[5];var fa=m[6];var da=m[7];var aa=m[8];var ua=m[9];var pa=m[10];var sa=m[11];var ta=A*A*O+L;var ra=C*A*O+x*I;var Da=x*A*O-C*I;var Ea=A*C*O-x*I;var Fa=C*C*O+L;var Ga=x*C*O+A*I;var Ia=A*x*O+C*I;A=C*x*O-A*I;C=x*x*O+L;h[0]=r*ta+
X*ra+aa*Da;h[1]=F*ta+W*ra+ua*Da;h[2]=S*ta+fa*ra+pa*Da;h[3]=T*ta+da*ra+sa*Da;h[4]=r*Ea+X*Fa+aa*Ga;h[5]=F*Ea+W*Fa+ua*Ga;h[6]=S*Ea+fa*Fa+pa*Ga;h[7]=T*Ea+da*Fa+sa*Ga;h[8]=r*Ia+X*A+aa*C;h[9]=F*Ia+W*A+ua*C;h[10]=S*Ia+fa*A+pa*C;h[11]=T*Ia+da*A+sa*C;m!==h&&(h[12]=m[12],h[13]=m[13],h[14]=m[14],h[15]=m[15]);return h},LM:function(h,m,r){var x=Math.sin(r);r=Math.cos(r);var A=m[4],C=m[5],F=m[6],I=m[7],L=m[8],O=m[9],S=m[10],T=m[11];m!==h&&(h[0]=m[0],h[1]=m[1],h[2]=m[2],h[3]=m[3],h[12]=m[12],h[13]=m[13],h[14]=m[14],
h[15]=m[15]);h[4]=A*r+L*x;h[5]=C*r+O*x;h[6]=F*r+S*x;h[7]=I*r+T*x;h[8]=L*r-A*x;h[9]=O*r-C*x;h[10]=S*r-F*x;h[11]=T*r-I*x;return h},MM:function(h,m,r){var x=Math.sin(r);r=Math.cos(r);var A=m[0],C=m[1],F=m[2],I=m[3],L=m[8],O=m[9],S=m[10],T=m[11];m!==h&&(h[4]=m[4],h[5]=m[5],h[6]=m[6],h[7]=m[7],h[12]=m[12],h[13]=m[13],h[14]=m[14],h[15]=m[15]);h[0]=A*r-L*x;h[1]=C*r-O*x;h[2]=F*r-S*x;h[3]=I*r-T*x;h[8]=A*x+L*r;h[9]=C*x+O*r;h[10]=F*x+S*r;h[11]=I*x+T*r;return h},NM:function(h,m,r){var x=Math.sin(r);r=Math.cos(r);
var A=m[0],C=m[1],F=m[2],I=m[3],L=m[4],O=m[5],S=m[6],T=m[7];m!==h&&(h[8]=m[8],h[9]=m[9],h[10]=m[10],h[11]=m[11],h[12]=m[12],h[13]=m[13],h[14]=m[14],h[15]=m[15]);h[0]=A*r+L*x;h[1]=C*r+O*x;h[2]=F*r+S*x;h[3]=I*r+T*x;h[4]=L*r-A*x;h[5]=O*r-C*x;h[6]=S*r-F*x;h[7]=T*r-I*x;return h},kM:function(h,m){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=m[0];h[13]=m[1];h[14]=m[2];h[15]=1;return h},jM:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=m[1];h[6]=0;
h[7]=0;h[8]=0;h[9]=0;h[10]=m[2];h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},iE:function(h,m,r){var x=r[0],A=r[1];r=r[2];var C=Math.hypot(x,A,r);if(1E-6>C)return null;C=1/C;x*=C;A*=C;r*=C;C=Math.sin(m);m=Math.cos(m);var F=1-m;h[0]=x*x*F+m;h[1]=A*x*F+r*C;h[2]=r*x*F-A*C;h[3]=0;h[4]=x*A*F-r*C;h[5]=A*A*F+m;h[6]=r*A*F+x*C;h[7]=0;h[8]=x*r*F+A*C;h[9]=A*r*F-x*C;h[10]=r*r*F+m;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},hxa:function(h,m){var r=Math.sin(m);m=Math.cos(m);h[0]=1;h[1]=0;h[2]=0;h[3]=
0;h[4]=0;h[5]=m;h[6]=r;h[7]=0;h[8]=0;h[9]=-r;h[10]=m;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},ixa:function(h,m){var r=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=0;h[2]=-r;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=r;h[9]=0;h[10]=m;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},jxa:function(h,m){var r=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=r;h[2]=0;h[3]=0;h[4]=-r;h[5]=m;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Wga:q,dxa:function(h,m){var r=new qa(3),
x=-m[0],A=-m[1],C=-m[2],F=m[3],I=m[4],L=m[5],O=m[6],S=m[7],T=x*x+A*A+C*C+F*F;0<T?(r[0]=2*(I*F+S*x+L*C-O*A)/T,r[1]=2*(L*F+S*A+O*x-I*C)/T,r[2]=2*(O*F+S*C+I*A-L*x)/T):(r[0]=2*(I*F+S*x+L*C-O*A),r[1]=2*(L*F+S*A+O*x-I*C),r[2]=2*(O*F+S*C+I*A-L*x));q(h,m,r);return h},Zga:t,uxa:p,txa:v,exa:function(h,m,r,x){var A=m[0],C=m[1],F=m[2],I=m[3],L=A+A,O=C+C,S=F+F;m=A*L;var T=A*O;A*=S;var X=C*O;C*=S;F*=S;L*=I;O*=I;I*=S;S=x[0];var W=x[1];x=x[2];h[0]=(1-(X+F))*S;h[1]=(T+I)*S;h[2]=(A-O)*S;h[3]=0;h[4]=(T-I)*W;h[5]=(1-
(m+F))*W;h[6]=(C+L)*W;h[7]=0;h[8]=(A+O)*x;h[9]=(C-L)*x;h[10]=(1-(m+X))*x;h[11]=0;h[12]=r[0];h[13]=r[1];h[14]=r[2];h[15]=1;return h},fxa:function(h,m,r,x,A){var C=m[0],F=m[1],I=m[2],L=m[3],O=C+C,S=F+F,T=I+I;m=C*O;var X=C*S,W=C*T;C=F*S;F*=T;var fa=I*T;I=L*O;S*=L;var da=L*T,aa=x[0],ua=x[1];T=x[2];x=A[0];L=A[1];A=A[2];O=(1-(C+fa))*aa;var pa=(X+da)*aa;aa*=W-S;X=(X-da)*ua;fa=(1-(m+fa))*ua;ua*=F+I;W=(W+S)*T;F=(F-I)*T;m=(1-(m+C))*T;h[0]=O;h[1]=pa;h[2]=aa;h[3]=0;h[4]=X;h[5]=fa;h[6]=ua;h[7]=0;h[8]=W;h[9]=F;
h[10]=m;h[11]=0;h[12]=r[0]+x-(O*x+X*L+W*A);h[13]=r[1]+L-(pa*x+fa*L+F*A);h[14]=r[2]+A-(aa*x+ua*L+m*A);h[15]=1;return h},Vga:function(h,m){var r=m[0],x=m[1],A=m[2];m=m[3];var C=r+r,F=x+x,I=A+A;r*=C;var L=x*C;x*=F;var O=A*C,S=A*F;A*=I;C*=m;F*=m;m*=I;h[0]=1-x-A;h[1]=L+m;h[2]=O-F;h[3]=0;h[4]=L-m;h[5]=1-r-A;h[6]=S+C;h[7]=0;h[8]=O+F;h[9]=S-C;h[10]=1-r-x;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Xga:function(h,m,r,x,A,C,F){var I=1/(r-m),L=1/(A-x),O=1/(C-F);h[0]=2*C*I;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=
2*C*L;h[6]=0;h[7]=0;h[8]=(r+m)*I;h[9]=(A+x)*L;h[10]=(F+C)*O;h[11]=-1;h[12]=0;h[13]=0;h[14]=F*C*2*O;h[15]=0;return h},perspective:function(h,m,r,x,A){m=1/Math.tan(m/2);h[0]=m/r;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=m;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[11]=-1;h[12]=0;h[13]=0;h[15]=0;null!=A&&Infinity!==A?(r=1/(x-A),h[10]=(A+x)*r,h[14]=2*A*x*r):(h[10]=-1,h[14]=-2*x);return h},mya:function(h,m,r,x){var A=Math.tan(m.nza*Math.PI/180),C=Math.tan(m.Swa*Math.PI/180),F=Math.tan(m.Vxa*Math.PI/180);m=Math.tan(m.Hya*Math.PI/
180);var I=2/(F+m),L=2/(A+C);h[0]=I;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=L;h[6]=0;h[7]=0;h[8]=-((F-m)*I*.5);h[9]=(A-C)*L*.5;h[10]=x/(r-x);h[11]=-1;h[12]=0;h[13]=0;h[14]=x*r/(r-x);h[15]=0;return h},Nha:function(h,m,r,x,A,C,F){var I=1/(m-r),L=1/(x-A),O=1/(C-F);h[0]=-2*I;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=-2*L;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=2*O;h[11]=0;h[12]=(m+r)*I;h[13]=(A+x)*L;h[14]=(F+C)*O;h[15]=1;return h},Cha:function(h,m,r,x){var A=m[0],C=m[1];m=m[2];var F=x[0];var I=x[1];var L=x[2];var O=r[0];x=
r[1];var S=r[2];if(1E-6>Math.abs(A-O)&&1E-6>Math.abs(C-x)&&1E-6>Math.abs(m-S))return k(h);r=A-O;x=C-x;O=m-S;var T=1/Math.hypot(r,x,O);r*=T;x*=T;O*=T;S=I*O-L*x;L=L*r-F*O;F=F*x-I*r;(T=Math.hypot(S,L,F))?(T=1/T,S*=T,L*=T,F*=T):F=L=S=0;I=x*F-O*L;var X=O*S-r*F;var W=r*L-x*S;(T=Math.hypot(I,X,W))?(T=1/T,I*=T,X*=T,W*=T):W=X=I=0;h[0]=S;h[1]=I;h[2]=r;h[3]=0;h[4]=L;h[5]=X;h[6]=x;h[7]=0;h[8]=F;h[9]=W;h[10]=O;h[11]=0;h[12]=-(S*A+L*C+F*m);h[13]=-(I*A+X*C+W*m);h[14]=-(r*A+x*C+O*m);h[15]=1;return h},dza:function(h,
m,r,x){var A=m[0],C=m[1];m=m[2];var F=x[0],I=x[1],L=x[2];x=A-r[0];var O=C-r[1];r=m-r[2];var S=x*x+O*O+r*r;0<S&&(S=1/Math.sqrt(S),x*=S,O*=S,r*=S);var T=I*r-L*O;L=L*x-F*r;F=F*O-I*x;S=T*T+L*L+F*F;0<S&&(S=1/Math.sqrt(S),T*=S,L*=S,F*=S);h[0]=T;h[1]=L;h[2]=F;h[3]=0;h[4]=O*F-r*L;h[5]=r*T-x*F;h[6]=x*L-O*T;h[7]=0;h[8]=x;h[9]=O;h[10]=r;h[11]=0;h[12]=A;h[13]=C;h[14]=m;h[15]=1;return h},an:function(h){return"mat4("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+", "+h[9]+
", "+h[10]+", "+h[11]+", "+h[12]+", "+h[13]+", "+h[14]+", "+h[15]+")"},iM:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},add:function(h,m,r){h[0]=m[0]+r[0];h[1]=m[1]+r[1];h[2]=m[2]+r[2];h[3]=m[3]+r[3];h[4]=m[4]+r[4];h[5]=m[5]+r[5];h[6]=m[6]+r[6];h[7]=m[7]+r[7];h[8]=m[8]+r[8];h[9]=m[9]+r[9];h[10]=m[10]+r[10];h[11]=m[11]+r[11];h[12]=m[12]+r[12];h[13]=m[13]+r[13];h[14]=m[14]+r[14];h[15]=m[15]+r[15];return h},bn:u,wM:function(h,m,
r){h[0]=m[0]*r;h[1]=m[1]*r;h[2]=m[2]*r;h[3]=m[3]*r;h[4]=m[4]*r;h[5]=m[5]*r;h[6]=m[6]*r;h[7]=m[7]*r;h[8]=m[8]*r;h[9]=m[9]*r;h[10]=m[10]*r;h[11]=m[11]*r;h[12]=m[12]*r;h[13]=m[13]*r;h[14]=m[14]*r;h[15]=m[15]*r;return h},xM:function(h,m,r,x){h[0]=m[0]+r[0]*x;h[1]=m[1]+r[1]*x;h[2]=m[2]+r[2]*x;h[3]=m[3]+r[3]*x;h[4]=m[4]+r[4]*x;h[5]=m[5]+r[5]*x;h[6]=m[6]+r[6]*x;h[7]=m[7]+r[7]*x;h[8]=m[8]+r[8]*x;h[9]=m[9]+r[9]*x;h[10]=m[10]+r[10]*x;h[11]=m[11]+r[11]*x;h[12]=m[12]+r[12]*x;h[13]=m[13]+r[13]*x;h[14]=m[14]+r[14]*
x;h[15]=m[15]+r[15]*x;return h},Tj:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]&&h[6]===m[6]&&h[7]===m[7]&&h[8]===m[8]&&h[9]===m[9]&&h[10]===m[10]&&h[11]===m[11]&&h[12]===m[12]&&h[13]===m[13]&&h[14]===m[14]&&h[15]===m[15]},gd:function(h,m){var r=h[0],x=h[1],A=h[2],C=h[3],F=h[4],I=h[5],L=h[6],O=h[7],S=h[8],T=h[9],X=h[10],W=h[11],fa=h[12],da=h[13],aa=h[14];h=h[15];var ua=m[0],pa=m[1],sa=m[2],ta=m[3],ra=m[4],Da=m[5],Ea=m[6],Fa=m[7],Ga=m[8],Ia=m[9],
Qa=m[10],Ra=m[11],Aa=m[12],Jb=m[13],Kb=m[14];m=m[15];return Math.abs(r-ua)<=1E-6*Math.max(1,Math.abs(r),Math.abs(ua))&&Math.abs(x-pa)<=1E-6*Math.max(1,Math.abs(x),Math.abs(pa))&&Math.abs(A-sa)<=1E-6*Math.max(1,Math.abs(A),Math.abs(sa))&&Math.abs(C-ta)<=1E-6*Math.max(1,Math.abs(C),Math.abs(ta))&&Math.abs(F-ra)<=1E-6*Math.max(1,Math.abs(F),Math.abs(ra))&&Math.abs(I-Da)<=1E-6*Math.max(1,Math.abs(I),Math.abs(Da))&&Math.abs(L-Ea)<=1E-6*Math.max(1,Math.abs(L),Math.abs(Ea))&&Math.abs(O-Fa)<=1E-6*Math.max(1,
Math.abs(O),Math.abs(Fa))&&Math.abs(S-Ga)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Ga))&&Math.abs(T-Ia)<=1E-6*Math.max(1,Math.abs(T),Math.abs(Ia))&&Math.abs(X-Qa)<=1E-6*Math.max(1,Math.abs(X),Math.abs(Qa))&&Math.abs(W-Ra)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ra))&&Math.abs(fa-Aa)<=1E-6*Math.max(1,Math.abs(fa),Math.abs(Aa))&&Math.abs(da-Jb)<=1E-6*Math.max(1,Math.abs(da),Math.abs(Jb))&&Math.abs(aa-Kb)<=1E-6*Math.max(1,Math.abs(aa),Math.abs(Kb))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},
$o:n,sub:u}),ob=function(){var h=w();return function(m,r,x,A,C,F){r||(r=3);x||(x=0);for(A=A?Math.min(A*r+x,m.length):m.length;x<A;x+=r)h[0]=m[x],h[1]=m[x+1],h[2]=m[x+2],C(h,h,F),m[x]=h[0],m[x+1]=h[1],m[x+2]=h[2];return m}}();ob=Object.freeze({__proto__:null,create:w,clone:function(h){var m=new qa(3);m[0]=h[0];m[1]=h[1];m[2]=h[2];return m},length:y,eg:z,za:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];return h},set:function(h,m,r,x){h[0]=m;h[1]=r;h[2]=x;return h},add:function(h,m,r){h[0]=m[0]+r[0];h[1]=
m[1]+r[1];h[2]=m[2]+r[2];return h},bn:E,multiply:G,ml:P,ceil:function(h,m){h[0]=Math.ceil(m[0]);h[1]=Math.ceil(m[1]);h[2]=Math.ceil(m[2]);return h},floor:function(h,m){h[0]=Math.floor(m[0]);h[1]=Math.floor(m[1]);h[2]=Math.floor(m[2]);return h},min:function(h,m,r){h[0]=Math.min(m[0],r[0]);h[1]=Math.min(m[1],r[1]);h[2]=Math.min(m[2],r[2]);return h},max:function(h,m,r){h[0]=Math.max(m[0],r[0]);h[1]=Math.max(m[1],r[1]);h[2]=Math.max(m[2],r[2]);return h},round:function(h,m){h[0]=Math.round(m[0]);h[1]=
Math.round(m[1]);h[2]=Math.round(m[2]);return h},scale:function(h,m,r){h[0]=m[0]*r;h[1]=m[1]*r;h[2]=m[2]*r;return h},OM:function(h,m,r,x){h[0]=m[0]+r[0]*x;h[1]=m[1]+r[1]*x;h[2]=m[2]+r[2]*x;return h},ly:D,LX:H,xE:J,tX:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];return h},inverse:function(h,m){h[0]=1/m[0];h[1]=1/m[1];h[2]=1/m[2];return h},normalize:M,Wo:Q,eM:R,pc:function(h,m,r,x){var A=m[0],C=m[1];m=m[2];h[0]=A+x*(r[0]-A);h[1]=C+x*(r[1]-C);h[2]=m+x*(r[2]-m);return h},yxa:function(h,m,r,x,A,C){var F=
C*C,I=F*(2*C-3)+1,L=F*(C-2)+C,O=F*(C-1);C=F*(3-2*C);h[0]=m[0]*I+r[0]*L+x[0]*O+A[0]*C;h[1]=m[1]*I+r[1]*L+x[1]*O+A[1]*C;h[2]=m[2]*I+r[2]*L+x[2]*O+A[2]*C;return h},Cwa:function(h,m,r,x,A,C){var F=1-C,I=F*F,L=C*C,O=I*F;I*=3*C;F*=3*L;C*=L;h[0]=m[0]*O+r[0]*I+x[0]*F+A[0]*C;h[1]=m[1]*O+r[1]*I+x[1]*F+A[1]*C;h[2]=m[2]*O+r[2]*I+x[2]*F+A[2]*C;return h},random:function(h,m){m=m||1;var r=2*Ka()*Math.PI,x=2*Ka()-1,A=Math.sqrt(1-x*x)*m;h[0]=Math.cos(r)*A;h[1]=Math.sin(r)*A;h[2]=x*m;return h},XM:function(h,m,r){var x=
m[0],A=m[1];m=m[2];var C=r[3]*x+r[7]*A+r[11]*m+r[15];C=C||1;h[0]=(r[0]*x+r[4]*A+r[8]*m+r[12])/C;h[1]=(r[1]*x+r[5]*A+r[9]*m+r[13])/C;h[2]=(r[2]*x+r[6]*A+r[10]*m+r[14])/C;return h},nia:function(h,m,r){var x=m[0],A=m[1];m=m[2];h[0]=x*r[0]+A*r[3]+m*r[6];h[1]=x*r[1]+A*r[4]+m*r[7];h[2]=x*r[2]+A*r[5]+m*r[8];return h},oia:function(h,m,r){var x=r[0],A=r[1],C=r[2],F=m[0],I=m[1];m=m[2];var L=A*m-C*I,O=C*F-x*m,S=x*I-A*F;r=2*r[3];h[0]=F+L*r+2*(A*S-C*O);h[1]=I+O*r+2*(C*L-x*S);h[2]=m+S*r+2*(x*O-A*L);return h},LM:function(h,
m,r,x){var A=[],C=[];A[0]=m[0]-r[0];A[1]=m[1]-r[1];A[2]=m[2]-r[2];C[0]=A[0];C[1]=A[1]*Math.cos(x)-A[2]*Math.sin(x);C[2]=A[1]*Math.sin(x)+A[2]*Math.cos(x);h[0]=C[0]+r[0];h[1]=C[1]+r[1];h[2]=C[2]+r[2];return h},MM:function(h,m,r,x){var A=[],C=[];A[0]=m[0]-r[0];A[1]=m[1]-r[1];A[2]=m[2]-r[2];C[0]=A[2]*Math.sin(x)+A[0]*Math.cos(x);C[1]=A[1];C[2]=A[2]*Math.cos(x)-A[0]*Math.sin(x);h[0]=C[0]+r[0];h[1]=C[1]+r[1];h[2]=C[2]+r[2];return h},NM:function(h,m,r,x){var A=[],C=[];A[0]=m[0]-r[0];A[1]=m[1]-r[1];A[2]=
m[2]-r[2];C[0]=A[0]*Math.cos(x)-A[1]*Math.sin(x);C[1]=A[0]*Math.sin(x)+A[1]*Math.cos(x);C[2]=A[2];h[0]=C[0]+r[0];h[1]=C[1]+r[1];h[2]=C[2]+r[2];return h},angle:function(h,m){var r=h[0],x=h[1],A=h[2],C=m[0],F=m[1],I=m[2];h=(r=Math.sqrt(r*r+x*x+A*A)*Math.sqrt(C*C+F*F+I*I))&&Q(h,m)/r;return Math.acos(Math.min(Math.max(h,-1),1))},XX:function(h){h[0]=0;h[1]=0;h[2]=0;return h},an:function(h){return"vec3("+h[0]+", "+h[1]+", "+h[2]+")"},Tj:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]},gd:function(h,
m){var r=h[0],x=h[1];h=h[2];var A=m[0],C=m[1];m=m[2];return Math.abs(r-A)<=1E-6*Math.max(1,Math.abs(r),Math.abs(A))&&Math.abs(x-C)<=1E-6*Math.max(1,Math.abs(x),Math.abs(C))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},sub:E,$o:G,eX:P,cX:D,KX:H,ty:y,wE:J,forEach:ob});var pb=function(){var h=V();return function(m,r,x,A,C,F){r||(r=4);x||(x=0);for(A=A?Math.min(A*r+x,m.length):m.length;x<A;x+=r)h[0]=m[x],h[1]=m[x+1],h[2]=m[x+2],h[3]=m[x+3],C(h,h,F),m[x]=h[0],m[x+1]=h[1],m[x+2]=h[2],m[x+3]=
h[3];return m}}();pb=Object.freeze({__proto__:null,create:V,clone:Z,eg:ca,za:Y,set:ha,add:ka,bn:za,multiply:Oa,ml:ab,ceil:function(h,m){h[0]=Math.ceil(m[0]);h[1]=Math.ceil(m[1]);h[2]=Math.ceil(m[2]);h[3]=Math.ceil(m[3]);return h},floor:function(h,m){h[0]=Math.floor(m[0]);h[1]=Math.floor(m[1]);h[2]=Math.floor(m[2]);h[3]=Math.floor(m[3]);return h},min:function(h,m,r){h[0]=Math.min(m[0],r[0]);h[1]=Math.min(m[1],r[1]);h[2]=Math.min(m[2],r[2]);h[3]=Math.min(m[3],r[3]);return h},max:function(h,m,r){h[0]=
Math.max(m[0],r[0]);h[1]=Math.max(m[1],r[1]);h[2]=Math.max(m[2],r[2]);h[3]=Math.max(m[3],r[3]);return h},round:function(h,m){h[0]=Math.round(m[0]);h[1]=Math.round(m[1]);h[2]=Math.round(m[2]);h[3]=Math.round(m[3]);return h},scale:Ua,OM:function(h,m,r,x){h[0]=m[0]+r[0]*x;h[1]=m[1]+r[1]*x;h[2]=m[2]+r[2]*x;h[3]=m[3]+r[3]*x;return h},ly:bb,LX:mb,length:Va,xE:Pa,tX:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];h[3]=-m[3];return h},inverse:function(h,m){h[0]=1/m[0];h[1]=1/m[1];h[2]=1/m[2];h[3]=1/m[3];return h},
normalize:fb,Wo:cb,eM:function(h,m,r,x){var A=r[0]*x[1]-r[1]*x[0],C=r[0]*x[2]-r[2]*x[0],F=r[0]*x[3]-r[3]*x[0],I=r[1]*x[2]-r[2]*x[1],L=r[1]*x[3]-r[3]*x[1];r=r[2]*x[3]-r[3]*x[2];x=m[0];var O=m[1],S=m[2];m=m[3];h[0]=O*r-S*L+m*I;h[1]=-(x*r)+S*F-m*C;h[2]=x*L-O*F+m*A;h[3]=-(x*I)+O*C-S*A;return h},pc:ub,random:function(h,m){m=m||1;do{var r=2*Ka()-1;var x=2*Ka()-1;var A=r*r+x*x}while(1<=A);do{var C=2*Ka()-1;var F=2*Ka()-1;var I=C*C+F*F}while(1<=I);A=Math.sqrt((1-A)/I);h[0]=m*r;h[1]=m*x;h[2]=m*C*A;h[3]=m*
F*A;return h},XM:function(h,m,r){var x=m[0],A=m[1],C=m[2];m=m[3];h[0]=r[0]*x+r[4]*A+r[8]*C+r[12]*m;h[1]=r[1]*x+r[5]*A+r[9]*C+r[13]*m;h[2]=r[2]*x+r[6]*A+r[10]*C+r[14]*m;h[3]=r[3]*x+r[7]*A+r[11]*C+r[15]*m;return h},oia:function(h,m,r){var x=m[0],A=m[1],C=m[2],F=r[0],I=r[1],L=r[2];r=r[3];var O=r*x+I*C-L*A,S=r*A+L*x-F*C,T=r*C+F*A-I*x;x=-F*x-I*A-L*C;h[0]=O*r+x*-F+S*-L-T*-I;h[1]=S*r+x*-I+T*-F-O*-L;h[2]=T*r+x*-L+O*-I-S*-F;h[3]=m[3];return h},XX:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=0;return h},an:function(h){return"vec4("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},Tj:vb,gd:wb,sub:za,$o:Oa,eX:ab,cX:bb,KX:mb,ty:Va,wE:Pa,forEach:pb});var qb=function(){var h=w(),m=z(1,0,0),r=z(0,1,0);return function(x,A,C){var F=Q(A,C);if(-.999999>F)return R(h,m,A),1E-6>y(h)&&R(h,r,A),M(h,h),xb(x,h,Math.PI),x;if(.999999<F)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;R(h,A,C);x[0]=h[0];x[1]=h[1];x[2]=h[2];x[3]=1+F;return fb(x,x)}}(),rb=function(){var h=gb(),m=gb();return function(r,x,A,C,F,I){hb(h,x,F,I);hb(m,A,C,I);hb(r,h,m,2*I*(1-I));return r}}(),
db=function(){var h=f();return function(m,r,x,A){h[0]=x[0];h[3]=x[1];h[6]=x[2];h[1]=A[0];h[4]=A[1];h[7]=A[2];h[2]=-r[0];h[5]=-r[1];h[8]=-r[2];return fb(m,Eb(m,h))}}();qb=Object.freeze({__proto__:null,create:gb,oy:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=1;return h},Vya:xb,qxa:function(h,m){var r=2*Math.acos(m[3]),x=Math.sin(r/2);1E-6<x?(h[0]=m[0]/x,h[1]=m[1]/x,h[2]=m[2]/x):(h[0]=1,h[1]=0,h[2]=0);return r},oxa:function(h,m){h=cb(h,m);return Math.acos(2*h*h-1)},multiply:yb,LM:zb,MM:Ab,NM:Bb,Dwa:function(h,
m){var r=m[0],x=m[1];m=m[2];h[0]=r;h[1]=x;h[2]=m;h[3]=Math.sqrt(Math.abs(1-r*r-x*x-m*m));return h},exp:Cb,Aha:Db,pow:function(h,m,r){Db(h,m);Ua(h,h,r);Cb(h,h);return h},$ya:hb,random:function(h){var m=Ka(),r=Ka(),x=Ka(),A=Math.sqrt(1-m);m=Math.sqrt(m);h[0]=A*Math.sin(2*Math.PI*r);h[1]=A*Math.cos(2*Math.PI*r);h[2]=m*Math.sin(2*Math.PI*x);h[3]=m*Math.cos(2*Math.PI*x);return h},eu:function(h,m){var r=m[0],x=m[1],A=m[2];m=m[3];var C=r*r+x*x+A*A+m*m;C=C?1/C:0;h[0]=-r*C;h[1]=-x*C;h[2]=-A*C;h[3]=m*C;return h},
Ega:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];h[3]=m[3];return h},cxa:Eb,axa:function(h,m,r,x){var A=.5*Math.PI/180;m*=A;r*=A;x*=A;A=Math.sin(m);m=Math.cos(m);var C=Math.sin(r);r=Math.cos(r);var F=Math.sin(x);x=Math.cos(x);h[0]=A*r*x-m*C*F;h[1]=m*C*x+A*r*F;h[2]=m*r*F-A*C*x;h[3]=m*r*x+A*C*F;return h},an:function(h){return"quat("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},clone:Z,eg:ca,za:Y,set:ha,add:ka,$o:yb,scale:Ua,Wo:cb,pc:ub,length:Va,ty:Va,xE:Pa,wE:Pa,normalize:fb,Tj:vb,gd:wb,Lya:qb,aza:rb,
Uya:db});rb=Object.freeze({__proto__:null,create:function(){var h=new qa(8);qa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[4]=0,h[5]=0,h[6]=0,h[7]=0);h[3]=1;return h},clone:function(h){var m=new qa(8);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];m[6]=h[6];m[7]=h[7];return m},eg:function(h,m,r,x,A,C,F,I){var L=new qa(8);L[0]=h;L[1]=m;L[2]=r;L[3]=x;L[4]=A;L[5]=C;L[6]=F;L[7]=I;return L},gxa:function(h,m,r,x,A,C,F){var I=new qa(8);I[0]=h;I[1]=m;I[2]=r;I[3]=x;A*=.5;C*=.5;F*=.5;I[4]=A*x+C*r-F*
m;I[5]=C*x+F*h-A*r;I[6]=F*x+A*m-C*h;I[7]=-A*h-C*m-F*r;return I},Wga:Fb,kM:function(h,m){h[0]=0;h[1]=0;h[2]=0;h[3]=1;h[4]=.5*m[0];h[5]=.5*m[1];h[6]=.5*m[2];h[7]=0;return h},iE:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=0;h[5]=0;h[6]=0;h[7]=0;return h},Uga:function(h,m){var r=gb();v(r,m);var x=new qa(3);t(x,m);Fb(h,r,x);return h},za:Gb,oy:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=1;h[4]=0;h[5]=0;h[6]=0;h[7]=0;return h},set:function(h,m,r,x,A,C,F,I,L){h[0]=m;h[1]=r;h[2]=x;h[3]=A;h[4]=C;h[5]=
F;h[6]=I;h[7]=L;return h},sxa:Y,rxa:function(h,m){h[0]=m[4];h[1]=m[5];h[2]=m[6];h[3]=m[7];return h},Yya:Y,Wya:function(h,m){h[4]=m[0];h[5]=m[1];h[6]=m[2];h[7]=m[3];return h},Zga:function(h,m){var r=m[4],x=m[5],A=m[6],C=m[7],F=-m[0],I=-m[1],L=-m[2];m=m[3];h[0]=2*(r*m+C*F+x*L-A*I);h[1]=2*(x*m+C*I+A*F-r*L);h[2]=2*(A*m+C*L+r*I-x*F);return h},translate:function(h,m,r){var x=m[0],A=m[1],C=m[2],F=m[3],I=.5*r[0],L=.5*r[1];r=.5*r[2];var O=m[4],S=m[5],T=m[6];m=m[7];h[0]=x;h[1]=A;h[2]=C;h[3]=F;h[4]=F*I+A*r-
C*L+O;h[5]=F*L+C*I-x*r+S;h[6]=F*r+x*L-A*I+T;h[7]=-x*I-A*L-C*r+m;return h},LM:function(h,m,r){var x=-m[0],A=-m[1],C=-m[2],F=m[3],I=m[4],L=m[5],O=m[6],S=m[7],T=I*F+S*x+L*C-O*A,X=L*F+S*A+O*x-I*C,W=O*F+S*C+I*A-L*x;I=S*F-I*x-L*A-O*C;zb(h,m,r);x=h[0];A=h[1];C=h[2];F=h[3];h[4]=T*F+I*x+X*C-W*A;h[5]=X*F+I*A+W*x-T*C;h[6]=W*F+I*C+T*A-X*x;h[7]=I*F-T*x-X*A-W*C;return h},MM:function(h,m,r){var x=-m[0],A=-m[1],C=-m[2],F=m[3],I=m[4],L=m[5],O=m[6],S=m[7],T=I*F+S*x+L*C-O*A,X=L*F+S*A+O*x-I*C,W=O*F+S*C+I*A-L*x;I=S*F-
I*x-L*A-O*C;Ab(h,m,r);x=h[0];A=h[1];C=h[2];F=h[3];h[4]=T*F+I*x+X*C-W*A;h[5]=X*F+I*A+W*x-T*C;h[6]=W*F+I*C+T*A-X*x;h[7]=I*F-T*x-X*A-W*C;return h},NM:function(h,m,r){var x=-m[0],A=-m[1],C=-m[2],F=m[3],I=m[4],L=m[5],O=m[6],S=m[7],T=I*F+S*x+L*C-O*A,X=L*F+S*A+O*x-I*C,W=O*F+S*C+I*A-L*x;I=S*F-I*x-L*A-O*C;Bb(h,m,r);x=h[0];A=h[1];C=h[2];F=h[3];h[4]=T*F+I*x+X*C-W*A;h[5]=X*F+I*A+W*x-T*C;h[6]=W*F+I*C+T*A-X*x;h[7]=I*F-T*x-X*A-W*C;return h},Jya:function(h,m,r){var x=r[0],A=r[1],C=r[2];r=r[3];var F=m[0],I=m[1],L=
m[2],O=m[3];h[0]=F*r+O*x+I*C-L*A;h[1]=I*r+O*A+L*x-F*C;h[2]=L*r+O*C+F*A-I*x;h[3]=O*r-F*x-I*A-L*C;F=m[4];I=m[5];L=m[6];O=m[7];h[4]=F*r+O*x+I*C-L*A;h[5]=I*r+O*A+L*x-F*C;h[6]=L*r+O*C+F*A-I*x;h[7]=O*r-F*x-I*A-L*C;return h},Kya:function(h,m,r){var x=m[0],A=m[1],C=m[2];m=m[3];var F=r[0],I=r[1],L=r[2],O=r[3];h[0]=x*O+m*F+A*L-C*I;h[1]=A*O+m*I+C*F-x*L;h[2]=C*O+m*L+x*I-A*F;h[3]=m*O-x*F-A*I-C*L;F=r[4];I=r[5];L=r[6];O=r[7];h[4]=x*O+m*F+A*L-C*I;h[5]=A*O+m*I+C*F-x*L;h[6]=C*O+m*L+x*I-A*F;h[7]=m*O-x*F-A*I-C*L;return h},
Iya:function(h,m,r,x){if(1E-6>Math.abs(x))return Gb(h,m);var A=Math.hypot(r[0],r[1],r[2]);x*=.5;var C=Math.sin(x),F=C*r[0]/A,I=C*r[1]/A;r=C*r[2]/A;x=Math.cos(x);A=m[0];C=m[1];var L=m[2],O=m[3];h[0]=A*x+O*F+C*r-L*I;h[1]=C*x+O*I+L*F-A*r;h[2]=L*x+O*r+A*I-C*F;h[3]=O*x-A*F-C*I-L*r;A=m[4];C=m[5];L=m[6];m=m[7];h[4]=A*x+m*F+C*r-L*I;h[5]=C*x+m*I+L*F-A*r;h[6]=L*x+m*r+A*I-C*F;h[7]=m*x-A*F-C*I-L*r;return h},add:function(h,m,r){h[0]=m[0]+r[0];h[1]=m[1]+r[1];h[2]=m[2]+r[2];h[3]=m[3]+r[3];h[4]=m[4]+r[4];h[5]=m[5]+
r[5];h[6]=m[6]+r[6];h[7]=m[7]+r[7];return h},multiply:Hb,$o:Hb,scale:function(h,m,r){h[0]=m[0]*r;h[1]=m[1]*r;h[2]=m[2]*r;h[3]=m[3]*r;h[4]=m[4]*r;h[5]=m[5]*r;h[6]=m[6]*r;h[7]=m[7]*r;return h},Wo:cb,pc:function(h,m,r,x){var A=1-x;0>cb(m,r)&&(x=-x);h[0]=m[0]*A+r[0]*x;h[1]=m[1]*A+r[1]*x;h[2]=m[2]*A+r[2]*x;h[3]=m[3]*A+r[3]*x;h[4]=m[4]*A+r[4]*x;h[5]=m[5]*A+r[5]*x;h[6]=m[6]*A+r[6]*x;h[7]=m[7]*A+r[7]*x;return h},eu:function(h,m){var r=Pa(m);h[0]=-m[0]/r;h[1]=-m[1]/r;h[2]=-m[2]/r;h[3]=m[3]/r;h[4]=-m[4]/r;
h[5]=-m[5]/r;h[6]=-m[6]/r;h[7]=m[7]/r;return h},Ega:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];h[3]=m[3];h[4]=-m[4];h[5]=-m[5];h[6]=-m[6];h[7]=m[7];return h},length:Va,ty:Va,xE:Pa,wE:Pa,normalize:function(h,m){var r=Pa(m);if(0<r){r=Math.sqrt(r);var x=m[0]/r,A=m[1]/r,C=m[2]/r,F=m[3]/r,I=m[4],L=m[5],O=m[6];m=m[7];var S=x*I+A*L+C*O+F*m;h[0]=x;h[1]=A;h[2]=C;h[3]=F;h[4]=(I-x*S)/r;h[5]=(L-A*S)/r;h[6]=(O-C*S)/r;h[7]=(m-F*S)/r}return h},an:function(h){return"quat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+
", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+")"},Tj:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]&&h[6]===m[6]&&h[7]===m[7]},gd:function(h,m){var r=h[0],x=h[1],A=h[2],C=h[3],F=h[4],I=h[5],L=h[6];h=h[7];var O=m[0],S=m[1],T=m[2],X=m[3],W=m[4],fa=m[5],da=m[6];m=m[7];return Math.abs(r-O)<=1E-6*Math.max(1,Math.abs(r),Math.abs(O))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(A-T)<=1E-6*Math.max(1,Math.abs(A),Math.abs(T))&&Math.abs(C-
X)<=1E-6*Math.max(1,Math.abs(C),Math.abs(X))&&Math.abs(F-W)<=1E-6*Math.max(1,Math.abs(F),Math.abs(W))&&Math.abs(I-fa)<=1E-6*Math.max(1,Math.abs(I),Math.abs(fa))&&Math.abs(L-da)<=1E-6*Math.max(1,Math.abs(L),Math.abs(da))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))}});db=function(){var h=ib();return function(m,r,x,A,C,F){r||(r=2);x||(x=0);for(A=A?Math.min(A*r+x,m.length):m.length;x<A;x+=r)h[0]=m[x],h[1]=m[x+1],C(h,h,F),m[x]=h[0],m[x+1]=h[1];return m}}();db=Object.freeze({__proto__:null,
create:ib,clone:function(h){var m=new qa(2);m[0]=h[0];m[1]=h[1];return m},eg:function(h,m){var r=new qa(2);r[0]=h;r[1]=m;return r},za:function(h,m){h[0]=m[0];h[1]=m[1];return h},set:function(h,m,r){h[0]=m;h[1]=r;return h},add:function(h,m,r){h[0]=m[0]+r[0];h[1]=m[1]+r[1];return h},bn:Sa,multiply:jb,ml:kb,ceil:function(h,m){h[0]=Math.ceil(m[0]);h[1]=Math.ceil(m[1]);return h},floor:function(h,m){h[0]=Math.floor(m[0]);h[1]=Math.floor(m[1]);return h},min:function(h,m,r){h[0]=Math.min(m[0],r[0]);h[1]=
Math.min(m[1],r[1]);return h},max:function(h,m,r){h[0]=Math.max(m[0],r[0]);h[1]=Math.max(m[1],r[1]);return h},round:function(h,m){h[0]=Math.round(m[0]);h[1]=Math.round(m[1]);return h},scale:function(h,m,r){h[0]=m[0]*r;h[1]=m[1]*r;return h},OM:function(h,m,r,x){h[0]=m[0]+r[0]*x;h[1]=m[1]+r[1]*x;return h},ly:Wa,LX:lb,length:Ma,xE:nb,tX:function(h,m){h[0]=-m[0];h[1]=-m[1];return h},inverse:function(h,m){h[0]=1/m[0];h[1]=1/m[1];return h},normalize:function(h,m){var r=m[0],x=m[1];r=r*r+x*x;0<r&&(r=1/Math.sqrt(r));
h[0]=m[0]*r;h[1]=m[1]*r;return h},Wo:function(h,m){return h[0]*m[0]+h[1]*m[1]},eM:function(h,m,r){m=m[0]*r[1]-m[1]*r[0];h[0]=h[1]=0;h[2]=m;return h},pc:function(h,m,r,x){var A=m[0];m=m[1];h[0]=A+x*(r[0]-A);h[1]=m+x*(r[1]-m);return h},random:function(h,m){m=m||1;var r=2*Ka()*Math.PI;h[0]=Math.cos(r)*m;h[1]=Math.sin(r)*m;return h},kza:function(h,m,r){var x=m[0];m=m[1];h[0]=r[0]*x+r[2]*m;h[1]=r[1]*x+r[3]*m;return h},lza:function(h,m,r){var x=m[0];m=m[1];h[0]=r[0]*x+r[2]*m+r[4];h[1]=r[1]*x+r[3]*m+r[5];
return h},nia:function(h,m,r){var x=m[0];m=m[1];h[0]=r[0]*x+r[3]*m+r[6];h[1]=r[1]*x+r[4]*m+r[7];return h},XM:function(h,m,r){var x=m[0];m=m[1];h[0]=r[0]*x+r[4]*m+r[12];h[1]=r[1]*x+r[5]*m+r[13];return h},rotate:function(h,m,r,x){var A=m[0]-r[0];m=m[1]-r[1];var C=Math.sin(x);x=Math.cos(x);h[0]=A*x-m*C+r[0];h[1]=A*C+m*x+r[1];return h},angle:function(h,m){var r=h[0];h=h[1];var x=m[0];m=m[1];var A=Math.sqrt(r*r+h*h)*Math.sqrt(x*x+m*m);return Math.acos(Math.min(Math.max(A&&(r*x+h*m)/A,-1),1))},XX:function(h){h[0]=
0;h[1]=0;return h},an:function(h){return"vec2("+h[0]+", "+h[1]+")"},Tj:function(h,m){return h[0]===m[0]&&h[1]===m[1]},gd:function(h,m){var r=h[0];h=h[1];var x=m[0];m=m[1];return Math.abs(r-x)<=1E-6*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},ty:Ma,sub:Sa,$o:jb,eX:kb,cX:Wa,KX:lb,wE:nb,forEach:db});e.ol=Ob;e.Zxa=Pb;e.$xa=Qb;e.aya=Rb;e.Zo=Sb;e.sya=qb;e.tya=rb;e.sza=db;e.BE=ob;e.Hy=pb;Object.defineProperty(e,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?Xa(exports):"function"===typeof define&&define.wwa?define(["exports"],Xa):(Ta=Ta||self,Xa(Ta.ol={}));
{"use strict";function e(u,w,y,z){var E=w[0]-u[0];w=w[1]-u[1];var G=z[0]-y[0],P=z[1]-y[1];if(0===G*w-P*E)return!1;z=(E*(y[1]-u[1])+w*(u[0]-y[0]))/(G*w-P*E);u=(G*(u[1]-y[1])+P*(y[0]-u[0]))/(P*E-G*w);return 0<=z&&1>=z&&0<=u&&1>=u}function b(u,w,y){return(w[0]-u[0])*(y[1]-u[1])-(y[0]-u[0])*(w[1]-u[1])}function a(u,w,y){return 0<b(u,w,y)}function d(u,w,y){return 0<=b(u,w,y)}function c(u,w,y){return 0>=b(u,w,y)}var Ya=[],Za=[];function f(u,w){var y=w[0]-u[0];u=w[1]-u[1];return y*y+u*u}function l(u,w){var y=
u.length;return u[0>w?w%y+y:w%y]}function g(u,w,y,z){for(;y<z;y++)u.push(w[y])}function k(u,w){var y=l(u,w-1),z=l(u,w);u=l(u,w+1);return 0>b(y,z,u)}var $a=[],sb=[];function n(u,w,y,z){z=z||[];z.length=0;if(w<y)for(var E=w;E<=y;E++)z.push(u[E]);else{for(E=0;E<=y;E++)z.push(u[E]);for(E=w;E<u.length;E++)z.push(u[E])}return z}function q(u){for(var w=[],y,z,E=[],G=Number.MAX_VALUE,P=0;P<u.length;++P)if(k(u,P))for(var D=0;D<u.length;++D){a:{z=u;var H=P,J=D;if(d(l(z,H+1),l(z,H),l(z,J))&&c(l(z,H-1),l(z,H),
l(z,J)))y=!1;else{y=f(l(z,H),l(z,J));for(var M=0;M!==z.length;++M)if((M+1)%z.length!==H&&M!==H&&d(l(z,H),l(z,J),l(z,M+1))&&c(l(z,H),l(z,J),l(z,M))){$a[0]=l(z,H);$a[1]=l(z,J);sb[0]=l(z,M);sb[1]=l(z,M+1);var Q=[0,0];var R=$a[1][1]-$a[0][1];var V=$a[0][0]-$a[1][0];var Z=R*$a[0][0]+V*$a[0][1];var ca=sb[1][1]-sb[0][1];var Y=sb[0][0]-sb[1][0];var ha=ca*sb[0][0]+Y*sb[0][1];var ka=R*Y-ca*V;0>=Math.abs(ka-0)||(Q[0]=(Y*Z-V*ha)/ka,Q[1]=(R*ha-ca*Z)/ka);ka=Q;if(f(l(z,H),ka)<y){y=!1;break a}}y=!0}}if(y){y=q(n(u,
P,D,E));z=q(n(u,D,P,E));for(H=0;H<z.length;H++)y.push(z[H]);y.length<G&&(w=y,G=y.length,w.push([l(u,P),l(u,D)]))}}return w}function t(u,w){if(0===w.length)return[u];if(w instanceof Array&&w.length&&w[0]instanceof Array&&2===w[0].length&&w[0][0]instanceof Array){u=[u];for(var y=0;y<w.length;y++)for(var z=w[y],E=0;E<u.length;E++){var G=t(u[E],z);if(G){u.splice(E,1);u.push(G[0],G[1]);break}}return u}z=w;y=u.indexOf(z[0]);E=u.indexOf(z[1]);return-1!==y&&-1!==E?[n(u,y,E),n(u,E,y)]:!1}function p(u,w,y,
z,E){var G=w[1]-u[1];w=u[0]-w[0];u=G*u[0]+w*u[1];var P=z[1]-y[1];z=y[0]-z[0];y=P*y[0]+z*y[1];var D=G*z-P*w;return Math.abs(D-0)<=(E||0)?[0,0]:[(z*u-w*y)/D,(G*y-P*u)/D]}function v(u,w,y,z,E,G,P){G=G||100;P=P||0;E=E||25;w="undefined"!==typeof w?w:[];y=y||[];z=z||[];var D=[0,0],H=[0,0],J=[0,0],M,Q=0,R=0,V=0,Z=[],ca=[];if(3>u.length)return w;P++;if(P>G)return console.warn("quickDecomp: max level ("+G+") reached."),w;for(var Y=0;Y<u.length;++Y)if(k(u,Y)){y.push(u[Y]);var ha=M=Number.MAX_VALUE;for(var ka=
0;ka<u.length;++ka){if(a(l(u,Y-1),l(u,Y),l(u,ka))&&c(l(u,Y-1),l(u,Y),l(u,ka-1))){J=p(l(u,Y-1),l(u,Y),l(u,ka),l(u,ka-1));var za=l(u,Y+1);var Oa=l(u,Y);0>b(za,Oa,J)&&(za=f(u[Y],J),za<M&&(M=za,H=J,R=ka))}a(l(u,Y+1),l(u,Y),l(u,ka+1))&&c(l(u,Y+1),l(u,Y),l(u,ka))&&(J=p(l(u,Y+1),l(u,Y),l(u,ka),l(u,ka+1)),a(l(u,Y-1),l(u,Y),J)&&(za=f(u[Y],J),za<ha&&(ha=za,D=J,Q=ka)))}if(R===(Q+1)%u.length)J[0]=(H[0]+D[0])/2,J[1]=(H[1]+D[1])/2,z.push(J),Y<Q?(g(Z,u,Y,Q+1),Z.push(J),ca.push(J),0!==R&&g(ca,u,R,u.length),g(ca,
u,0,Y+1)):(0!==Y&&g(Z,u,Y,u.length),g(Z,u,0,Q+1),Z.push(J),ca.push(J),g(ca,u,R,Y+1));else{R>Q&&(Q+=u.length);D=Number.MAX_VALUE;if(Q<R)return w;for(ka=R;ka<=Q;++ka)if(d(l(u,Y-1),l(u,Y),l(u,ka))&&c(l(u,Y+1),l(u,Y),l(u,ka))){za=f(l(u,Y),l(u,ka));if(R=za<D)a:{R=u;H=Y;J=ka;for(ha=0;ha!==R.length;++ha)if(ha!==H&&ha!==J&&(ha+1)%R.length!==H&&(ha+1)%R.length!==J&&e(l(R,H),l(R,J),l(R,ha),l(R,ha+1))){R=!1;break a}R=!0}R&&(D=za,V=ka%u.length)}Y<V?(g(Z,u,Y,V+1),0!==V&&g(ca,u,V,u.length),g(ca,u,0,Y+1)):(0!==
Y&&g(Z,u,Y,u.length),g(Z,u,0,V+1),g(ca,u,V,Y+1))}Z.length<ca.length?(v(Z,w,y,z,E,G,P),v(ca,w,y,z,E,G,P)):(v(ca,w,y,z,E,G,P),v(Z,w,y,z,E,G,P));return w}w.push(u);return w}self.pya={Qwa:function(u){var w=q(u);return 0<w.length?t(u,w):[u]},uya:v,Fxa:function(u){var w;for(w=0;w<u.length-1;w++)for(var y=0;y<w-1;y++)if(e(u[w],u[w+1],u[y],u[y+1]))return!1;for(w=1;w<u.length-2;w++)if(e(u[0],u[u.length-1],u[w],u[w+1]))return!1;return!0},zya:function(u,w){for(var y=0,z=u.length-1;3<u.length&&0<=z;--z){var E=
l(u,z-1);var G=l(u,z),P=l(u,z+1),D=w;D?(Ya[0]=G[0]-E[0],Ya[1]=G[1]-E[1],Za[0]=P[0]-G[0],Za[1]=P[1]-G[1],E=Math.acos((Ya[0]*Za[0]+Ya[1]*Za[1])/(Math.sqrt(Ya[0]*Ya[0]+Ya[1]*Ya[1])*Math.sqrt(Za[0]*Za[0]+Za[1]*Za[1])))<D):E=0===b(E,G,P);E&&(u.splice(z%u.length,1),y++)}return y},Aya:function(u,w){for(var y=u.length-1;1<=y;--y)for(var z=u[y],E=y-1;0<=E;--E){var G=z,P=u[E],D=w;Math.abs(G[0]-P[0])<=(D||0)&&Math.abs(G[1]-P[1])<=(D||0)&&u.splice(y,1)}},Yxa:function(u){for(var w=0,y=1;y<u.length;++y)if(u[y][1]<
u[w][1]||u[y][1]===u[w][1]&&u[y][0]>u[w][0])w=y;if(a(l(u,w-1),l(u,w),l(u,w+1)))return!1;w=[];y=u.length;for(var z=0;z!==y;z++)w.push(u.pop());for(z=0;z!==y;z++)u[z]=w[z];return!0}}}{"use strict";const e=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};e.fu=!1;e.qM=!1;e.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Hi={}}
{"use strict";const e=self.B;e.fQ=class{constructor(b){this.Wfa=b;this.Na=new Map;this.fca()}fca(){var b=this.Wfa;if(b.startsWith("?")||b.startsWith("#"))b=b.substr(1);b=b.split("&");for(const a of b)this.gca(a)}gca(b){if(b)if(b.includes("=")){var a=b.indexOf("="),d=decodeURIComponent(b.substring(0,a));b=decodeURIComponent(b.substring(a+1));this.Na.set(d,b)}else this.Na.set(b,null)}Mz(b){return this.Na.has(b)}ea(b){b=this.Na.get(b);return"undefined"===typeof b?null:b}};e.vG=new e.fQ(location.search);
e.spa=new e.fQ(location.hash);e.vG.ea("mode")}
{"use strict";const e=self.B,b=navigator.userAgent;let a={zha:/linux|openbsd|freebsd|netbsd/i.test(b),Bga:/CrOS/.test(b),CE:/trident|iemobile|msie|tizen/i.test(b),nxa:/trident|iemobile|msie|edge\//i.test(b),opera:/OPR\//.test(b),VW:/bb10/i.test(b),Qga:/edge\//i.test(b),QX:/trident/i.test(b),webkit:/webkit/i.test(b),bia:/safari\//i.test(b),Aga:/chrome\//i.test(b),Cga:/chromium\//i.test(b),Gga:/crosswalk|xwalk/i.test(b),gya:/nwjs/i.test(b),pga:/amazonwebappplatform/i.test(b),xia:/wv\)/.test(b),qga:/android/i.test(b),
Jha:/nokiabrowser\/[0-9.]+/i.test(b)};var tb=/mac\s+os\s+x\s+[0-9_]+/i.exec(b),Lb=/android\s+[0-9.]+/i.exec(b),Mb=/OPR\/[0-9.]+/.exec(b),Nb=/tizen\s+[0-9.]+/i.exec(b),Tb=/iphone\s+os\s+[0-9_]+/i.exec(b),Ub=/ipad[^)]*os\s+[0-9_]+/i.exec(b),Vb=/windows\s+phone\s+[0-9.]+/i.exec(b),Wb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(b),Xb=/chrome\/[0-9.]+/i.exec(b),Yb=/chromium\/[0-9.]+/i.exec(b),Zb=/nwjs\/[0-9.]+/i.exec(b),$b=/firefox\/[0-9.]+/i.exec(b),ac=/msie\s+[0-9.]+/i.exec(b),bc=/edge\/[0-9.]+/i.exec(b),
cc=/edg\/[0-9.]+/i.exec(b),dc=/silk\/[0-9.]+/i.exec(b);let d="(unknown)",c="(unknown)",f="(unknown)",l="(unknown)",g="(unknown)",k="browser",n=!1,q=!1,t=new Map;function p(u,w,y){!0===w?(y(),t.set(u,!0)):w&&w.length&&(y(w[0]),t.set(u,!0))}p("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(b),u=>{d="Windows";if(u=u.split(" ")[2])switch(u){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});p("isOSX",tb,u=>{d="Mac OS X";(u=u.split(" ")[3])&&(c=u.replace("_","."))});p("isLinux",a.zha,()=>{d="Linux"});p("isChromeOS",a.Bga,()=>{d="Chrome OS"});p("isAndroid",!a.CE&&Lb,u=>{d="Android";(u=u.split(" ")[1])&&(c=u)});p("isTizen",Nb,u=>{d="Tizen";(u=u.split(" ")[1])&&(c=u)});p("isIPhone",!a.CE&&Tb,u=>{d="iOS";(u=u.split(" ")[2])&&(c=u.replace("_","."))});p("isIPad",!a.CE&&Ub,u=>{d="iOS";(u=u.split(" ")[3])&&(c=u.replace("_","."))});p("isWindowsPhone",Vb,u=>{d="Windows Phone";
(u=u.split(" ")[2])&&(c=u)});p("isWindowsPhoneOS",Wb,u=>{d="Windows Phone";(u=u.split(" ")[3])&&(c=u)});p("isBlackberry",a.VW,()=>{d="Blackberry";c="10";f="stock";g="webkit"});p("isChrome",!a.Qga&&!a.opera&&Xb,u=>{f="Chrome";g="Chromium";(u=u.split("/")[1])&&(l=u)});p("isOpera",Mb,u=>{f="Opera";g="Chromium";(u=u.split("/")[1])&&(l=u)});p("isChromium",Yb,u=>{g=f="Chromium";(u=u.split("/")[1])&&(l=u)});p("isFirefox",$b,u=>{f="Firefox";g="Gecko";(u=u.split("/")[1])&&(l=u)});p("isInternetExplorer",ac,
u=>{f="Internet Explorer";g="Trident";(u=u.split(" ")[1])&&(l=u)});p("isTrident","Internet Explorer"!==f&&a.QX,()=>{g="Trident";var u=/rv:[0-9.]+/i.exec(b);u&&u.length&&(f="Internet Explorer",(u=u[0].split(":")[1])&&(l=u))});p("isEdge",bc,u=>{g=f="Edge";(u=u.split("/")[1])&&(l=u)});p("isEdgeChromium",cc,u=>{f="Edge";g="Chromium";(u=u.split("/")[1])&&(l=u)});p("isSafari",a.bia&&!a.Jha&&!a.Aga&&!a.Cga&&!a.mxa&&!a.VW,()=>{f="Safari";g="WebKit";var u=/version\/[0-9.]+/i.exec(b),w=/crios\/[0-9.]+/i.exec(b),
y=/fxios\/[0-9.]+/i.exec(b);u&&u.length&&(u=u[0].split("/")[1])&&(l=u);w&&w.length&&(f="Chrome for iOS",(w=w[0].split("/")[1])&&(l=w));y&&y.length&&(f="Firefox for iOS",(y=y[0].split("/")[1])&&(l=y))});p("isSilk",dc,u=>{f="Silk";(u=u.split("/")[1])&&(l=u)});p("isCrosswalk",a.Gga,()=>k="crosswalk");p("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>k="cordova");p("isNWJS",Zb,u=>{k="nwjs";f="NW.js";g="Chromium";(u=u.split("/")[1])&&(l=u)});p("isAmazonWebApp",a.pga,()=>k="webapp");
p("isHomeScreenWebApp","nwjs"!==k&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>k="webapp");p("isFalseSafari","Safari"===f&&("Android"===d||"Tizen"===d||"Blackberry"===d),()=>f="stock");p("isAndroidWebview","Chrome"===f&&"browser"===k&&a.xia,()=>k="webview");p("isFirefoxOS","Firefox"===f&&"(unknown)"===d,()=>d="Firefox OS");p("isAndroidFallback","(unknown)"===d&&!a.CE&&a.qga,()=>d="Android");p("isTridentFallback",
"(unknown)"===d&&a.QX,()=>g="Trident");p("isWebkitFallback","(unknown)"===d&&a.webkit,()=>g="WebKit");p("isDesktop","Windows"===d||"Mac OS X"===d||"Linux"===d||"Chrome OS"===d||"nwjs"===k,()=>n=!0);q="nwjs"===k;const v="Mac OS X"===d&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;v&&(d="iOS",c=l,q=n=!1);e.kd={Zr:d,Spa:c,Ic:f,aka:l,NE:parseFloat(l),Ny:g,TE:k,qoa:n,Vz:!n,roa:q,moa:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),ioa:"Mac OS X"===d||"iOS"===d,zoa:v,Coa:"Linux"===d}}"use strict";
{const e=new Map,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function d(v){return new Promise((u,w)=>{v.onsuccess=()=>u(v.result);v.onerror=()=>w(v.error)})}function c(v){return new Promise((u,w)=>{v.oncomplete=()=>u();v.onerror=()=>w(v.error);v.onabort=()=>w(v.error)})}function f(v,u){return g(v,u)}function l(v,u){return g(v,u,!0)}async function g(v,u,w=!1,
y=!0){const z=await k(v);try{const E=z.transaction(["keyvaluepairs"],w?"readwrite":"readonly");return u(E)}catch(E){if(y&&"InvalidStateError"===E.name)return e.delete(v),g(v,u,w,!1);throw E;}}function k(v){q(v);let u=e.get(v);u instanceof Promise||(u=n(v),e.set(v,u),u.catch(()=>e.delete(v)));return u}async function n(v){q(v);const u=indexedDB.open(v,2);u.addEventListener("upgradeneeded",w=>{try{w.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${v}`,
y)}});return d(u)}function q(v){if("string"!==typeof v)throw new TypeError("expected string");}function t(v,u){const w=v.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const z=[];w.onsuccess=E=>{if(E=E.target.result){switch(u){case "entries":z.push([E.key,E.value]);break;case "keys":z.push(E.key);break;case "values":z.push(E.value)}E.continue()}else y(z)}})}class p{constructor(v){q(v);this.name=v}async ready(){await k(this.name)}set(v,u){q(v);return l(this.name,async w=>{var y=w.objectStore("keyvaluepairs").put(u,
v);y=d(y);w=c(w);await Promise.all([w,y])})}get(v){q(v);return f(this.name,async u=>{var w=u.objectStore("keyvaluepairs").get(v);w=d(w);u=c(u);[,u]=await Promise.all([u,w]);return u})}delete(v){q(v);return l(this.name,async u=>{var w=u.objectStore("keyvaluepairs").delete(v);w=d(w);u=c(u);await Promise.all([u,w])})}clear(){return l(this.name,async v=>{var u=v.objectStore("keyvaluepairs").clear();u=d(u);v=c(v);await Promise.all([v,u])})}keys(){return f(this.name,async v=>{if(a){var u=v.objectStore("keyvaluepairs").getAllKeys();
u=d(u)}else u=t(v,"keys");v=c(v);[,v]=await Promise.all([v,u]);return v})}values(){return f(this.name,async v=>{if(b){var u=v.objectStore("keyvaluepairs").getAll();u=d(u)}else u=t(v,"values");v=c(v);[,v]=await Promise.all([v,u]);return v})}entries(){return f(this.name,async v=>{var u=t(v,"entries");v=c(v);[,u]=await Promise.all([v,u]);return u})}}self.t3=p}"use strict";
{const e=self.t3,b=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],a=new WeakMap;let d=!1;"undefined"===typeof indexedDB&&(d=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(k){throw Error(`"${k}" is not implemented`);
}function f(k){if("function"===typeof k)throw Error("localforage callback API is not implemented; please use the promise API instead");}function l(k){return"object"===typeof k?new Promise(n=>{const {port1:q,port2:t}=new MessageChannel;t.onmessage=p=>n(p.data);q.postMessage(k)}):Promise.resolve(k)}class g{constructor(k){this.R=k;a.set(this,new Map)}Xv(k){if(!d)for(const n of b)if(k&&n.test(k.message)){console.error("Unable to use local storage, reverting to in-memory store: ",k,k.message);d=!0;break}}async NU(k){k=
a.get(this).get(k);k=await l(k);return"undefined"===typeof k?null:k}async qW(k,n){n=await l(n);a.get(this).set(k,n)}hW(k){a.get(this).delete(k)}kU(){a.get(this).clear()}rV(){return Array.from(a.get(this).keys())}async getItem(k,n){f(n);if(d)return await this.NU(k);let q;try{q=await this.R.get(k)}catch(t){this.Xv(t);if(d)return await this.NU(k);console.error(`Error reading '${k}' from storage, returning null: `,t);return null}return"undefined"===typeof q?null:q}async setItem(k,n,q){f(q);"undefined"===
typeof n&&(n=null);if(d)await this.qW(k,n);else try{await this.R.set(k,n)}catch(t){if(this.Xv(t),d)await this.qW(k,n);else throw t;}}async removeItem(k,n){f(n);if(d)this.hW(k);else try{await this.R.delete(k)}catch(q){this.Xv(q),d?this.hW(k):console.error(`Error removing '${k}' from storage: `,q)}}async clear(k){f(k);if(d)this.kU();else try{await this.R.clear()}catch(n){this.Xv(n),d?this.kU():console.error("Error clearing storage: ",n)}}async keys(k){f(k);if(d)return this.rV();k=[];try{k=await this.R.keys()}catch(n){this.Xv(n);
if(d)return this.rV();console.error("Error getting storage keys: ",n)}return k}ready(k){f(k);return d?Promise.resolve(!0):this.R.ready()}dM(k){if("object"!==typeof k)throw new TypeError("invalid options object");k=k.name;if("string"!==typeof k)throw new TypeError("invalid store name");k=new e(k);return new g(k)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new g(new e("localforage"))}
{"use strict";const e=self.B;e.$b={};e.$b.bwa=(()=>{try{if("Safari"===e.kd.Ic||"undefined"===typeof document)return!1;const b=document.createElement("div");return"undefined"===typeof b.animate?!1:"undefined"!==typeof b.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(b){return!1}})();e.$b.Ola="undefined"!==typeof HTMLDialogElement;e.$b.Mra=!!self.requestIdleCallback;e.$b.ImageBitmap=!!self.createImageBitmap;e.$b.ImageBitmapOptions=!1;if(e.$b.ImageBitmap)try{self.createImageBitmap(new ImageData(32,32),
{premultiplyAlpha:"none"}).then(()=>{e.$b.ImageBitmapOptions=!0}).catch(()=>{e.$b.ImageBitmapOptions=!1})}catch(b){e.$b.ImageBitmapOptions=!1}e.$b.Ska=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===e.kd.Ic);e.$b.sqa=!(!navigator.permissions||!navigator.permissions.query);e.$b.dQ="undefined"!==typeof Proxy;e.$b.Rla="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;e.$b.zu="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;
e.$b.vma="function"===typeof fetch;e.$b.uqa=!!(self.isSecureContext&&"Opera"!==e.kd.Ic&&navigator.storage&&navigator.storage.persist);e.$b.Nua=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var ec;if("undefined"===typeof document||"iOS"===e.kd.Zr)ec=!1;else{var fc=document.documentElement;ec=!!(fc.requestFullscreen||fc.msRequestFullscreen||fc.mozRequestFullScreen||fc.webkitRequestFullscreen)}e.$b.e0=ec;e.$b.Tna="undefined"!==typeof self.ImageDecoder;e.$b.Npa=!!self.showOpenFilePicker;
e.$b.Opa=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const e=self.B;if(!String.prototype.trimStart){const b=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(b,"")}}if(!String.prototype.trimEnd){const b=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(b,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(b,a){return this.replace(new RegExp(e.Eu(b),"g"),a)});Array.prototype.values||(Array.prototype.values=function*(){for(const b of this)yield b});if(!Array.prototype.flat){function b(a,d){return a.reduce((c,f)=>{0<d&&Array.isArray(f)?Array.prototype.push.apply(c,b(f,d-1)):c.push(f);return c},[])}Array.prototype.flat=function(a=1){return b(this,a)}}Array.prototype.Se||(Array.prototype.Se=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);
if(!(0>b||b>=this.length))return this[b]});String.prototype.Se||(String.prototype.Se=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);if(!(0>b||b>=this.length))return this[b]});RegExp.escape||(RegExp.escape=function(b){return String(b).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((b,a)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((d,
c)=>b({usage:d,quota:c}),a))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const e=self.B;self.assert=function(b,a){b||console.error("Assertion failure: "+a+"\n\nStack trace:\n"+e.kz())}}
{"use strict";const e=self.B,b=self.Hi;e.vn=function(d){return"number"===typeof d};e.sn=function(d){return e.vn(d)&&isFinite(d)};e.ng=function(d){if(!e.vn(d))throw new TypeError("expected number");};e.oQ=function(){};e.isa=function(d,c,f){if(!e.vn(d)||isNaN(d)||c>d||f<d)throw new RangeError("number outside of range");};e.Vra=function(...d){for(let c of d);};e.Rl=function(d){if(!e.sn(d))throw new TypeError("expected finite number");};e.lQ=function(){};e.Sra=function(...d){for(let c of d);};e.Ui=function(d){return"string"===
typeof d};e.Ae=function(d){if(!e.Ui(d))throw new TypeError("expected string");};e.qQ=function(){};e.Xra=function(...d){for(let c of d);};e.fP=function(d){return"object"!==typeof d||null===d?!1:(d=Object.getPrototypeOf(d))?d.constructor===Object:null===d};e.ysa=function(d){if(!e.fP(d))throw new TypeError("expected simple object");};e.vsa=function(d){if(!e.ye(d)&&!e.fP(d))throw new TypeError("expected simple object");};e.eP=function(d){return"object"===typeof d&&null!==d&&!Array.isArray(d)};e.jQ=function(d){if(!e.eP(d))throw new TypeError("expected object");
};e.pQ=function(){};e.Wra=function(...d){for(let c of d);};e.dG=function(d){return e.tn(d,Blob)&&"string"===typeof d.name};e.gsa=function(d){if(!e.dG(d))throw new TypeError("expected file");};e.ssa=function(){};e.zp=function(d){return Array.isArray(d)};e.CG=function(d){if(!e.zp(d))throw new TypeError("expected array");};e.kQ=function(){};e.Rra=function(...d){for(let c of d);};e.O2=function(d){return e.zp(d)?d.length?e.zp(d[0])?!0:!1:!0:!1};e.Qra=function(d){if(!e.O2(d))throw new TypeError("expected 2d array");
for(let c of d)if(!e.zp(c))throw new TypeError("expected 2d array");};e.jsa=function(){};e.eG=function(d){return"function"===typeof d};e.sk=function(d,c){if(!e.eG(d))throw new TypeError("expected function");if(!e.ye(c)&&d!==c)throw new TypeError("expected same function reference");};e.mQ=function(){};e.Tra=function(...d){for(let c of d);};e.Zra=function(d,...c){if(!e.eG(d))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let f of c)if(!e.ye(f)&&
d===f)return;throw new TypeError("expected same function reference");};e.ksa=function(...d){if(!e.ye(d))for(let c of d);};e.tn=function(d,c){return d instanceof c};e.bP=function(d,...c){for(let f of c)if(e.tn(d,f))return!0;return!1};e.DG=function(d,c){if(!e.tn(d,c))throw new TypeError("unexpected type");};e.nQ=function(){};e.Ura=function(d,...c){for(let f of c);};e.$ra=function(d,...c){if(!e.bP(d,...c))throw new TypeError("unexpected type");};e.asa=function(d,...c){if(!e.ye(d)&&!e.bP(d,...c))throw new TypeError("unexpected type");
};e.joa=function(d,c){for(let f of d)if(!e.tn(f,c))return!1;return!0};e.koa=function(d){for(let c of d)if(!e.sn(c))return!1;return!0};e.bsa=function(d){for(let c of d);};e.lsa=function(d){if(!e.ye(d))for(let c of d);};e.csa=function(d){for(let c of d);};e.nsa=function(d){if(!e.ye(d))for(let c of d);};e.noa=function(d,c){return e.ye(d)||!e.Ui(d.nodeName)?!1:!c||e.Hh(d.nodeName,c)};e.dsa=function(d,c){if(e.ye(d)||!e.Ui(d.nodeName))throw new TypeError("expected DOM node");if(c&&!e.Hh(d.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};e.osa=function(){};e.gG=function(d,c){return e.ye(d)||!e.Ui(d.tagName)?!1:!c||e.Hh(d.tagName,c)};e.hsa=function(d,c){if(e.ye(d)||!e.Ui(d.tagName))throw new TypeError("expected HTML element");if(c&&!e.Hh(d.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};e.usa=function(){};e.WO=function(d){return e.gG(d,"img")||e.gG(d,"canvas")||e.gG(d,"video")||"undefined"!==typeof OffscreenCanvas&&d instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&d instanceof ImageBitmap};e.esa=function(d){if(!e.WO(d))throw new TypeError("expected drawable");
};e.qsa=function(){};e.XO=function(d){return d instanceof ImageData?!0:e.WO(d)};e.fsa=function(d){if(!e.XO(d))throw new TypeError("expected drawable or image data");};e.rsa=function(d){if(!e.ye(d)&&!e.XO(d))throw new TypeError("expected drawable or image data");};e.m3=function(d){return"string"===typeof d||d instanceof e.WF||d instanceof e.rl};e.zsa=function(d){if(!e.m3(d))throw new TypeError("expected string-like");};e.wsa=function(){};e.Yra=function(...d){for(let c of d);};e.xsa=function(){throw Error("must be overridden");
};e.Rpa=function(){throw Error("not yet implemented");};e.poa=function(d,...c){if("undefined"===typeof d)return!1;for(let f of c){if("undefined"===typeof d[f])return!1;d=d[f]}return!0};e.ye=function(d){return"undefined"===typeof d||null===d};e.zja=function(d){let c=d[0].constructor;for(let f of d)if(f.constructor!==c)return!1;return c};e.Aja=function(d,c){for(let f of d)if(!(f instanceof c))return!1;return!0};const a=Object.getPrototypeOf(Uint8Array);e.Woa=function(d){return e.tn(d,a)};e.Asa=function(){};
e.Yva=function(d){e.w8(d,a)};e.Xva=function(d,...c){if(!e.v8(d,...c))throw new TypeError("unexpected type");};e.v8=function(d,...c){for(const f of c)if(e.sR(d,f))return!0;return!1};e.w8=function(d,c){if(!e.sR(d,c))throw new TypeError("unexpected type");};e.sR=function(d,c){for(;d=Object.getPrototypeOf(d);)if(d.constructor.name===c.name)return!0;return!1};b.ng=e.ng;b.oQ=e.oQ;b.Rl=e.Rl;b.lQ=e.lQ;b.Ae=e.Ae;b.qQ=e.qQ;b.jQ=e.jQ;b.pQ=e.pQ;b.CG=e.CG;b.kQ=e.kQ;b.sk=e.sk;b.mQ=e.mQ;b.DG=e.DG;b.nQ=e.nQ;b.ye=
e.ye}
{"use strict";const e=self.B,b=new Map;e.Ara=function(t,...p){b.has(t)||b.set(t,-1);-1===b.get(t)&&b.set(t,requestAnimationFrame(()=>{console.log(`%c${t}`,"font-weight: bold",...p);b.set(t,-1)}))};e.kz=function(){return Error().stack};e.Mla=function(){debugger};e.Iwa=function(t,p){return t&&t instanceof p?t:null};e.nl=function(t){return"undefined"===typeof t?"undefined":null===t?"null":"boolean"===typeof t?"<boolean>":e.vn(t)?"<number>":e.Ui(t)?"<string>":e.zp(t)?"<array>":"symbol"===typeof t?"<"+
t.toString()+">":e.eG(t)?t.name&&"Function"!==t.name?t.name:"<anonymous function>":"object"===typeof t?t.constructor&&t.constructor.name&&"Object"!==t.constructor.name?t.constructor.name:"<anonymous object>":"<unknown>"};e.jE=function(t){return null===t?"null":Array.isArray(t)?"array":typeof t};e.range=function*(t,p){if(!isFinite(Math.abs(t-p)))throw Error("Invalid parameters");if(t>p)for(--t;t>=p;t--)yield t;else for(;t<p;t++)yield t};let a=new Map,d=new Map,c=new WeakMap,f=new WeakMap;e.Dr={};const l=
new Set(["then","splice"]);function g(t){console.warn("[Defence] "+t+" @",e.kz())}e.Dr.get=function(t,p){p in t||"symbol"===typeof p||l.has(p)||g(`Accessed missing property '${p}' from defended object '${e.nl(t)}', returning undefined`);f.has(t)&&"symbol"!==typeof p&&!l.has(p)&&g(`Accessed property '${p}' on a released object '${e.nl(t)}'\nObject was originally released at: ${f.get(t)})\nCall stack at access: `);return t[p]};e.Dr.set=function(t,p,v){p in t||a.has(t)||g(`Set non-existent property '${p}' to '${v}' on defended object '${e.nl(t)}'`);
{var u=e.jE(t[p]);let w=e.jE(v);u="null"===u||"null"===w?!0:"undefined"===u||"undefined"===w?!1:u===w}u||a.has(t)||g(`Set '${e.jE(t[p])}' property '${p}' to type '${e.jE(v)}' on defended object '${e.nl(t)}'`);f.has(t)&&g(`Set property '${p}' on a released object '${e.nl(t)}'\nObject was originally released at: ${f.get(t)})\nCall stack at access: `);t[p]=v;return!0};e.Dr.deleteProperty=function(t,p){throw new ReferenceError(`Cannot delete property '${p}' from defended object '${e.nl(t)}'`);};e.Dr.defineProperty=
function(t,p){throw new ReferenceError(`Cannot define property '${p}' on defended object '${e.nl(t)}'`);};e.Dr.Uwa=function(t){throw new ReferenceError(`Cannot enumerate defended object '${e.nl(t)}'`);};let k=-1;function n(){k=-1;if(0<a.size||0<d.size){let t=[...new Set([...a.keys()].map(p=>e.nl(p)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${t}`);a.clear();
d.clear()}}e.oa=class{constructor(){if(e.qM&&e.$b.dQ){var t=new.target;t=Object.create(t.prototype);var p=new Proxy(t,e.Dr);a.set(t,p);d.set(p,t);c.set(p,t);-1===k&&(k=requestAnimationFrame(n));return p}}};e.Iga=function(t){if(e.qM&&e.$b.dQ&&t instanceof e.oa){if(!d.has(t))return t;let p=d.get(t);d.delete(t);a.delete(p);return t}return e.fu?Object.seal(t):t};e.C=function(t,...p){let v;try{v=new t(...p)}catch(y){throw d.clear(),a.clear(),y;}if(e.qM){p=v;var u=new Set;for(w in p)u.add(w);var w=u;if(p=
q.get(t)){u=[];for(let y of p.values())w.has(y)?w.delete(y):u.push(y);e.Vm(u,[...w]);u.length&&console.warn(`[Defence] '${e.nl(t)}' constructor creates inconsistent properties: ${u.join(", ")}`)}else q.set(t,w)}return e.Iga(v)};e.j=function(t){(t=c.get(t))&&f.set(t,e.kz())};e.Qp=function(){let t=c.get(void 0);return t?!!f.get(t):!1};let q=new Map;e.qqa=class{constructor(t){this.Ja="";t&&this.start(t)}start(t){this.Ja=t;performance.mark(this.Ja+"-Start")}end(){performance.mark(this.Ja+"-End");performance.measure(this.Ja,
this.Ja+"-Start",this.Ja+"-End")}next(t){this.end();this.Ja=t;performance.mark(this.Ja+"-Start")}}}
{"use strict";const e=self.B,b=2*Math.PI,a=Math.PI/180,d=180/Math.PI;e.wrap=function(f,l,g){f=Math.floor(f);l=Math.floor(l);g=Math.floor(g);return f<l?(f=g-(l-f)%(g-l),f===g?0:f):l+(f-l)%(g-l)};e.Dha=function(f,l,g,k){return(f-l)*(k-0)/(g-l)};e.normalize=function(f,l,g){return(f-l)/(g-l)};e.fa=function(f,l,g){return f<l?l:f>g?g:f};e.Vd=function(f){f%=b;0>f&&(f+=b);return f};e.Ia=function(f){return f*a};e.le=function(f){return f*d};e.ll=function(f,l,g,k){return Math.hypot(g-f,k-l)};e.dX=function(f,
l,g,k){f=g-f;l=k-l;return f*f+l*l};e.hy=function(f,l,g,k){return Math.atan2(k-l,g-f)};e.$t=function(f,l){if(f===l)return 0;f=Math.sin(f)*Math.sin(l)+Math.cos(f)*Math.cos(l);return 1<=f?0:-1>=f?Math.PI:Math.acos(f)};e.ZL=function(f,l,g){let k=Math.sin(f),n=Math.cos(f),q=Math.sin(l),t=Math.cos(l);return Math.acos(k*q+n*t)>g?0<n*q-k*t?e.Vd(f+g):e.Vd(f-g):e.Vd(l)};e.$f=function(f,l){return 0>=Math.cos(f)*Math.sin(l)-Math.sin(f)*Math.cos(l)};e.YL=function(f,l,g,k=0){let n=e.$t(f,l);k*=b;return e.$f(l,
f)?e.Vd(f+(n+k)*g):e.Vd(f-(n+k)*g)};e.sga=function(f,l,g,k=0){const n=e.$t(f,l);k*=b;return e.$f(l,f)?e.Vd(f+(n+k)*g):e.Vd((b-n+k)*g)};e.rga=function(f,l,g,k=0){const n=e.$t(f,l);k*=b;return e.$f(l,f)?e.Vd((-b+n-k)*g):e.Vd(f-(n+k)*g)};e.pc=function(f,l,g){return f+g*(l-f)};e.AE=function(f,l,g){return f===l?0:(g-f)/(l-f)};e.Xha=function(f,l,g,k){return e.pc(0,k,e.AE(f,l,g))};e.rE=function(f,l,g,k){return e.pc(e.pc(f,l,k),e.pc(l,g,k),k)};e.bX=function(f,l,g,k,n){return e.pc(e.rE(f,l,g,n),e.rE(l,g,k,
n),n)};e.aX=function(f,l,g){return(f+l+(f-l)*Math.cos(g*Math.PI))/2};e.pl=function(f){return 0<f&&0===(f-1&f)};e.yM=function(f){--f;for(let l=1;32>l;l<<=1)f|=f>>l;return f+1};e.Mya=function(f,l){return Math.round(f*l)/l};e.Zwa=function(f,l){return Math.floor(f*l)/l};e.FX=function(f){return Math.round(1E6*f)/1E6};e.toFixed=function(f,l){f=f.toFixed(l);for(l=f.length-1;0<=l&&"0"===f.charAt(l);--l);0<=l&&"."===f.charAt(l)&&--l;return 0>l?f:f.substr(0,l+1)};e.g5=function(f,l,g){return e.fa(f,0,255)|e.fa(l,
0,255)<<8|e.fa(g,0,255)<<16};e.fA=function(f,l,g,k){f=e.fa(Math.floor(1024*f),-8192,8191);l=e.fa(Math.floor(1024*l),-8192,8191);g=e.fa(Math.floor(1024*g),-8192,8191);k=e.fa(Math.floor(1023*k),0,1023);0>f&&(f+=16384);0>l&&(l+=16384);0>g&&(g+=16384);return-(274877906944*f+16777216*l+1024*g+k)};e.aQ=function(f,l,g){return e.fA(f,l,g,1)};e.KF=function(f){if(0<=f)return(f&255)/255;f=Math.floor(-f/274877906944);8191<f&&(f-=16384);return f/1024};e.yF=function(f){if(0<=f)return((f&65280)>>8)/255;f=Math.floor(-f%
274877906944/16777216);8191<f&&(f-=16384);return f/1024};e.kF=function(f){if(0<=f)return((f&16711680)>>16)/255;f=Math.floor(-f%16777216/1024);8191<f&&(f-=16384);return f/1024};e.h0=function(f){return 0===f&&0>1/f?0:0<=f?1:Math.floor(-f%1024)/1023};e.cha=function(f,l){f=Math.floor(f);for(l=Math.floor(l);0!==l;){let g=l;l=f%l;f=g}return f};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];e.pxa=function(f,l){f=Math.floor(f);l=Math.floor(l);if(f===l)return[1,1];for(var g of c){let k=
f/g[0]*g[1];if(1>Math.abs(l-k))return g.slice(0);k=f/g[1]*g[0];if(1>Math.abs(l-k))return[g[1],g[0]]}g=e.cha(f,l);return[f/g,l/g]};e.Tya=function(f,l,g,k,n,q,t,p){var v=Math.min(f,g),u=Math.max(n,t);if(Math.max(f,g)<Math.min(n,t)||v>u)return!1;v=Math.min(l,k);u=Math.max(q,p);if(Math.max(l,k)<Math.min(q,p)||v>u)return!1;v=n-f+t-g;u=q-l+p-k;f=g-f;l=k-l;n=t-n;q=p-q;p=Math.abs(l*n-q*f);return Math.abs(n*u-q*v)>p?!1:Math.abs(f*u-l*v)<=p};e.$m=function(f,l,g,k,n,q,t,p,v,u,w,y){const z=Math.max(v,w);if(q<
Math.min(v,w)||n>z)return!1;n=Math.max(u,y);if(p<Math.min(u,y)||t>n)return!1;t=v-f+w-g;p=u-l+y-k;f=g-f;l=k-l;v=w-v;u=y-u;y=Math.abs(l*v-u*f);return Math.abs(v*p-u*t)>y?!1:Math.abs(f*p-l*t)<=y};e.sE=function(f,l,g,k,n){const q=Math.min(f,g),t=Math.max(f,g),p=Math.min(l,k),v=Math.max(l,k),u=n.Gb,w=n.Hb,y=n.wc,z=n.xc,E=n.Ec,G=n.Fc,P=n.sc;n=n.tc;return e.$m(f,l,g,k,q,t,p,v,u,w,y,z)||e.$m(f,l,g,k,q,t,p,v,y,z,E,G)||e.$m(f,l,g,k,q,t,p,v,E,G,P,n)||e.$m(f,l,g,k,q,t,p,v,P,n,u,w)};e.Sya=function(f,l,g,k,n){const q=
Math.min(f,g),t=Math.max(f,g),p=Math.min(l,k),v=Math.max(l,k);let u=0;for(let w=n.length-4;u<=w;u+=2)if(e.$m(f,l,g,k,q,t,p,v,n[u],n[u+1],n[u+2],n[u+3]))return!0;return e.$m(f,l,g,k,q,t,p,v,n[u],n[u+1],n[0],n[1])};e.Wha=function(f,l,g,k,n,q,t,p){g-=f;q=p-q;const v=g*q-(k-l)*(t-n);if(0===v)return 2;k=((l-k)*(t-f)+g*(p-l))/v;return 0<k&&1.000001>k?(q*(t-f)+(n-t)*(p-l))/v:2};e.zy=function(f,l,g,k,n,q,t,p,v){const u=(t-n)*v;v*=p-q;return e.Wha(f,l,g,k,n-u,q-v,t+u,p+v)};e.nha=function(f,l,g,k,n,q,t,p){n-=
g;q-=k;t-=g;p-=k;f-=g;g=l-k;l=n*n+q*q;k=n*t+q*p;n=n*f+q*g;q=t*t+p*p;t=t*f+p*g;p=1/(l*q-k*k);q=(q*n-k*t)*p;n=(l*t-k*n)*p;return 0<=q&&0<=n&&1>=q+n};e.ria=function(f,l,g,k,n,q,t,p){n-=g;q-=k;t-=g;p-=k;f-=g;const v=l-k;l=n*n+q*q;k=n*t+q*p;g=t*t+p*p;n=f*n+v*q;q=f*t+v*p;t=l*g-k*k;p=(g*n-k*q)/t;n=(l*q-k*n)/t;return[1-p-n,p,n]};e.qia=function(f,l,g,k,n,q,t,p,v){return[f*k+l*q+g*p,f*n+l*t+g*v]}}
{"use strict";const e=self.B;let b=null,a="";if("undefined"!==typeof document){b=document;const k=document.querySelector("base");if(a=k&&k.hasAttribute("href")?k.getAttribute("href"):"")a.startsWith("/")&&(a=a.substr(1)),a.endsWith("/")||(a+="/")}e.hna=function(){return a};e.lF=function(){if(!b)return"";const k=b.location;return e.i1(k.origin+k.pathname)+a};e.i1=function(k){if(!k.length||k.endsWith("/")||k.endsWith("\\"))return k;const n=Math.max(k.lastIndexOf("/"),k.lastIndexOf("\\"));return-1===
n?"":k.substr(0,n+1)};e.lna=function(k){if(!k.length)return k;if(k.endsWith("/")||k.endsWith("\\"))return"";const n=Math.max(k.lastIndexOf("/"),k.lastIndexOf("\\"));return-1===n?k:k.substr(n+1)};e.E0=function(k){let n=k.lastIndexOf(".");return 1>n?"":k.substr(n)};e.sz=function(k){let n=k.lastIndexOf(".");return 1>n?k:k.substr(0,n)};e.U3=function(k){return k.replace(/\\/g,"/")};e.toa=function(k,n){return n===(k?e.E0(k).slice(1):"")};e.wma=function(k,n){let q,t;e.dG(k)&&(q=e.sz(k.name));e.Ui(k)&&(q=
e.sz(k));e.dG(n)&&(t=e.sz(n.name));e.Ui(n)&&(t=e.sz(n));return q===t};e.nqa=function(k){k=e.U3(k);let n=/^\w:\//.exec(k);n?(n=n[0],k=k.slice(3),"/"!==k[0]&&(k="/"+k)):n="";k=k.replace(/\/{2,}/g,"/");1<k.length&&"/"===k.slice(-1)&&(k=k.slice(0,-1));var q=k.lastIndexOf("/")+1;let t="",p=k,v="";0<q&&(t=k.slice(0,q),p=k.slice(q));k=p;q=p.lastIndexOf(".");0<q&&(v=p.slice(q),k=p.slice(0,-v.length));return{dir:t,Bwa:p,name:k,root:n,ext:v,kxa:n+t+p}};e.oH=function(k,n){return new Promise(q=>{self.setTimeout(q,
k,n)})};e.cza=function(k){try{k()}catch(n){e.fu&&console.warn("Swallowed exception: ",n)}};e.eya=function(){};e.Hh=function(k,n){return"string"!==typeof k||"string"!==typeof n?!1:k===n||k.normalize().toLowerCase()===n.normalize().toLowerCase()};e.Vwa=function(k,n){return"string"!==typeof k||"string"!==typeof n?!1:k===n?!0:k.normalize()===n.normalize()};e.sia=function(k,n){var q=0;k[q++]=n[0];k[q++]=n[1];k[q++]=n[2];k[q++]=n[3];k[q++]=n[4];k[q++]=n[5];k[q++]=n[6];k[q++]=n[7];k[q++]=n[8];k[q++]=n[9];
k[q++]=n[10];k[q++]=n[11];k[q++]=n[12];k[q++]=n[13];k[q++]=n[14];k[q]=n[15]};e.Ef=function(k,n){k.length=n};e.G=function(k){k&&0!==k.length&&e.Ef(k,0)};e.Dga=function(k){if(k){for(let n=0;n<k.length;n++)e.Ef(k[n],0);e.Ef(k,0)}};e.hE=function(k,n,q){n|=0;var t=k.length;if(!(n<=t))for(;t<n;++t)k.push(q)};e.EX=function(k){var n=4;const q=k.length;n<q?e.Ef(k,n):n>q&&e.hE(k,n,"0")};e.Cd=function(k,n){e.G(k);e.Vm(k,n)};e.Vm=function(k,n){if(1E4>n.length)k.push(...n);else for(let q=0,t=n.length;q<t;++q)k.push(n[q])};
e.wga=function(k,n){n=Math.floor(n);if(!(0>n||n>=k.length)){for(var q=k.length-1;n<q;++n)k[n]=k[n+1];e.Ef(k,q)}};e.qr=function(k,n){n=k.indexOf(n);0<=n&&k.splice(n,1)};e.Awa=function(k,n){let q=k.length;if(n.length!==q)return!1;for(let t=0;t<q;++t)if(k[t]!==n[t])return!1;return!0};e.vga=function(k,n){let q=[],t=0;for(let p=0,v=k.length;p<v;++p){let u=k[p];n(u)?q.push(u):(k[t]=u,++t)}e.Ef(k,t);return q};e.Gh=function(k,n){const q=k.length;let t=0;for(let p=0,v=k.length;p<v;++p){let u=k[p];n.has(u)||
(k[t++]=u)}e.Ef(k,t);return q-t};e.jha=function(k,n){return k!==Math.floor(k)?!1:0<=k&&k<n.length};e.rza=function(k,n){if(!e.jha(k,n))throw new RangeError("array index out of bounds");};e.cE=function(k){return k.slice()};e.Jga=function(k,n){let q=[];for(let t of k)if(e.eP(t)){k=n(t);if(!k)throw Error("missing clone");if(k.constructor!==t.constructor)throw Error("object is not a clone");q.push(k)}else e.zp(t)?q.push(e.Jga(t,n)):q.push(t);return q};e.Jwa=function(k){let n=[];for(let q of k)n.push(q.slice());
return n};e.bya=function(k,n){return new Set([...k,...n])};e.cya=function(k,n){for(const q of n)k.add(q);return k};e.first=function(k){for(let n of k)return n;return null};e.xor=function(k,n){return!k!==!n};e.compare=function(k,n,q){switch(n){case 0:return k===q;case 1:return k!==q;case 2:return k<q;case 3:return k<=q;case 4:return k>q;case 5:return k>=q;default:return!1}};e.xxa=function(k){for(let n in k)if(k.hasOwnProperty(n))return!0;return!1};e.s5=function(k,n){return k.length?new Promise((q,
t)=>{const p=[];let v=0,u=!1;for(let w=0,y=k.length;w<y;++w)p.push(void 0),k[w].then(z=>{u||(p[w]=z,++v,v===k.length?q(p):n(v,k.length))}).catch(z=>{u=!0;t(z)})}):Promise.resolve([])};let d=[];e.Xia=function(k){d.push(k)};e.kna=function(){let k=0;for(let n of d){let q=n();k+=q}return Math.floor(k)};let c=1;const f=new Map,l=new MessageChannel;l.port2.onmessage=function(k){k=k.data;const n=f.get(k);f.delete(k);n&&n(performance.now())};e.BG=function(k){const n=c++;f.set(n,k);l.port1.postMessage(n);
return n};e.RY=function(k){f.delete(k)};e.m5=e.BG;e.s8=function(){return new Promise(k=>e.m5(k))};const g=new Set;e.Pra=function(k){const n=self.requestAnimationFrame(async q=>{await e.s8();g.has(n)&&(g.delete(n),k(q))});g.add(n);return n};e.Lka=function(k){g.has(k)&&(self.cancelAnimationFrame(k),g.delete(k))}}
{"use strict";const e=self.B;e.aG=function(b){return/^(?:[a-z\-]+:)?\/\//.test(b)||"data:"===b.substr(0,5)||"blob:"===b.substr(0,5)};e.kG=function(b){return!e.aG(b)};e.X7=function(b){if(!b.ok)throw Error(`fetch '${b.url}' response returned ${b.status} ${b.statusText}`);};e.hz=function(b){return fetch(b,void 0).then(a=>{e.X7(a);return a})};e.Gu=function(b){return e.hz(b).then(a=>a.text())};e.ON=function(b){return e.hz(b).then(a=>a.json())};e.xl=function(b){return e.hz(b).then(a=>a.blob())};e.Fu=function(b){return e.hz(b).then(a=>
a.arrayBuffer())};e.Z_=function(b){return new Promise((a,d)=>{const c=new Image;c.onload=()=>a(c);c.onerror=f=>d(f);c.src=b})};e.HY=function(b){return"function"===typeof b.arrayBuffer?b.arrayBuffer():new Promise((a,d)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>d(c.error);c.readAsArrayBuffer(b)})};e.gN=function(b){return"function"===typeof b.text?b.text():new Promise((a,d)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>d(c.error);c.readAsText(b)})};e.Rja=function(b){return e.gN(b).then(a=>
JSON.parse(a))};e.fN=async function(b,a){b=URL.createObjectURL(b);try{const d=await e.Z_(b);URL.revokeObjectURL(b);b="";a&&"function"===typeof d.decode&&await d.decode();return d}finally{b&&URL.revokeObjectURL(b)}};e.Ff=function(b,a){if("undefined"!==typeof document&&"function"===typeof document.createElement){const d=document.createElement("canvas");d.width=b;d.height=a;return d}return new OffscreenCanvas(b,a)};e.zu=function(b,a,d){"number"!==typeof d&&(d=1);a=a||"image/png";d=e.fa(d,0,1);return b.toBlob?
new Promise(c=>b.toBlob(c,a,d)):b.convertToBlob?b.convertToBlob({type:a,quality:d}):e.ql(()=>e.pN(b,a,d))};e.pN=function(b,a,d){"number"!==typeof d&&(d=1);a=a||"image/png";d=e.fa(d,0,1);return e.AZ(b.toDataURL(a,d))};e.AZ=function(b){b=e.h5(b);return e.GY(b.data,b.Eha)};e.h5=function(b){if("data:"!==b.substr(0,5))throw new URIError("expected data: uri");var a=b.indexOf(",");if(0>a)throw new URIError("expected comma in data: uri");var d=b.substring(a+1);a=b.substring(5,a).split(";");b=a[0]||"";let c=
a[2];d="base64"===a[1]||"base64"===c?atob(d):decodeURIComponent(d);return{Eha:b,data:d}};e.GY=function(b,a){var d=b.length;let c=d>>2,f=new Uint8Array(d),l=new Uint32Array(f.buffer,0,c),g,k;for(k=g=0;g<c;++g)l[g]=b.charCodeAt(k++)|b.charCodeAt(k++)<<8|b.charCodeAt(k++)<<16|b.charCodeAt(k++)<<24;for(d&=3;d--;)f[k]=b.charCodeAt(k),++k;return a?new Blob([f],{type:a}):new Blob([f])};e.GN=function(b){const a=e.Ff(b.width,b.height);a.getContext("2d").drawImage(b,0,0);return e.zu(a,void 0,void 0)};e.Sna=
function(b,a,d){const c=e.Ff(b.width,b.height);c.getContext("2d").putImageData(b,0,0);return e.pN(c,a,d)};e.d2=function(b){if(e.$b.ImageBitmapOptions)return createImageBitmap(b,{premultiplyAlpha:"none"}).then(a=>e.GN(a));if(e.$b.ImageBitmap)return createImageBitmap(b).then(a=>e.GN(a));{const a=e.Ff(b.width,b.height);a.getContext("2d").putImageData(b,0,0);return e.zu(a,void 0,void 0)}};e.pZ=function(b,a){b.clear();for(const d of a)b.add(d)};e.zpa=function(b){const a=Object.create(null);for(const [d,
c]of b.entries())a[d]=c;return a};e.Tpa=function(b,a){a.clear();for(const [d,c]of Object.entries(b))a.set(d,c)};e.mH=function d(a){if("object"===typeof a&&null!==a){if(a instanceof Set)return{_c3type_:"set",data:[...a].map(c=>d(c))};if(a instanceof Map)return{_c3type_:"map",data:[...a].map(c=>[c[0],d(c[1])])};{const c=Object.create(null);for(const [f,l]of Object.entries(a))c[f]=d(l);return c}}return a};e.hF=function c(d){if("object"===typeof d&null!==d){if("set"===d._c3type_)return new Set(d.data.map(f=>
c(f)));if("map"===d._c3type_)return new Map(d.data.map(f=>[f[0],c(f[1])]));{const f=Object.create(null);for(const [l,g]of Object.entries(d))f[l]=c(g);return f}}return d};e.KY=function(d){let c="",f=!1;for(const l of d)"-"===l?f=!0:f?(c+=l.toUpperCase(),f=!1):c+=l;return c};e.un=function(d){return"object"===typeof d&&"function"===typeof d.next};e.K3=function(d){const c=[];for(let f=0;f<d;++f)c.push(0);return c}}
{"use strict";const e=self.B,b=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?/i,a=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?,([0-9.])/i;function d(c,f,l){0>l&&(l+=1);1<l&&--l;return l<1/6?c+6*(f-c)*l:.5>l?f:l<2/3?c+(f-c)*(2/3-l)*6:c}e.lb=class{constructor(c,f,l,g){this.$a=this.hb=this.ib=this.fb=0;c instanceof e.lb?this.set(c):this.ep(c||0,f||0,l||0,g||0)}vE(c,f,l){this.fb=+c;this.ib=+f;this.hb=+l;this.fa()}ep(c,f,l,g){this.fb=+c;this.ib=+f;this.hb=+l;this.$a=+g;this.fa()}set(c){this.fb=c.fb;this.ib=c.ib;this.hb=c.hb;
this.$a=c.$a;return this}za(c){return this.set(c)}add(c){this.fb+=c.fb;this.ib+=c.ib;this.hb+=c.hb;this.$a+=c.$a;this.fa()}SW(c,f,l){this.fb+=+c;this.ib+=+f;this.hb+=+l;this.$a+=0;this.fa()}Wm(c){this.fb=c.fb;this.ib=c.ib;this.hb=c.hb}tr(c){this.fb=e.fa(+c,0,1)}ou(c){this.ib=e.fa(+c,0,1)}nu(c){this.hb=e.fa(+c,0,1)}Ih(c){this.$a=e.fa(+c,0,1)}clone(){return e.C(e.lb,this.fb,this.ib,this.hb,this.$a)}toArray(){return[this.fb,this.ib,this.hb,this.$a]}Jh(c,f){c[f++]=this.fb;c[f++]=this.ib;c[f++]=this.hb;
c[f]=this.$a}gd(c){return this.fb===c.fb&&this.ib===c.ib&&this.hb===c.hb&&this.$a===c.$a}Xo(c){return this.fb===c.fb&&this.ib===c.ib&&this.hb===c.hb}my(c,f,l,g){return this.fb===c&&this.ib===f&&this.hb===l&&this.$a===g}multiply(c){this.fb*=c.fb;this.ib*=c.ib;this.hb*=c.hb;this.$a*=c.$a}qE(){this.fb*=this.$a;this.ib*=this.$a;this.hb*=this.$a}fa(){this.fb=e.fa(this.fb,0,1);this.ib=e.fa(this.ib,0,1);this.hb=e.fa(this.hb,0,1);this.$a=e.fa(this.$a,0,1);return this}Dy(c){this.fb=e.KF(c);this.ib=e.yF(c);
this.hb=e.kF(c);this.$a=e.h0(c)}Yga(){return`rgb(${100*(e.sn(void 0)?NaN:this.fb)}%, ${100*(e.sn(void 0)?NaN:this.ib)}%, ${100*(e.sn(void 0)?NaN:this.hb)}%)`}Pha(c){if("string"===typeof c){c=c.trim();"#"===c.charAt(0)&&(c=c.substr(1));if(3===c.length){var f=parseInt(c[0],16)/15;var l=parseInt(c[1],16)/15;c=parseInt(c[2],16)/15}else if(6===c.length)f=parseInt(c.substr(0,2),16)/255,l=parseInt(c.substr(2,2),16)/255,c=parseInt(c.substr(4,2),16)/255;else return;isFinite(f)&&this.tr(f);isFinite(l)&&this.ou(l);
isFinite(c)&&this.nu(c);this.Ih(1)}}oE(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var f=c.split(",");if(!(3>f.length)){c=parseInt(f[0].trim(),10)/255;var l=parseInt(f[1].trim(),10)/255;f=parseInt(f[2].trim(),10)/255;isFinite(c)&&this.tr(c);isFinite(l)&&this.ou(l);isFinite(f)&&this.nu(f);this.Ih(1)}}}wX(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var f=c.split(",");if(!(3>f.length)){c=parseInt(f[0].trim(),10)/100;var l=parseInt(f[1].trim(),10)/100;f=parseInt(f[2].trim(),
10)/100;isFinite(c)&&this.tr(c);isFinite(l)&&this.ou(l);isFinite(f)&&this.nu(f);this.Ih(1)}}}yX(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var f=c.split(",");if(!(4>f.length)){c=parseInt(f[0].trim(),10)/255;var l=parseInt(f[1].trim(),10)/255,g=parseInt(f[2].trim(),10)/255;f=parseFloat(f[3].trim());isFinite(c)&&this.tr(c);isFinite(l)&&this.ou(l);isFinite(g)&&this.nu(g);isFinite(f)&&this.Ih(f)}}}xX(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var f=c.split(",");if(!(4>f.length)){c=
parseInt(f[0].trim(),10)/100;var l=parseInt(f[1].trim(),10)/100,g=parseInt(f[2].trim(),10)/100;f=parseFloat(f[3].trim());isFinite(c)&&this.tr(c);isFinite(l)&&this.ou(l);isFinite(g)&&this.nu(g);isFinite(f)&&this.Ih(f)}}}zX(c){if("string"===typeof c){c=c.replace(/\s+/,"");if(c.includes(",")){if(c.startsWith("rgb(")){c.includes("%")?this.wX(c):this.oE(c);return}if(c.startsWith("rgba(")){c.includes("%")?this.xX(c):this.yX(c);return}if(c.startsWith("hsl(")||c.startsWith("hsla(")){this.Oha(c);return}{const f=
c.split(",");if(c.includes("%")){if(3===f.length){this.wX(c);return}4===f.length&&this.xX(c)}else{if(3===f.length){this.oE(c);return}4===f.length&&this.yX(c)}return}}this.Pha(c)}}toJSON(){return[this.fb,this.ib,this.hb,this.$a]}HX(c,f,l,g){c%=360;f=e.fa(f,0,100);l=e.fa(l,0,100);g=e.fa(g,0,1);c/=360;f/=100;l/=100;if(0===f)l=f=c=l;else{const k=.5>l?l*(1+f):l+f-l*f,n=2*l-k;l=d(n,k,c+1/3);f=d(n,k,c);c=d(n,k,c-1/3)}this.tr(l);this.ou(f);this.nu(c);this.Ih(g)}Oha(c){var f=c.replace(/ |hsl|hsla|\(|\)|;/gi,
"");c=b.exec(f);f=a.exec(f);c&&4===c.length?this.HX(+c[1],+c[2],+c[3],1):f&&5===f.length&&this.HX(+c[1],+c[2],+c[3],+c[4])}cp(c){!Array.isArray(c)||3>c.length||(this.fb=c[0],this.ib=c[1],this.hb=c[2],this.$a=4<=c.length?c[3]:1)}set r(c){this.tr(c)}get r(){return this.fb}set So(c){this.Ih(c)}get So(){return this.$a}static aF(c,f){return e.fa(Math.max(c,f)-Math.min(c,f),0,1)}};e.lb.fwa=Object.freeze(e.C(e.lb,1,1,1,1));e.lb.Qja=Object.freeze(e.C(e.lb,0,0,0,1));e.lb.uva=Object.freeze(e.C(e.lb,0,0,0,0))}
{"use strict";const e=self.B;e.Jv=class{constructor(b,a){this.V=this.$=0;b instanceof e.Jv?this.za(b):this.set(b||0,a||0)}set(b,a){this.$=+b;this.V=+a}za(b){this.$=b.$;this.V=b.V}gd(b){return this.$===b.$&&this.V===b.V}toArray(){return[this.$,this.V]}Jh(b,a){b[a++]=this.$;b[a]=this.V}offset(b,a){this.$+=+b;this.V+=+a}scale(b,a){this.$*=b;this.V*=a}ml(b,a){this.$/=b;this.V/=a}round(){this.$=Math.round(this.$);this.V=Math.round(this.V)}floor(){this.$=Math.floor(this.$);this.V=Math.floor(this.V)}ceil(){this.$=
Math.ceil(this.$);this.V=Math.ceil(this.V)}angle(){return e.hy(0,0,this.$,this.V)}xha(){return this.$*this.$+this.V*this.V}length(){return Math.sqrt(this.xha())}$ha(b,a){const d=this.$*a-this.V*b;this.V=this.V*a+this.$*b;this.$=d}rotate(b){0!==b&&this.$ha(Math.sin(b),Math.cos(b))}move(b,a){0!==a&&(this.$+=Math.cos(b)*a,this.V+=Math.sin(b)*a)}normalize(){const b=this.length();0!==b&&1!==b&&(this.$/=b,this.V/=b)}fa(b,a){this.$=e.fa(this.$,b,a);this.V=e.fa(this.V,b,a)}}}
{"use strict";const e=self.B;e.Rect=class{constructor(b,a,d,c){this.Z=this.ca=this.S=this.X=0;b instanceof e.Rect?this.za(b):this.set(b||0,a||0,d||0,c||0)}set(b,a,d,c){this.X=+b;this.S=+a;this.ca=+d;this.Z=+c}Fi(b,a,d,c){b=+b;a=+a;this.X=b;this.S=a;this.ca=b+ +d;this.Z=a+ +c}za(b){this.X=+b.X;this.S=+b.S;this.ca=+b.ca;this.Z=+b.Z}clone(){return new e.Rect(this.X,this.S,this.ca,this.Z)}gd(b){return this.X===b.X&&this.S===b.S&&this.ca===b.ca&&this.Z===b.Z}dia(b){this.ca=+b}toArray(){return[this.X,this.S,
this.ca,this.Z]}lia(){new DOMRect(this.X,this.S,this.width(),this.height())}Jh(b,a){b[a++]=this.X;b[a++]=this.S;b[a++]=this.ca;b[a]=this.Z}zia(b,a){b[a++]=this.X;b[a++]=this.S;b[a++]=this.ca;b[a++]=this.S;b[a++]=this.ca;b[a++]=this.Z;b[a++]=this.X;b[a]=this.Z}width(){return this.ca-this.X}height(){return this.Z-this.S}ku(){return(this.X+this.ca)/2}lu(){return(this.S+this.Z)/2}offset(b,a){b=+b;a=+a;this.X+=b;this.S+=a;this.ca+=b;this.Z+=a}offsetLeft(b){this.X+=+b}offsetTop(b){this.S+=+b}Lha(b){this.ca+=
+b}Kha(b){this.Z+=+b}kE(b,a){b=+b;a=+a;this.X-=b;this.S-=a;this.ca+=b;this.Z+=a}multiply(b,a){this.X*=b;this.S*=a;this.ca*=b;this.Z*=a}ml(b,a){this.X/=b;this.S/=a;this.ca/=b;this.Z/=a}jia(){const b=this.X;this.X=this.ca;this.ca=b}ur(){const b=this.S;this.S=this.Z;this.Z=b}RM(b){const a=this.S;this.S=+b-this.Z;this.Z=+b-a}round(){this.X=Math.round(this.X);this.S=Math.round(this.S);this.ca=Math.round(this.ca);this.Z=Math.round(this.Z)}aia(){this.X=Math.floor(this.X);this.S=Math.floor(this.S);this.ca=
Math.ceil(this.ca);this.Z=Math.ceil(this.Z)}floor(){this.X=Math.floor(this.X);this.S=Math.floor(this.S);this.ca=Math.floor(this.ca);this.Z=Math.floor(this.Z)}ceil(){this.X=Math.ceil(this.X);this.S=Math.ceil(this.S);this.ca=Math.ceil(this.ca);this.Z=Math.ceil(this.Z)}fa(b,a,d,c){this.X<b&&(this.X=+b);this.S<a&&(this.S=+a);this.ca>d&&(this.ca=+d);this.Z>c&&(this.Z=+c)}$W(){0>this.X&&(this.X=0);1<this.S&&(this.S=1);1<this.ca&&(this.ca=1);0>this.Z&&(this.Z=0)}normalize(){this.X>this.ca&&this.jia();this.S>
this.Z&&this.ur()}lE(b){return!(b.ca<this.X||b.Z<this.S||b.X>this.ca||b.S>this.Z)}iha(b,a,d){return!(b.ca+a<this.X||b.Z+d<this.S||b.X+a>this.ca||b.S+d>this.Z)}bg(b,a){return b>=this.X&&b<=this.ca&&a>=this.S&&a<=this.Z}yha(b){this.X=e.pc(b.X,b.ca,this.X);this.S=e.pc(b.S,b.Z,this.S);this.ca=e.pc(b.X,b.ca,this.ca);this.Z=e.pc(b.S,b.Z,this.Z)}}}
{"use strict";const e=self.B;e.ld=class{constructor(b,a,d,c,f,l,g,k){this.tc=this.sc=this.Fc=this.Ec=this.xc=this.wc=this.Hb=this.Gb=0;b instanceof e.ld?this.za(b):this.set(b||0,a||0,d||0,c||0,f||0,l||0,g||0,k||0)}set(b,a,d,c,f,l,g,k){this.Gb=+b;this.Hb=+a;this.wc=+d;this.xc=+c;this.Ec=+f;this.Fc=+l;this.sc=+g;this.tc=+k}IX(b,a,d,c){this.set(b,a,d,a,d,c,b,c)}za(b){this.Gb=b.Gb;this.Hb=b.Hb;this.wc=b.wc;this.xc=b.xc;this.Ec=b.Ec;this.Fc=b.Fc;this.sc=b.sc;this.tc=b.tc}gd(b){return this.Gb===b.Gb&&this.Hb===
b.Hb&&this.wc===b.wc&&this.xc===b.xc&&this.Ec===b.Ec&&this.Fc===b.Fc&&this.sc===b.sc&&this.tc===b.tc}toArray(){return[this.Gb,this.Hb,this.wc,this.xc,this.Ec,this.Fc,this.sc,this.tc]}Jh(b,a){b[a++]=this.Gb;b[a++]=this.Hb;b[a++]=this.wc;b[a++]=this.xc;b[a++]=this.Ec;b[a++]=this.Fc;b[a++]=this.sc;b[a]=this.tc}Aia(b,a,d){b[a++]=this.Gb;b[a++]=this.Hb;b[a++]=d;b[a++]=this.wc;b[a++]=this.xc;b[a++]=d;b[a++]=this.Ec;b[a++]=this.Fc;b[a++]=d;b[a++]=this.sc;b[a++]=this.tc;b[a]=d}offset(b,a){b=+b;a=+a;this.Gb+=
b;this.Hb+=a;this.wc+=b;this.xc+=a;this.Ec+=b;this.Fc+=a;this.sc+=b;this.tc+=a}round(){this.Gb=Math.round(this.Gb);this.Hb=Math.round(this.Hb);this.wc=Math.round(this.wc);this.xc=Math.round(this.xc);this.Ec=Math.round(this.Ec);this.Fc=Math.round(this.Fc);this.sc=Math.round(this.sc);this.tc=Math.round(this.tc)}floor(){this.Gb=Math.floor(this.Gb);this.Hb=Math.floor(this.Hb);this.wc=Math.floor(this.wc);this.xc=Math.floor(this.xc);this.Ec=Math.floor(this.Ec);this.Fc=Math.floor(this.Fc);this.sc=Math.floor(this.sc);
this.tc=Math.floor(this.tc)}ceil(){this.Gb=Math.ceil(this.Gb);this.Hb=Math.ceil(this.Hb);this.wc=Math.ceil(this.wc);this.xc=Math.ceil(this.xc);this.Ec=Math.ceil(this.Ec);this.Fc=Math.ceil(this.Fc);this.sc=Math.ceil(this.sc);this.tc=Math.ceil(this.tc)}Uj(b){this.Gb=b.X;this.Hb=b.S;this.wc=b.ca;this.xc=b.S;this.Ec=b.ca;this.Fc=b.Z;this.sc=b.X;this.tc=b.Z}Ey(b,a){0===a?this.Uj(b):this.tE(b,Math.sin(a),Math.cos(a))}tE(b,a,d){const c=b.X*a,f=b.S*a,l=b.ca*a;a*=b.Z;const g=b.X*d,k=b.S*d,n=b.ca*d;b=b.Z*d;
this.Gb=g-f;this.Hb=k+c;this.wc=n-f;this.xc=k+l;this.Ec=n-a;this.Fc=b+l;this.sc=g-a;this.tc=b+c}lM(b){b.set(Math.min(this.Gb,this.wc,this.Ec,this.sc),Math.min(this.Hb,this.xc,this.Fc,this.tc),Math.max(this.Gb,this.wc,this.Ec,this.sc),Math.max(this.Hb,this.xc,this.Fc,this.tc))}bg(b,a){var d=this.wc-this.Gb,c=this.xc-this.Hb;const f=this.Ec-this.Gb,l=this.Fc-this.Hb;b-=this.Gb;a-=this.Hb;var g=d*d+c*c;let k=d*f+c*l;c=d*b+c*a;const n=f*f+l*l,q=f*b+l*a;let t=1/(g*n-k*k);d=(n*c-k*q)*t;g=(g*q-k*c)*t;if(0<=
d&&0<g&&1>d+g)return!0;d=this.sc-this.Gb;c=this.tc-this.Hb;g=d*d+c*c;k=d*f+c*l;c=d*b+c*a;t=1/(g*n-k*k);d=(n*c-k*q)*t;g=(g*q-k*c)*t;return 0<=d&&0<g&&1>d+g}ku(){return(this.Gb+this.wc+this.Ec+this.sc)/4}lu(){return(this.Hb+this.xc+this.Fc+this.tc)/4}oM(b){var a=b.ku(),d=b.lu();if(this.bg(a,d))return!0;a=this.ku();d=this.lu();if(b.bg(a,d))return!0;a=this.Gb;d=this.Hb;const c=this.wc,f=this.xc,l=this.Ec,g=this.Fc,k=this.sc,n=this.tc;return e.sE(a,d,c,f,b)||e.sE(c,f,l,g,b)||e.sE(l,g,k,n,b)||e.sE(k,n,
a,d,b)}Zha(){const b=this.Gb,a=this.Hb;this.Gb=this.wc;this.Hb=this.xc;this.wc=this.Ec;this.xc=this.Fc;this.Ec=this.sc;this.Fc=this.tc;this.sc=b;this.tc=a}}}
{"use strict";const e=self.B,b=[0,0,1,0,1,1,0,1],a=e.C(e.ld);e.hp=class extends e.oa{constructor(d,c=!0){super();d||(d=b);this.ge=Float64Array.from(d);this.sB=new e.Rect;this.Bq=!0;this.oh=c}j(){}AX(){return this.ge.length/2}uE(d){this.ge.length===d.length?this.ge.set(d):this.ge=Float64Array.from(d);this.Bq=!0}cia(){this.uE(b)}za(d){this.uE(d.ge)}PM(){this.Bq=!0}hga(){if(this.Bq){var d=this.ge,c=d[0],f=d[1],l=c,g=f;for(let k=0,n=d.length;k<n;k+=2){const q=d[k],t=d[k+1];q<c&&(c=q);q>l&&(l=q);t<f&&
(f=t);t>g&&(g=t)}this.sB.set(c,f,l,g);this.Bq=!1}}Uj(d){let c=this.ge;8!==c.length&&(this.ge=c=new Float64Array(8));c[0]=d.X-NaN;c[1]=d.S-NaN;c[2]=d.ca-NaN;c[3]=d.S-NaN;c[4]=d.ca-NaN;c[5]=d.Z-NaN;c[6]=d.X-NaN;c[7]=d.Z-NaN;this.sB.za(d);this.sB.offset(NaN,NaN);this.Bq=!1}QM(d,c,f){a.za(d);a.offset(c,f);this.uE(a.toArray());this.Bq=!0}transform(d,c,f){let l=0,g=1;0!==f&&(l=Math.sin(f),g=Math.cos(f));this.YM(d,c,l,g)}YM(d,c,f,l){const g=this.ge;for(let k=0,n=g.length;k<n;k+=2){const q=k+1,t=g[k]*d,p=
g[q]*c;g[k]=t*l-p*f;g[q]=p*l+t*f}this.Bq=!0}offset(d,c){const f=this.ge;for(let l=0,g=f.length;l<g;l+=2)f[l]+=d,f[l+1]+=c}bg(d,c){const f=this.ge;if(d===f[0]&&c===f[1])return!0;this.hga();var l=this.sB;const g=l.X-110,k=l.S-101,n=l.ca+131;l=l.Z+120;let q,t,p,v,u,w,y,z;g<d?(q=g,p=d):(q=d,p=g);k<c?(t=k,v=c):(t=c,v=k);n<d?(u=n,y=d):(u=d,y=n);l<c?(w=l,z=c):(w=c,z=l);let E=0,G=0;for(let D=0,H=f.length;D<H;D+=2){var P=(D+2)%H;const J=f[D],M=f[D+1],Q=f[P];P=f[P+1];e.$m(g,k,d,c,q,p,t,v,J,M,Q,P)&&++E;e.$m(n,
l,d,c,u,y,w,z,J,M,Q,P)&&++G}return 1===E%2||1===G%2}qy(d,c,f){const l=d.ge,g=this.ge;if(this.bg(l[0]+c,l[1]+f)||d.bg(g[0]-c,g[1]-f))return!0;for(let n=0,q=g.length;n<q;n+=2){var k=(n+2)%q;d=g[n];const t=g[n+1],p=g[k];k=g[k+1];let v,u,w,y;d<p?(v=d,w=p):(v=p,w=d);t<k?(u=t,y=k):(u=k,y=t);for(let z=0,E=l.length;z<E;z+=2){const G=(z+2)%E;if(e.$m(d,t,p,k,v,w,u,y,l[z]+c,l[z+1]+f,l[G]+c,l[G+1]+f))return!0}}return!1}lk(){return this.oh}}}
{"use strict";const e=self.B;e.jv=class extends e.oa{constructor(b){super();this.Ok=new Map;if(b)for(const [a,d,c]of b)this.Set(a,d,c)}j(){this.Tc();this.Ok=null}Tc(){const b=this.Ok;for(const a of b.values())a.clear();b.clear()}Set(b,a,d){const c=this.Ok;let f=c.get(b);f||(f=new Map,c.set(b,f));f.set(a,d)}ea(b,a){return(b=this.Ok.get(b))?b.get(a):b}Mz(b){return(b=this.Ok.get(b))?b.has(void 0):!1}kp(b,a){const d=this.Ok,c=d.get(b);c&&c.delete(a)&&0===c.size&&d.delete(b)}FN(b){const a=this.Ok,d=a.get(b);
d&&(d.clear(),a.delete(b));for(const [c,f]of a.entries())f.delete(b)&&0===f.size&&a.delete(c)}pn(){let b=0;for(const a of this.Ok.values())b+=a.size;return b}*values(){for(const b of this.Ok.values())yield*b.values()}*entries(){for(const [b,a]of this.Ok.entries())for(const [d,c]of a.entries())yield[b,d,c]}}}
{"use strict";const e=self.B;e.KE=class extends e.oa{constructor(){super();this.Bo=new Set;this.oB=[];this.wx=!1}j(){this.Tc()}Tc(){this.Bo.clear();e.G(this.oB);this.wx=!1}yc(b){this.Bo.has(b)||(this.Bo.add(b),this.wx||this.oB.push(b))}Mz(b){return this.Bo.has(b)}kp(b){this.Bo.delete(b)&&(this.wx=!0)}pn(){return this.Bo.size}Bp(){return 0===this.Bo.size}jF(){this.wx&&(this.oca(),this.wx=!1);return this.oB}oca(){const b=this.oB;e.G(b);for(const a of this.Bo)b.push(a)}}}
{"use strict";const e=new Map,b=new Map,a=new Map,d=new Map,c=new Map,f=new Map;f.set("linear","noease");f.set("default","noease");self.Du=class l{constructor(){}static b3(g){this.yH();return[...b.keys()].includes(g)}static Y$(g){const k=f.get(g);if(k)return e.get(k);if(l.b3(g))return e.get(g);if(c.has(g))return c.get(g)}static sp(g){this.yH();const k=l.Y$(g);return k?k:d.get(g)}static yH(){0===e.size&&(this.Lb("default",()=>{}),this.Lb("noease",this.T3),this.Lb("easeinsine",this.F_),this.Lb("easeoutsine",
this.O_),this.Lb("easeinoutsine",this.B_),this.Lb("easeinelastic",this.q_),this.Lb("easeoutelastic",this.J_),this.Lb("easeinoutelastic",this.w_),this.Lb("easeinback",this.n_),this.Lb("easeoutback",this.G_),this.Lb("easeinoutback",this.s_),this.Lb("easeinbounce",this.HN),this.Lb("easeoutbounce",this.cF),this.Lb("easeinoutbounce",this.t_),this.Lb("easeincubic",this.p_),this.Lb("easeoutcubic",this.I_),this.Lb("easeinoutcubic",this.v_),this.Lb("easeinquad",this.C_),this.Lb("easeoutquad",this.L_),this.Lb("easeinoutquad",
this.y_),this.Lb("easeinquart",this.D_),this.Lb("easeoutquart",this.M_),this.Lb("easeinoutquart",this.z_),this.Lb("easeinquint",this.E_),this.Lb("easeoutquint",this.N_),this.Lb("easeinoutquint",this.A_),this.Lb("easeincirc",this.o_),this.Lb("easeoutcirc",this.H_),this.Lb("easeinoutcirc",this.u_),this.Lb("easeinexpo",this.r_),this.Lb("easeoutexpo",this.K_),this.Lb("easeinoutexpo",this.x_),this.zR("cubicbezier",this.m_),this.zR("spline",this.P_))}static Lb(g,k){l.rH(g,k,"predefined")}static zR(g,k){l.rH(g,
k,"private")}static cY(g,k){this.yH();l.rH(g,k,"custom",void 0)}static rH(g,k,n,q){switch(n){case "predefined":e.set(g,k);b.set(g,k);break;case "custom":q?(a.has(q)||a.set(q,new Map),a.get(q).set(g,k)):d.set(g,k);break;case "private":e.set(g,k);c.set(g,k);break;default:throw Error("unexpected ease mode");}}static T3(g,k,n,q){return n*g/q+k}static C_(g,k,n,q){return n*(g/=q)*g+k}static L_(g,k,n,q){return-n*(g/=q)*(g-2)+k}static y_(g,k,n,q){return 1>(g/=q/2)?n/2*g*g+k:-n/2*(--g*(g-2)-1)+k}static p_(g,
k,n,q){return n*(g/=q)*g*g+k}static I_(g,k,n,q){return n*((g=g/q-1)*g*g+1)+k}static v_(g,k,n,q){return 1>(g/=q/2)?n/2*g*g*g+k:n/2*((g-=2)*g*g+2)+k}static D_(g,k,n,q){return n*(g/=q)*g*g*g+k}static M_(g,k,n,q){return-n*((g=g/q-1)*g*g*g-1)+k}static z_(g,k,n,q){return 1>(g/=q/2)?n/2*g*g*g*g+k:-n/2*((g-=2)*g*g*g-2)+k}static E_(g,k,n,q){return n*(g/=q)*g*g*g*g+k}static N_(g,k,n,q){return n*((g=g/q-1)*g*g*g*g+1)+k}static A_(g,k,n,q){return 1>(g/=q/2)?n/2*g*g*g*g*g+k:n/2*((g-=2)*g*g*g*g+2)+k}static F_(g,
k,n,q){return-n*Math.cos(g/q*(Math.PI/2))+n+k}static O_(g,k,n,q){return n*Math.sin(g/q*(Math.PI/2))+k}static B_(g,k,n,q){return-n/2*(Math.cos(Math.PI*g/q)-1)+k}static r_(g,k,n,q){return 0===g?k:n*Math.pow(2,10*(g/q-1))+k}static K_(g,k,n,q){return g===q?k+n:n*(-Math.pow(2,-10*g/q)+1)+k}static x_(g,k,n,q){return 0===g?k:g===q?k+n:1>(g/=q/2)?n/2*Math.pow(2,10*(g-1))+k:n/2*(-Math.pow(2,-10*--g)+2)+k}static o_(g,k,n,q){return-n*(Math.sqrt(1-(g/=q)*g)-1)+k}static H_(g,k,n,q){return n*Math.sqrt(1-(g=g/q-
1)*g)+k}static u_(g,k,n,q){return 1>(g/=q/2)?-n/2*(Math.sqrt(1-g*g)-1)+k:n/2*(Math.sqrt(1-(g-=2)*g)+1)+k}static q_(g,k,n,q){let t=0,p=n;if(0===g)return k;if(1===(g/=q))return k+n;t||(t=.3*q);p<Math.abs(n)?(p=n,n=t/4):n=t/(2*Math.PI)*Math.asin(n/p);return-(p*Math.pow(2,10*--g)*Math.sin(2*(g*q-n)*Math.PI/t))+k}static J_(g,k,n,q){let t,p=0,v=n;if(0===g)return k;if(1===(g/=q))return k+n;p||(p=.3*q);v<Math.abs(n)?(v=n,t=p/4):t=p/(2*Math.PI)*Math.asin(n/v);return v*Math.pow(2,-10*g)*Math.sin(2*(g*q-t)*
Math.PI/p)+n+k}static w_(g,k,n,q){let t,p=0,v=n;if(0===g)return k;if(2===(g/=q/2))return k+n;p||(p=.3*q*1.5);v<Math.abs(n)?(v=n,t=p/4):t=p/(2*Math.PI)*Math.asin(n/v);return 1>g?-.5*v*Math.pow(2,10*--g)*Math.sin(2*(g*q-t)*Math.PI/p)+k:v*Math.pow(2,-10*--g)*Math.sin(2*(g*q-t)*Math.PI/p)*.5+n+k}static n_(g,k,n,q,t){void 0===t&&(t=1.70158);return n*(g/=q)*g*((t+1)*g-t)+k}static G_(g,k,n,q,t){void 0===t&&(t=1.70158);return n*((g=g/q-1)*g*((t+1)*g+t)+1)+k}static s_(g,k,n,q,t){void 0===t&&(t=1.70158);return 1>
(g/=q/2)?n/2*g*g*(((t*=1.525)+1)*g-t)+k:n/2*((g-=2)*g*(((t*=1.525)+1)*g+t)+2)+k}static HN(g,k,n,q){return n-l.cF(q-g,0,n,q)+k}static cF(g,k,n,q){return(g/=q)<1/2.75?7.5625*n*g*g+k:g<2/2.75?n*(7.5625*(g-=1.5/2.75)*g+.75)+k:g<2.5/2.75?n*(7.5625*(g-=2.25/2.75)*g+.9375)+k:n*(7.5625*(g-=2.625/2.75)*g+.984375)+k}static t_(g,k,n,q){return g<q/2?.5*l.HN(2*g,0,n,q)+k:.5*l.cF(2*g-q,0,n,q)+.5*n+k}static m_(g,k,n,q,t){return k+3*g*(n-k)+3*g**2*(k+q-2*n)+g**3*(t-k+3*n-3*q)}static P_(g,k,n,q,t,p,v,u,w,y){if(q===
t&&p===v)return g;if(1==g)g=1;else{for(var z=0,E=1,G=y[E];10!=E&&G<=g;)E++,G=y[E],z+=.1;E--;G=y[E];y=z+(g-G)/(y[E+1]-G)*.1;u=u-3*p+3*q-k;p=3*p-6*q+3*k;k=3*(q-k);q=3*u*y*y+2*p*y+k;if(0!==q)if(.02<=q)for(z=0;4>z;++z)y-=(((u*y+p)*y+k)*y-g)/(3*u*y*y+2*p*y+k);else{q=z;z+=.1;E=0;let P;do y=q+(z-q)/2,G=((u*y+p)*y+k)*y-g,0<G?z=y:q=y,G=1E-7<Math.abs(G),P=10>++E;while(G&&P)}g=y}return(((w-3*v+3*t-n)*g+(3*v-6*t+3*n))*g+3*(t-n))*g}static o0(g,k,n,q){const t=[];q=q-3*n+3*k-g;n=3*n-6*k+3*g;g=3*(k-g);for(let p=
0;11>p;++p)k=.1*p,t.push(((q*k+n)*k+g)*k);return t}}}{"use strict";const e=self.B;e.tra=class{constructor(){this.oV=[]}j(){this.Tc();this.oV=null}Tc(){e.Dga(this.oV)}}}"use strict";
self.B.Event=class{constructor(e,b){this.type=e;this.cancelable=!!b;this.kha=this.IM=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.kha)throw Error(`cannot stop async event '${this.type}' propagation`);this.IM=!0}};
{"use strict";const e=self.B;e.Event.z1=class extends e.oa{constructor(b){super();this.Ca=b;this.Pf=[];this.Is=new Set;this.Tf=[];this.pt=new Set;this.Ew=0;this.It=[]}j(){0<this.Ew||(e.G(this.Pf),this.Is.clear(),e.G(this.Tf),this.pt.clear(),e.G(this.It),e.j(this))}xR(b,a){this.DS()?this.It.push({CM:"add",Ei:b,capture:a}):a?this.Is.has(b)||(this.Pf.push(b),this.Is.add(b)):this.pt.has(b)||(this.Tf.push(b),this.pt.add(b))}Cca(b,a){this.DS()?this.It.push({CM:"remove",Ei:b,capture:a}):a?this.Is.has(b)&&
(this.Is.delete(b),e.qr(this.Pf,b)):this.pt.has(b)&&(this.pt.delete(b),e.qr(this.Tf,b))}Gaa(){return!this.Pf.length&&!this.Tf.length}DS(){return 0<this.Ew}lca(){const b=new Set,a=new Set;for(const d of this.It)if("add"===d.CM)this.xR(d.Ei,d.capture),d.capture?a.delete(d.Ei):b.delete(d.Ei);else if("remove"===d.CM)d.capture?(this.Is.delete(d.Ei),a.add(d.Ei)):(this.pt.delete(d.Ei),b.add(d.Ei));else throw Error("invalid op");e.Gh(this.Tf,b);e.Gh(this.Pf,a);e.G(this.It)}L$(b){this.As();let a=!1;for(let d=
0,c=this.Pf.length;d<c;++d)if(this.Pf[d](b),b.IM){a=!0;break}if(!a)for(let d=0,c=this.Tf.length;d<c&&(this.Tf[d](b),!b.IM);++d);this.zs();return!b.defaultPrevented}N$(b){this.As();for(let a=0,d=this.Pf.length;a<d;++a)this.Pf[a](b);for(let a=0,d=this.Tf.length;a<d;++a)this.Tf[a](b);this.zs();return!0}As(){this.Ew++}zs(){this.Ew--;0===this.Ew&&0<this.It.length&&this.lca()}js(b){b?this.As():this.zs()}ZR(b){const a=[];this.As();for(let c=0,f=this.Pf.length;c<f;++c){var d=this.Pf[c](b);d instanceof Promise&&
a.push(d)}for(let c=0,f=this.Tf.length;c<f;++c)d=this.Tf[c](b),d instanceof Promise&&a.push(d);this.zs();return a.length?Promise.all(a).then(()=>!b.defaultPrevented):!b.defaultPrevented}async I$(b){return await this.ZR(b)}async J$(b){this.As();for(let d=0,c=this.Pf.length;d<c;++d){var a=this.Pf[d](b);a instanceof Promise&&await a}for(let d=0,c=this.Tf.length;d<c;++d)a=this.Tf[d](b),a instanceof Promise&&await a;this.zs();return!b.defaultPrevented}*K$(b){this.As();for(let d=0,c=this.Pf.length;d<c;++d){var a=
this.Pf[d](b);e.un(a)&&(yield*a)}for(let d=0,c=this.Tf.length;d<c;++d)a=this.Tf[d](b),e.un(a)&&(yield*a);this.zs()}}}
{"use strict";const e=self.B;e.Event.Ib=class extends e.oa{constructor(){super();this.qq=new Map;this.lJ=!1}j(){if(this.lJ)throw Error("already released");this.XY();this.lJ=!0;e.j(this)}Qp(){return this.lJ}XY(){for(let b of this.qq.values())b.j();this.qq.clear()}Tp(b,a){let d=this.qq.get(b);return d?d:a?(d=e.C(e.Event.z1,b),this.qq.set(b,d),d):null}RF(b){return this.qq.has(b)}addEventListener(b,a,d){this.Tp(b,!0).xR(a,!!d)}removeEventListener(b,a,d){let c=this.Tp(b,!1);c&&(c.Cca(a,!!d),c.Gaa()&&this.qq.delete(b))}dispatchEvent(b){const a=
this.Tp(b.type,!1);return a?b.cancelable?a.L$(b):a.N$(b):!0}async gM(b){const a=this.Tp(b.type,!1);return a?await a.I$(b):!0}Oga(b){const a=this.Tp(b.type,!1);return a?a.ZR(b):!0}async Nga(b){const a=this.Tp(b.type,!1);a&&await a.J$(b)}Pga(b){const a=this.Tp(b.type,!1);if(!a)return null;if(b.cancelable)throw Error("not supported");return a.K$(b)}js(b){for(const a of this.qq.values())a.js(b)}}}
{"use strict";const e=self.B,b="undefined"!==typeof requestIdleCallback;let a=[],d=-1,c=0;function f(n){d=b&&0===c?requestIdleCallback(l,{timeout:35}):setTimeout(l,0<c?1:n)}function l(n){d=-1;if(a.length){var q=performance.now(),t=0;do{g(a.shift());var p=performance.now();++t;var v=(p-q)/t*1.1}while(a.length&&(b&&0===c&&"undefined"!==typeof n?v<n.timeRemaining():12>p-q+v));-1===d&&a.length&&f(Math.max(16-(p-q),4))}}function g(n){let q;try{q=n.Ei()}catch(t){n.reject(t);return}n.resolve(q)}let k=e.vG.Mz("disable-asyncify");
k&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");e.ql=function(n){let q=null;e.fu&&(q=e.kz());return new Promise((t,p)=>{a.push({Ei:n,resolve:t,reject:p,stack:q});k?g(a.pop()):-1===d&&f(16)})};e.ql.JQ=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const e=self.B;let b=-1;function a(){b=-1}e.gz=function(){-1===b&&(b=Date.now(),self.setTimeout(a,16));return b};let d=-1,c=-1,f=new Set;function l(){c=d=-1;let g=Date.now();for(let k of f)if(k.k9(g)){let n=k.nq;if(-1===c||n<c)c=n}else f.delete(k);-1!==c&&(d=self.setTimeout(l,Math.max(c-g+100,1E3)))}e.c2=class{constructor(g,k){this.Hs=g;this.LD=1E3*k;this.nq=0;this.Rb=!1}Vc(){let g=e.gz();this.nq=g+this.LD;this.Rb||(f.add(this),this.Rb=!0);-1===d?(c=this.nq,d=self.setTimeout(l,this.LD+
100)):this.nq<c&&c>g+1E3&&(self.clearTimeout(d),c=this.nq,d=self.setTimeout(l,this.LD+100))}k9(g){return g>=this.nq?this.Hs()?(this.nq=g+this.LD,!0):this.Rb=!1:!0}PY(){this.Rb&&(f.delete(this),this.Rb=!1,0===f.size&&-1!==d&&(self.clearTimeout(d),c=d=-1))}j(){this.PY();this.Hs=null}}}
{"use strict";const e=self.B;e.Kb=class b{constructor(a){this.Vs=!1;this.nJ=a}cz(){this.Vs||(this.Vs=!0,this.nJ&&(this.nJ(),this.nJ=null))}j(){this.cz()}static j(a){return new b(()=>a.j())}static jc(a,d,c){if("undefined"===typeof f||null===f)var f=!1;else if("boolean"!==typeof f&&"object"!==typeof f)throw new TypeError("invalid event listener options");if(d.includes(" ")){d=d.split(" ");const l=new e.jp;for(let g of d)a.addEventListener(g,c,f),l.yc(e.C(e.Kb,()=>a.removeEventListener(g,c,f)));return l}a.addEventListener(d,
c,f);return e.C(e.Kb,()=>a.removeEventListener(d,c,f))}};e.Wua=class extends e.Kb{};e.jp=class extends e.Kb{constructor(...b){super();this.ae=new Set;for(let a of b)this.yc(a)}yc(...b){if(this.Vs)throw Error("already disposed");for(let a of b)this.ae.add(a)}Sh(b){if(this.Vs)throw Error("already disposed");this.ae.delete(b)}cz(){if(this.Vs)throw Error("already disposed");this.Vs=!0;for(let b of this.ae)b.cz();this.ae.clear();this.ae=null}j(){this.cz()}}}
{"use strict";const e=self.B;e.Xr=class extends e.oa{constructor(){super();this.Qt=this.Qx=this.V=this.xB=0}yc(b){this.V=+b-this.xB;this.Qx=this.Qt+this.V;this.xB=this.Qx-this.Qt-this.V;this.Qt=this.Qx}ea(){return this.Qt}Vc(){this.Qt=this.Qx=this.V=this.xB=0}Set(b){this.Qx=this.V=this.xB=0;this.Qt=+b}j(){}}}
{"use strict";const e=self.B,b={xG:function(a){this.PX=a;this.left=this.right=this.PX.yb;this.parent=null;this.color=!1;this.key=null},Fp:function(a){this.size=0;this.yb=new b.xG(this);this.yb.color=!1;this.root=this.yb;this.root.parent=this.yb;this.compare=a||this.Kga}};ya=b.Fp.prototype;ya.Kga=function(a,d){return a<d?-1:d<a?1:0};ya.clone=function(){var a=new b.Fp(this.compare);a.fha(this);return a};ya.clear=function(){this.size=0;this.yb=new b.xG(this);this.yb.color=!1;this.root=this.yb;this.root.parent=
this.yb};ya.ry=function(a){var d=a.right;a.right=d.left;d.left!=this.yb&&(d.left.parent=a);d.parent=a.parent;a.parent==this.yb?this.root=d:a==a.parent.left?a.parent.left=d:a.parent.right=d;d.left=a;a.parent=d};ya.By=function(a){var d=a.left;a.left=d.right;d.right!=this.yb&&(d.right.parent=a);d.parent=a.parent;a.parent==this.yb?this.root=d:a==a.parent.right?a.parent.right=d:a.parent.left=d;d.right=a;a.parent=d};ya.cu=function(a){if(this.contains(a))this.ny(a).key=a;else{var d=new b.xG(this);d.key=
a;a=this.yb;for(var c=this.root;c!=this.yb;)a=c,c=0>this.compare(d.key,c.key)?c.left:c.right;d.parent=a;a==this.yb?this.root=d:0>this.compare(d.key,a.key)?a.left=d:a.right=d;d.left=this.yb;d.right=this.yb;d.color=!0;this.gha(d);this.size++}};ya.gha=function(a){for(;a!=this.yb&&a!=this.root&&1==a.parent.color;)if(a.parent==a.parent.parent.left){var d=a.parent.parent.right;1==d.color?(a.parent.color=!1,d.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.right&&(a=a.parent,this.ry(a)),
a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.yb&&this.By(a.parent.parent))}else d=a.parent.parent.left,1==d.color?(a.parent.color=!1,d.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.left&&(a=a.parent,this.By(a)),a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.yb&&this.ry(a.parent.parent));this.root.color=!1};ya.Mga=function(a){var d=a.left==this.yb||a.right==this.yb?a:this.fp(a);var c=d.left!=this.yb?d.left:d.right;c.parent=d.parent;d.parent==
this.yb?this.root=c:d==d.parent.left?d.parent.left=c:d.parent.right=c;d!=a&&(a.key=d.key);0==d.color&&this.Lga(c);this.size--};ya.Lga=function(a){for(;a!=this.root&&0==a.color;)if(a==a.parent.left){var d=a.parent.right;1==d.color&&(d.color=!1,a.parent.color=!0,this.ry(a.parent),d=a.parent.right);0==d.left.color&&0==d.right.color?(d.color=!0,a=a.parent):(0==d.right.color&&(d.left.color=!1,d.color=!0,this.By(d),d=a.parent.right),d.color=a.parent.color,a.parent.color=!1,d.right.color=!1,this.ry(a.parent),
a=this.root)}else d=a.parent.left,1==d.color&&(d.color=!1,a.parent.color=!0,this.By(a.parent),d=a.parent.left),0==d.right.color&&0==d.left.color?(d.color=!0,a=a.parent):(0==d.left.color&&(d.right.color=!1,d.color=!0,this.ry(d),d=a.parent.left),d.color=a.parent.color,a.parent.color=!1,d.left.color=!1,this.By(a.parent),a=this.root);a.color=!1};ya.remove=function(a){a=this.ny(a);if(a!=this.yb){var d=a.key;this.Mga(a);return d}return null};ya.min=function(a){for(;a.left!=this.yb;)a=a.left;return a};ya.max=
function(a){for(;a.right!=this.yb;)a=a.right;return a};ya.fp=function(a){if(a.right!=this.yb)return this.min(a.right);for(var d=a.parent;d!=this.yb&&a==d.right;)a=d,d=d.parent;return d};ya.ny=function(a){for(var d=this.root;d!=this.yb&&0!=this.compare(d.key,a);)d=0>this.compare(a,d.key)?d.left:d.right;return d};ya.contains=function(a){return null!=this.ny(a).key};ya.mM=function(){var a=[];this.forEach(function(d){a.push(d)});return a};ya.fha=function(a){if("array"==b.ZM(a))for(var d=0;d<a.length;d++)this.cu(a[d]);
else if("function"==b.ZM(a.forEach))a.forEach(this.cu,this);else if("function"==b.ZM(a.mM))for(a=a.mM(),d=0;d<a.length;d++)this.cu(a[d]);else if("object"==b.ZM(a))for(d in a)this.cu(a[d])};ya.range=function(a,d){var c=[];this.pia(function(f){c.push(f)},a,d);return c};ya.pia=function(a,d,c){if(!this.gu())for(d=this.ny(d),c=this.ny(c);d!=c&&!a.call(void 0,d.key,this);)d=this.fp(d)};ya.forEach=function(a,d){if(!this.gu())for(var c=this.min(this.root);c!=this.yb;c=this.fp(c))a.call(d,c.key,c.key,this)};
ya.some=function(a,d){if(this.gu())return!1;for(var c=this.min(this.root);c!=this.yb;c=this.fp(c))if(a.call(d,c.key,c.key,this))return!0;return!1};ya.every=function(a,d){if(this.gu())return!1;for(var c=this.min(this.root);c!=this.yb;c=this.fp(c))if(!a.call(d,c.key,c.key,this))return!1;return!0};ya.map=function(a,d){var c=[];if(this.gu())return c;for(var f=this.min(this.root);f!=this.yb;f=this.fp(f))c.push(a.call(d,f.key,f.key,this));return c};ya.filter=function(a,d){var c=[];if(this.gu())return c;
for(var f=this.min(this.root);f!=this.yb;f=this.fp(f))a.call(d,f.key,f.key,this)&&c.push(f.key);return c};ya.gu=function(){return 0==this.size};e.Fp=class extends e.oa{constructor(a){super();this.pi=new b.Fp(a);this.Xs=!1;this.Yq=new Set;this.Zq=new Set}yc(a){this.Xs?this.pi.contains(a)?this.Zq.delete(a):this.Yq.add(a):this.pi.cu(a)}Sh(a){this.Xs?this.pi.contains(a)?this.Zq.add(a):this.Yq.delete(a):this.pi.remove(a)}Mz(a){return this.Xs?this.Yq.has(a)?!0:!this.Zq.has(a)&&this.pi.contains(a):this.pi.contains(a)}Tc(){this.pi.clear();
this.Yq.clear();this.Zq.clear()}toArray(){if(this.Xs)throw Error("cannot be used in queueing mode");return this.pi.mM()}pn(){return this.pi.size+this.Yq.size-this.Zq.size}Bp(){return 0===this.pn()}Uh(a){a=!!a;if(this.Xs!==a&&(this.Xs=a,!a)){for(const d of this.Zq)this.pi.remove(d);this.Zq.clear();for(const d of this.Yq)this.pi.cu(d);this.Yq.clear()}}*values(){if(!this.Bp()){var a=this.pi;for(let d=a.min(a.root);d!=a.yb;d=a.fp(d))yield d.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const e=self.B;e.uG=class{constructor(b=e.hardwareConcurrency){this.Ifa=b;this.gL=[];this.FI=0}yc(b){return new Promise((a,d)=>{this.gL.push({Ei:b,resolve:a,reject:d});this.PS()})}async PS(){if(this.gL.length&&!(this.FI>=this.Ifa)){this.FI++;var b=this.gL.shift();try{const a=await b.Ei();b.resolve(a)}catch(a){b.reject(a)}this.FI--;this.PS()}}}}
{"use strict";const e=self.B;e.z5=class{constructor(b,a,d){this.Hs=b;this.rfa=a;this.sfa=d||2*a;this.Ut=-1;this.LC=-Infinity;this.HW=()=>this.Zba();this.afa=this.NJ=!1;this.ww=null}caa(){return"undefined"!==typeof e.EY&&e.EY.Hoa()?this.sfa:this.rfa}OY(){var b=[];if(-1===this.Ut){this.ww=b;b=e.gz();var a=b-this.LC,d=this.caa();a>=d&&this.afa?(this.LC=b,this.lT()):this.Ut=self.setTimeout(this.HW,Math.max(d-a,4))}}lT(){this.NJ=!0;const b=this.ww;this.ww=null;b?this.Hs(...b):this.Hs();this.NJ=!1}Vc(){this.NJ||
(this.ER(),this.ww=null,this.LC=e.gz())}Zba(){this.Ut=-1;this.LC=e.gz();this.lT()}ER(){-1!==this.Ut&&(self.clearTimeout(this.Ut),this.Ut=-1)}j(){this.ER();this.HW=this.ww=this.Hs=null}}}"use strict";function gc(e,b){if(!e.MU)throw Error("no get base size callback set");return e.MU(b)}function hc(e){if(!e.dW)throw Error("no redraw callback set");e.dW()}self.B.Psa=class{constructor(){this.ofa=new Map;this.dW=this.gW=this.MU=null}};"use strict";
self.B.Osa=class{constructor(e,b){this.yt=e;this.dfa=b;this.ed=0;gc(this.yt,b).then(()=>{hc(this.yt)}).catch(a=>{console.error("[SVG] Error loading SVG: ",a);hc(this.yt)});this.hL=null}j(){if(0>=this.ed)throw Error("already released");this.ed--;0===this.ed&&this.$v()}$v(){if(this.hL){var e=this.yt;if(!e.gW)throw Error("no release result callback set");e.gW(this.hL);this.hL=null}this.yt.ofa.delete(this.dfa);this.yt=null}};
{"use strict";const e=self.B;e.Eva="\ufeff";const b=new Set([..."0123456789"]);e.d3=function(n){return b.has(n)};const a=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);e.Yz=function(n){return a.has(n)};e.xma=function(n){return[...n].filter(q=>!e.Yz(q)).join("")};e.Xz=function(n){for(const q of n)if(!e.Yz(q))return!1;return!0};e.q3=function(n){return 1===n.length&&32>n.charCodeAt(0)};e.a0=function(n){return[...n].filter(q=>
!e.q3(q)).join("")};const d=new Set([..."0123456789.+-e"]);e.Uoa=function(n){n=n.trim();if(!n.length)return!1;let q=n.charAt(0);if("-"!==q&&!b.has(q))return!1;for(let t of n)if(!d.has(t))return!1;return!0};e.J5=function(n){let q=n.length;for(;0<q&&e.d3(n.charAt(q-1));)--q;return n.substr(0,q)};e.aoa=function(n){let q=e.J5(n);n=(n=n.substr(q.length))?(parseInt(n,10)+1).toString():"2";return q+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function f(n){return c.get(n)}
const l=/[&<>"']/g;e.S_=function(n){return n.replace(l,f)};e.gma=function(n){n=e.Wi(n,"\\","\\\\");n=e.Wi(n,'"','\\"');n=e.Wi(n,"\t","\\t");n=e.Wi(n,"\r","");return e.Wi(n,"\n","\\n")};e.hma=function(n){n=e.Wi(n,"&","&amp;");n=e.Wi(n,"<","&lt;");n=e.Wi(n,">","&gt;");return e.Wi(n,'"',"&quot;")};const g=/[-[\]{}()*+?.,\\^$|#\s]/g;e.Eu=function(n){return n.replace(g,"\\$&")};e.yma=function(n,q,t=!1){if(!q)return[];t||(n=n.toLowerCase(),q=q.toLowerCase());t=q.length;var p=0;let v=[];for(;-1<(p=n.indexOf(q,
p));)v.push(p),p+=t;return v};e.Wi=function(n,q,t){return n.replaceAll(q,()=>t)};e.Lra=function(n,q,t){return n.replace(new RegExp(e.Eu(q),"gi"),()=>t)};e.tta=function(n,q){"string"===typeof q?n.textContent=q:q.jV?n.textContent=q.toString():(n.innerHTML=q.VM(),q instanceof e.rl&&q.xga(n))};e.Rua=function(n,q){return n instanceof e.WF||n instanceof e.rl?n.gd(q):q instanceof e.WF||q instanceof e.rl?q.gd(n):n===q};e.Sua=function(n,...q){let t=n;for(let p=0,v=q.length;p<v;++p){const u=`{${p}}`;if(!n.includes(u))throw Error(`missing placeholder '${u}' in string substitution`);
t=t.replace(u,q[p].toString())}return t};e.Tua=function(n,...q){let t=n,p=-1,v=-1;for(let u=0,w=q.length;u<w;++u){const y=`{${u}}`;n.includes(y)?(v=u,t=t.replace(y,q[u].toString())):-1===p&&(p=u)}if(0<=p&&0<=v&&p<v)throw Error(`missing placeholder '${p}' in string substitution`);return t};e.Uua=function(n,q){for(let [t,p]of Object.entries(q))n=n.replaceAll(t,p.toString());return n};e.zua=function(n,q){n=n.toLowerCase();q=q.toLowerCase();return n>q?1:n<q?-1:0};e.Qma=function(n,q){q="common."+(q?"dataRates":
"dataSizes")+".";const t=self.Hxa;if(1024>n)return t(q+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),t(q+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),t(q+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),t(q+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return t(q+"terabytes",n)};const k={uga:!1,Hga:!0,eha:!0,Fha:!0,GX:!0};e.Rma=function(n,q){q=Object.assign({},
k,q);e.u3.wra("common.time");const t=[],p=self.lang,v=self.Gxa;if(q.Hga){var u=Math.floor(n/86400);0<u&&(n-=86400*u,t.push(v(".days",null,u)))}q.eha&&(u=Math.floor(n/3600),0<u||t.length)&&(n-=3600*u,t.push(v(".hours",null,u)));q.Fha&&(u=Math.floor(n/60),0<u||t.length||!q.GX)&&(n-=60*u,t.push(v(".minutes",null,u)));q.GX&&t.push(v(".seconds",null,Math.floor(n%60)));n=(q.uga?p(".approx-prefix"):"")+t.join(p(".separator"));e.u3.ora();return n};e.twa=function(n,q){let t=0>n?"-":"";n=Math.abs(n);n=n.toString();
q-=n.length;for(let p=0;p<q;++p)t+="0";return t+n};e.Vua=function(n){return n.toLowerCase().replace(/\b\w/g,q=>q.toUpperCase())};e.sla=function(n,q){n=n.split(".").map(t=>t.trim());q=q.split(".").map(t=>t.trim());e.EX(n);e.EX(q);n=n.map(t=>parseInt(t,10));q=q.map(t=>parseInt(t,10));for(let t=0;4>t;++t){const p=n[t]-q[t];if(0!==p)return 0>p?-1:1}return 0};e.Ela=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const q=Math.floor(16*Math.random());return("x"===n?q:q&3|8).toString(16)})};
e.Pua=function(n,q){if(n.length!==q.length)throw Error("strings must be same length");let t=0;for(let p=0,v=n.length;p<v;++p)n.charAt(p)!==q.charAt(p)&&++t;return t};e.Qua=function(n,q){if(0===n.length)return q.length;if(0===q.length)return n.length;let t,p,v,u;if(n.length>q.length){var w=n;n=q;q=w}u=Array(n.length+1);for(w=0;w<=n.length;w++)u[w]=w;for(w=1;w<=q.length;w++){p=w;for(t=1;t<=n.length;t++)v=q[w-1]===n[t-1]?u[t-1]:Math.min(u[t-1]+1,Math.min(p+1,u[t]+1)),u[t-1]=p,p=v;u[n.length]=p}return u[n.length]}}
{"use strict";const e=self.B,b=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),a=/\[(\/?)([a-zA-Z0-9]+)\]/g,
d=/\[(\/?)([^\[]*?)\]/g;let c=null,f=0;function l(k,n,q){var t=b.get(q);if(t){if("string"===typeof t){if("a"!==t||n)return"<"+n+t+">";n=parseInt(q.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");t=c[n];if("string"===typeof t)return`<a href="${c[n]}">`;if("function"===typeof t)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(t))return k=t[0],t=t[1],n?"</"+k+">":`<${k} class="${t}">`}else return"class"===q?n?"</span>":
`<span class="bbclass${f++}">`:k}const g=/\n/g;e.rl=class{constructor(k,n){this.$h=n&&n.uX?k:e.S_(k);this.MJ="";this.lU=!1;this.mx=[];if(n&&(this.lU=!!n.Kwa,n.links)){if(9<n.links.length)throw Error("too many links");this.mx=n.links}this.RU=this.$h.includes("[");this.PV=this.lU&&this.$h.includes("\n");this.jV=!this.RU&&!this.PV&&!this.$h.includes("&");this.VU=!1;this.Fw=[]}toString(){return this.$h}valueOf(){return this.$h}VM(){if(this.jV)return this.$h;if(!this.MJ&&this.$h){let k=this.$h;this.RU&&
(f=0,c=this.mx,k=k.replace(a,l),c=null);this.PV&&(k=k.replace(g,"<br>"));this.MJ=k}return this.MJ}xga(k){if(this.mx.length)for(let n=0,q=this.mx.length;n<q;++n){const t=this.mx[n];if("function"!==typeof t)continue;const p=k.querySelector(".bblink"+n);if(!p)throw Error("unable to attach BBString link handler");p.onclick=t}}gd(k){return k instanceof e.WF?this.VM()===k.VM():k instanceof e.rl?this.$h===k.$h:this.$h===k}MX(){if(this.VU)return this.Fw;const k=this.$h,n=[];let q=d.lastIndex=0;for(var t;null!==
(t=d.exec(k));){var p=t.index;if(0<p&&"\\"===k.charAt(p-1))continue;var v=t[1],u=t[2];const w=k.substring(q,p);q=p+t[0].length;w&&this.Fw.push({text:w,vd:n.slice(0)});if(u)if(v)for(u=u.toLowerCase(),t=n.length-1;0<=t;--t){if(n[t].tag===u){n.splice(t,1);break}}else t=u,p=null,v=u.indexOf("="),-1!==v?(t=u.substring(0,v).toLowerCase(),p=u.substring(v+1)):t=t.toLowerCase(),n.push({tag:t,ud:p})}q<k.length&&this.Fw.push({text:k.substring(q),vd:n.slice(0)});for(const w of this.Fw)w.text=this.kca(w.text);
this.VU=!0;return this.Fw}kca(k){k=e.Wi(k,"\\[","[");return e.Wi(k,"\\\\","\\")}static eR(k){return k.replace(d,"")}}}
{"use strict";const e=self.B;e.Lv=class{constructor(){this.Vk=[]}RS(b,a){let d=0,c=0,f=0,l=0,g=0;for(const k of b)-1===k.width&&(b=a(k.text,k.vd),k.width=b.width,k.height=b.height,k.Eg=b.Eg||0,k.dg=b.dg||0,k.fg=b.fg||0),d+=k.width,c=Math.max(c,k.height),f=Math.max(f,k.Eg),l=Math.max(l,k.dg),g=Math.max(g,k.fg);return{width:d,height:c,Eg:f,dg:l,fg:g}}AA(b,a,d,c,f,l){this.Vk.push({hM:b,width:a,height:d,Eg:c,dg:f,fg:l})}Lv(b,a,d,c,f){"string"===typeof b&&(b=[{text:b,vd:[]}]);e.G(this.Vk);if(!(!b.length||
1===b.length&&!b[0].text.length||2>d)){if(1===b.length){var l=b[0];const g=l.text;l=l.vd;if(100>=g.length&&!g.includes("\n")){let {width:k,height:n,Eg:q,dg:t,fg:p}=a(g,l);k+=f;q=q||0;t=t||0;p=p||0;if(k<=d){this.AA([{text:g,vd:l,width:k,height:n,Eg:q,dg:t,fg:p}],k,n,q,t,p);return}}}if("word"===c)c=this.oea(b);else{c=[];for(const g of b)e.Vm(c,[...g.text].map(k=>[{text:k,vd:g.vd}]))}this.Iea(c,a,d,f)}}oea(b){const a=[];let d=[],c=!1;for(const l of b){var f=l.text;b=l.vd;for(const g of f)"\n"===g?(0<
d.length&&a.push(d),a.push([{text:"\n",vd:b}]),d=[]):0===d.length?(d.push({text:g,vd:b}),c=e.Yz(g)):(f=e.Yz(g),f===c?(f=d.Se(-1),f.vd===b?f.text+=g:d.push({text:g,vd:b})):(a.push(d),d=[],d.push({text:g,vd:b}),c=f))}0<d.length&&a.push(d);return a}n9(b){return b.map(a=>({text:a.text,vd:a.vd,width:a.width,height:a.height,Eg:a.Eg,dg:a.dg,fg:a.fg}))}CR(b,a){var d=b.length?b.Se(-1):null;let c=0;d&&a[0].vd===d.vd&&(d.text+=a[0].text,d.width=-1,d.height=-1,d.Eg=-1,d.dg=-1,d.fg=-1,c=1);for(d=a.length;c<d;++c){const f=
a[c];b.push({text:f.text,vd:f.vd,width:-1,height:-1,Eg:-1,dg:-1,fg:-1})}}Iea(b,a,d,c){let f=[],l=0,g=0,k=0,n=0;var q=0;for(const t of b){if(1===t.length&&"\n"===t[0].text){0===g&&(q=a(" ",t[0].vd),g=q.height,k=q.Eg||0,n=q.dg||0,q=q.fg||0);this.AA(f,l,g,k,n,q);f=[];q=n=k=g=l=0;continue}b=this.n9(f);this.CR(b,t);const p=this.RS(b,a),v=p.width;v>=d?(0<f.length&&this.AA(f,l,g,k,n,q),f=[],e.Xz(t[0].text)?q=n=k=g=l=0:(this.CR(f,t),q=this.RS(f,a),l=q.width,g=q.height,k=q.Eg,n=q.dg,q=q.fg)):(f=b,l=v,g=p.height,
k=p.Eg,n=p.dg,q=p.fg)}0<f.length&&this.AA(f,l,g,k,n,q);this.rea(a,c)}rea(b,a){for(const c of this.Vk){const f=c.hM;if(!f.length)continue;let l=f.Se(-1);var d=l.text;const g=d.trimEnd();if(!g)c.width-=l.width,f.pop();else if(g.length<d.length){d=b(g,l.vd).width;const k=l.width-d;l.width=d;l.text=g;c.width-=k}0!==a&&0<f.length&&(l=f.Se(-1),l.width+=a,c.width+=a)}}Tc(){e.G(this.Vk)}jO(){return this.Vk.reduce((b,a)=>Math.max(b,a.width),0)}q1(){return this.Vk.reduce((b,a)=>b+a.height,0)}}}
{"use strict";const e=self.B,b=self.ol,a=b.BE,d=b.Hy,c=b.Zo,f=a.create(),l=a.create(),g=a.create(),k=d.create(),n=c.create(),q=a.create(),t=a.create(),p=a.create(),v=a.create(),u=a.create(),w=a.create(),y=a.create(),z=a.create(),E=d.eg(0,0,1,1);e.ga={r5(H,J,M,Q,R,V,Z){const ca=Q[0]*H+Q[4]*J+Q[8]*M+Q[12],Y=Q[1]*H+Q[5]*J+Q[9]*M+Q[13],ha=Q[2]*H+Q[6]*J+Q[10]*M+Q[14];Q=Q[3]*H+Q[7]*J+Q[11]*M+Q[15];H=R[0]*ca+R[4]*Y+R[8]*ha+R[12]*Q;J=R[1]*ca+R[5]*Y+R[9]*ha+R[13]*Q;M=R[2]*ca+R[6]*Y+R[10]*ha+R[14]*Q;R=R[3]*
ca+R[7]*Y+R[11]*ha+R[15]*Q;if(0===R)return!1;R=1/R;Z[0]=(H*R*.5+.5)*V[2]+V[0];Z[1]=(J*R*.5+.5)*V[3]+V[1];Z[2]=.5*(1+M*R);return!0},Ak(H,J,M,Q,R,V,Z){c.multiply(n,R,Q);if(null===c.eu(n,n))return!1;k[0]=(H-V[0])/V[2]*2-1;k[1]=(J-V[1])/V[3]*2-1;k[2]=2*M-1;k[3]=1;d.XM(k,k,n);if(0===k[3])return!1;k[3]=1/k[3];Z[0]=k[0]*k[3];Z[1]=k[1]*k[3];Z[2]=k[2]*k[3];return!0},h8(H,J,M,Q,R,V,Z){if(!e.ga.Ak(H,J,0,Q,R,V,f)||!e.ga.Ak(H,J,1,Q,R,V,l))return!1;a.bn(l,l,f);a.set(g,0,0,1);H=-M;J=a.Wo(g,l);M=0;if(0===J){if(0!==
a.Wo(g,f)+H)return!1}else if(M=-(a.Wo(f,g)+H)/J,0>M)return!1;a.OM(Z,f,l,M);return!0}};function G(H,J,M,Q){a.bn(f,M,J);a.bn(l,H,J);a.eM(g,f,l);a.normalize(g,g);Q.set(g[0],g[1],g[2],a.Wo(H,g))}function P(H,J,M,Q,R,V,Z){const ca=Z.x,Y=Z.y,ha=Z.z,ka=Z.w,za=Z.UX,Oa=Z.VX;Z=Z.WX;const ab=1-za,Ua=1-Oa,bb=1-Z;return ca*H*za+ca*Q*ab+Y*J*Oa+Y*R*Ua+ha*M*Z+ha*V*bb>=ka?!0:ca*Q*za+ca*H*ab+Y*R*Oa+Y*J*Ua+ha*V*Z+ha*M*bb>ka}class D{constructor(){this.WX=this.VX=this.UX=this.w=this.z=this.y=this.x=NaN}set(H,J,M,Q){this.x=
H;this.y=J;this.z=M;this.w=Q;this.UX=0<H?1:0;this.VX=0<J?1:0;this.WX=0<M?1:0}}e.ga.q8=class{constructor(){this.BV=new D;this.IW=new D;this.jW=new D;this.gU=new D;this.OV=new D;this.DU=new D}MY(H,J){e.ga.Ak(0,1,0,H,J,E,q);e.ga.Ak(1,1,0,H,J,E,t);e.ga.Ak(0,0,0,H,J,E,p);e.ga.Ak(1,0,0,H,J,E,v);e.ga.Ak(0,1,1,H,J,E,u);e.ga.Ak(1,1,1,H,J,E,w);e.ga.Ak(0,0,1,H,J,E,y);e.ga.Ak(1,0,1,H,J,E,z);G(p,q,u,this.BV);G(q,t,w,this.IW);G(t,v,z,this.jW);G(v,p,y,this.gU);G(y,u,w,this.DU);G(v,t,q,this.OV)}nZ(H,J,M,Q,R,V){return P(H,
J,M,Q,R,V,this.BV)&&P(H,J,M,Q,R,V,this.IW)&&P(H,J,M,Q,R,V,this.jW)&&P(H,J,M,Q,R,V,this.gU)&&P(H,J,M,Q,R,V,this.OV)&&P(H,J,M,Q,R,V,this.DU)}}}
{"use strict";const e=self.B,b=self.ol,a=b.BE,d=b.Hy,c=b.Zo,f=c.create(),l=a.eg(0,0,0),g=a.eg(0,0,0),k=a.eg(0,0,0),n=a.eg(0,1,0);d.eg(0,0,0,0);new e.ld;new e.Rect;const q=new e.ld(0,0,1,0,1,1,0,1);e.ga.M5=class{constructor(){this.T=this.W=0;this.lfa=e.Ia(45);this.AL=Math.tan(this.lfa/2);this.$C=c.create();this.CK=c.create();this.eq=[];this.yD=new Map;this.qL=this.CD=this.DD=null;this.Px=new Map;this.qj=null;this.YI=[];this.NV=new Map;this.Cw=this.rw=0;this.Efa=this.Ffa=1;this.wK=.5;this.hi=0;this.Ws=
!0;this.KJ=!1}$_(t){let p=0,v=t.length,u=0;for(;p<v;)t[p++]=u,t[p++]=u+1,t[p++]=u+2,t[p++]=u,t[p++]=u+2,t[p++]=u+3,u+=4}GR(){this.Cw=this.rw=0;this.qL=this.CD=this.DD=null;this.l9()}Pz(){this.GR();this.qj=null}m4(){for(const t of this.eq)t.j();this.GR()}L(){return this.W}M(){return this.T}yu(t,p,v=.5,u=.5){v=1-v;const w=1*this.AL;p*=w;c.Xga(t,(2*v-2)*p,2*v*p,(2*u-2)*w,2*u*w,1,1E4)}LY(t,p,v){const u=self.devicePixelRatio,w=200*u*this.AL/v;p=p*w/(2*u);v=v*w/(2*u);c.Nha(t,-p,p,-v,v,1,1E4)}kN(t,p,v,u,
w=this.LF()){w=200*self.devicePixelRatio*this.AL/w;a.set(k,w,-w,1);a.multiply(l,p,k);a.multiply(g,v,k);c.Cha(t,l,g,u||n);c.scale(t,t,k)}xu(t,p,v,u,w,y){a.set(l,t,p,v);a.set(g,u,w,0);this.kN(f,l,g,n,y);return f}S8(t){this.eq.push(t);this.yD.set(t.Da(),t)}Eca(t){const p=this.eq.indexOf(t);-1!==p&&this.eq.splice(p,1);this.yD.delete(t.Da())}l9(){e.G(this.eq);this.yD.clear()}yO(t){return this.yD.get(t)||null}Vh(){this.Ln(this.DD)}MG(){this.Ln(this.qL)}xda(t){this.qj=t}$X(t,p,v,u){const w=e.ga.jH.pP(t,
p,v,u);let y=this.Px.get(w);y||(y=e.C(e.ga.jH,this,t,p,v,u),this.Px.set(w,y));y.pY();return y}hQ(t){t.IZ();0===t.ed&&(this.qj===t&&(this.qj=null),this.Px.delete(t.W0()),t.j())}raa(t){e.G(this.YI);this.NV.clear();for(const p of t){t=p[0];const v=p[1],u=p[2];this.YI.push([v,u]);this.NV.set(t,{bza:v,Rwa:u})}}W$(t){return this.YI[t]}vv(t){this.rw=t}Hn(t){this.Cw=t;this.qj=null}aA(t,p,v,u,w,y){var z=this.wK;t=t+z-y;p=p+z-w;v=v+z+y;u=u+z+w;z=2*y;const E=2*w;this.gA(t+w,p-y,0,v+w,u-y,0,v-w-z,u+y-E,0,t-w+
z,p+y+E,0,q)}$z(t,p,v,u,w,y){const z=this.wK;t=t+z-y;p=p+z-w;v=v+z+y;u=u+z+w;this.gA(t+w,p-y,0,v+w,u-y,0,v-w,u+y,0,t-w,p+y,0,q)}Zz(t,p,v,u,w,y){const z=this.wK;t+=z;p+=z;v+=z;u+=z;this.gA(t+w,p-y,0,v+w,u-y,0,v-w,u+y,0,t-w,p+y,0,q)}x3(t,p,v,u){const w=.5*this.Ffa,y=this.Efa;2===y?this.Maa(t,p,v,u,w):1===y?this.Laa(t,p,v,u,w):this.Kaa(t,p,v,u,w)}Maa(t,p,v,u,w){this.aA(t,p,v,p,0,w);this.aA(v,p,v,u,w,0);this.aA(v,u,t,u,0,-w);this.aA(t,u,t,p,-w,0)}Laa(t,p,v,u,w){this.$z(t,p,v,p,0,w);this.$z(v,p,v,u,w,
0);this.$z(v,u,t,u,0,-w);this.$z(t,u,t,p,-w,0)}Kaa(t,p,v,u,w){this.Zz(t,p,v,p,0,w);this.Zz(v,p,v,u,w,0);this.Zz(v,u,t,u,0,-w);this.Zz(t,u,t,p,-w,0)}iP(t){this.x3(t.X,t.S,t.ca,t.Z)}Hu(){this.Li();this.hi++}i2(){this.hi++}TG(t){this.Ws=!!t}K6(t){this.KJ=!!t}dv(){return!1}}}
{"use strict";const e=self.B;e.ga.jH=class{constructor(b,a,d,c,f){this.ma=b;this.ed=0;this.sb=null;this.Jx="";this.Zn=d;this.Bb=e.C(e.lb);this.Bb.set(c);this.rd=f;"string"===typeof a?this.Jx=a:(this.sb=a,this.Jx=this.sb.Da())}j(){if(0<this.ed)throw Error("releasing state group still in use");this.sb=this.ma=null;this.Jx=""}wY(){const b=this.ma;b.Ln(this.sb);b.cf(this.Zn);b.wk(this.Bb);b.Hn(this.rd);b.xda(this)}W0(){return e.ga.jH.pP(this.Jx,this.Zn,this.Bb,this.rd)}pY(){++this.ed}IZ(){--this.ed}Nl(){this.sb=
null}rG(b){this.sb=b.yO(this.Jx);if(!this.sb)throw Error("failed to restore shader program");}static pP(b,a,d,c){return("string"===typeof b?b:b.Da())+","+a+","+d.fb+","+d.ib+","+d.hb+","+d.$a+","+c}}}
{"use strict";const e=self.B,b=e.C(e.ld);function a(d,c,f){const l=f.Gb,g=f.Hb;return[l+(f.wc-l)*d+(f.sc-l)*c,g+(f.xc-g)*d+(f.tc-g)*c]}e.ga.P3=class{constructor(d){this.GK=d;this.Fh=this.Dh=this.rd=this.V=this.$=0}dj(d,c,f,l){this.$=d;this.V=c;this.Dh=f;this.Fh=l}O(){return this.$}hf(d){this.$!==d&&(this.$=d,this.GK.qI())}P(){return this.V}jf(d){this.V!==d&&(this.V=d,this.GK.qI())}Sa(){return this.rd}Ce(d){this.rd!==d&&(this.rd=Math.max(d,0),this.GK.qI())}aH(d){this.Dh=d}bH(d){this.Fh=d}Daa(d,c,f){[this.$,
this.V]=a(d.$,d.V,c);this.rd=d.rd;this.Dh=e.pc(f.X,f.ca,d.Dh);this.Fh=e.pc(f.S,f.Z,d.Fh)}Caa(d,c,f){[this.$,this.V]=a(d.$,d.V,c);this.rd=d.rd;[this.Dh,this.Fh]=a(d.Dh,d.Fh,f)}Kc(){return{x:this.O(),y:this.P(),z:this.Sa(),u:this.Dh,v:this.Fh}}Dc(d){this.hf(d.x);this.jf(d.y);d.hasOwnProperty("z")&&this.Ce(d.z);this.aH(d.u);this.bH(d.v)}};e.ga.sP=class{constructor(d,c,f){if(2>d||2>c)throw Error("invalid mesh size");this.Pk=d;this.el=c;this.dc=f||null;this.Ao=[];this.KV=this.JV=0;this.GV=this.FV=1;this.HV=
0;this.$K=!1;f=d-1;const l=c-1;for(let g=0;g<c;++g){const k=[];for(let n=0;n<d;++n){const q=e.C(e.ga.P3,this,n,g),t=n/f,p=g/l;q.dj(t,p,t,p);k.push(q)}this.Ao.push(k)}}j(){e.G(this.Ao)}qI(){this.$K=!0}Vv(){if(this.$K){var d=Infinity,c=Infinity,f=-Infinity,l=-Infinity,g=0;for(const k of this.Ao)for(const n of k){const q=n.O(),t=n.P();d=Math.min(d,q);c=Math.min(c,t);f=Math.max(f,q);l=Math.max(l,t);g=Math.max(g,n.Sa())}this.JV=d;this.KV=c;this.FV=f;this.GV=l;this.HV=g;this.$K=!1}}f1(){this.Vv();return this.JV}g1(){this.Vv();
return this.KV}c1(){this.Vv();return this.FV}d1(){this.Vv();return this.GV}e1(){this.Vv();return this.HV}Kr(d,c){d=Math.floor(d);c=Math.floor(c);return 0>d||d>=this.Pk||0>c||c>=this.el?null:this.Ao[c][d]}lN(d,c,f){const l=f instanceof e.Rect;if(d.Pk!==this.Pk||d.el!==this.el)throw Error("source mesh wrong size");d=d.Ao;const g=this.Ao;for(let k=0,n=g.length;k<n;++k){const q=d[k],t=g[k];for(let p=0,v=t.length;p<v;++p){const u=q[p],w=t[p];l?w.Daa(u,c,f):w.Caa(u,c,f)}}}me(d){const c=this.Ao;let f=c[0];
for(let l=1,g=c.length;l<g;++l){const k=c[l];let n=f[0],q=k[0];for(let t=1,p=k.length;t<p;++t){const v=f[t],u=k[t];b.set(n.Dh,n.Fh,v.Dh,v.Fh,u.Dh,u.Fh,q.Dh,q.Fh);d.gA(n.O(),n.P(),n.Sa(),v.O(),v.P(),v.Sa(),u.O(),u.P(),u.Sa(),q.O(),q.P(),q.Sa(),b);n=v;q=u}f=k}}L2(d){d=d.ge;const c=[],f=this.Pk-1,l=this.el-1,g=1/f,k=1/l,n=f-1,q=l-1;let t=d[0],p=d[1],v=e.fa(Math.floor(t*f),0,n),u=e.fa(Math.floor(p*l),0,q),w=0,y=0,z=0;var E=-1;const G=()=>{t=e.fa(e.pc(t,w,z),0,1);p=e.fa(e.pc(p,y,z),0,1);c.push(t,p)};for(let P=
0,D=d.length;P<D;P+=2)for(t=d[P],p=d[P+1],c.push(t,p),v=e.fa(Math.floor(t*f),0,n),u=e.fa(Math.floor(p*l),0,q),E=(P+2)%D,w=d[E],y=d[E+1],E=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const H=v*g,J=u*k,M=(v+1)*g,Q=(u+1)*k;if(0!==E&&(z=e.zy(t,p,w,y,H,J,M,Q,-.001),0<=z&&.99999999>=z)){G();E=0;continue}if(0<u&&2!==E&&(z=e.zy(t,p,w,y,H,J,M,J,.001),0<=z&&.99999999>=z)){G();u--;E=4;continue}if(v<n&&3!==E&&(z=e.zy(t,p,w,y,M,J,M,Q,.001),0<=z&&.99999999>=z)){G();v++;E=1;continue}if(0<v&&1!==
E&&(z=e.zy(t,p,w,y,H,J,H,Q,.001),0<=z&&.99999999>=z)){G();v--;E=3;continue}if(u<q&&4!==E&&(z=e.zy(t,p,w,y,H,Q,M,Q,.001),0<=z&&.99999999>=z)){G();u++;E=2;continue}break}return e.C(e.hp,c)}c8(d,c){d=this.pea(d);this.fea(d);c.uE(d)}pea(d){const c=[];d=d.ge;for(let f=0,l=d.length;f<l;f+=2){const [g,k]=this.jR(d[f],d[f+1]);c.push(g,k)}return c}jR(d,c){var f=this.Pk-1,l=this.el-1;const g=1/f,k=1/l;f=e.fa(Math.floor(d*f),0,f-1);const n=e.fa(Math.floor(c*l),0,l-1);l=f*g;const q=n*k,t=(f+1)*g,p=(n+1)*k,v=
this.Kr(f,n),u=this.Kr(f+1,n+1),w=e.nha(d,c,l,q,t,q,t,p);f=this.Kr(f+(w?1:0),n+(w?0:1));const [y,z,E]=e.ria(d,c,l,q,w?l+g:l,w?q:q+k,t,p);return e.qia(y,z,E,v.O(),v.P(),f.O(),f.P(),u.O(),u.P())}fea(d){const c=[];let f=d[0],l=d[1],g=f-d.Se(-2),k=l-d.Se(-1);for(let q=0,t=d.length;q<t;q+=2){var n=(q+2)%t;const p=d[n];n=d[n+1];const v=p-f,u=n-l,w=1E-7>Math.abs(u)&&1E-7>Math.abs(k)&&Math.sign(v)===Math.sign(g);(!(1E-7>Math.abs(v)&&1E-7>Math.abs(g)&&Math.sign(u)===Math.sign(k)||w)&&1E-7<Math.abs(v/g-u/k)||
0==v&&0===u)&&c.push(f,l);f=p;l=n;g=v;k=u}6<=c.length&&c.length<d.length&&e.Cd(d,c)}Kc(){return{cols:this.Pk,rows:this.el,points:this.Ao.map(d=>d.map(c=>c.Kc()))}}Dc(d){const c=this.Pk,f=this.el;if(d.cols!==c||d.rows!==f)throw Error("mesh data wrong size");d=d.points;for(let l=0;l<f;++l){const g=d[l];for(let k=0;k<c;++k)this.Kr(k,l).Dc(g[k])}}}}
{"use strict";const e=self.B,b=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),a=new Set(["nearest","bilinear","trilinear"]),d=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function f(n,q){let t,p;switch(n){case "rgba8":n=q.RGBA8;p=t=q.RGBA;q=q.UNSIGNED_BYTE;break;case "rgb8":n=q.RGB8;p=t=q.RGB;q=q.UNSIGNED_BYTE;break;case "rgba4":n=q.RGBA4;p=t=q.RGBA;q=q.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=q.RGB5_A1;p=t=q.RGBA;q=q.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=q.RGB565;p=t=q.RGB;q=q.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{SM:n,du:t,format:p,type:q}}const l={cn:"clamp-to-edge",dn:"clamp-to-edge",Wd:"trilinear",To:0,EM:"rgba8",mE:!0,wy:"default",premultiplyAlpha:!0,pX:!1,width:-1,height:-1},g={premultiplyAlpha:!0,flipY:!1},k=new Set;e.ga.xA=class{constructor(n){this.ma=n;this.jb=null;this.T=this.W=0;this.ji=!0;this.Um=this.Tm="clamp-to-edge";this.Rc="trilinear";this.MI=0;this.yo="rgba8";this.pm=!1;this.Mq=
"default";this.ed=0}C9(n,q){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");q=Object.assign({},l,q);if(this.jb)throw Error("already created texture");this.Tm=q.cn;this.Um=q.dn;
this.Rc=q.Wd;this.MI=q.To;this.yo=q.EM;this.pm=!!q.mE&&this.ma.Ws;this.Mq=q.wy;if(!c.has(this.Tm)||!c.has(this.Um))throw Error("invalid wrap mode");if(!a.has(this.Rc))throw Error("invalid sampling");if(!b.has(this.yo))throw Error("invalid pixel format");if(!d.has(this.Mq))throw Error("invalid mipmap quality");this.ji=!0;if(n instanceof ArrayBuffer||null===n||q.pX){if(this.W=q.width,this.T=q.height,n instanceof ArrayBuffer&&n.byteLength!==this.W*this.T*4)throw Error("ArrayBuffer wrong size");}else this.W=
n.width,this.T=n.height;if(0>=this.W||0>=this.T)throw Error("invalid texture data size");if(q.pX){var t=e.Ff(this.W,this.T);t.getContext("2d").drawImage(n,0,0,this.W,this.T);n=t}var p=e.pl(this.W)&&e.pl(this.T);t=this.ma.aD;if(this.W>t||this.T>t)throw Error("texture data exceeds maximum texture size");t=this.ma.ba;var v=this.ma.Ud;this.jb=t.createTexture();t.bindTexture(t.TEXTURE_2D,this.jb);t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1);
q=f(this.yo,t);if(this.ma.Op()||p||!this.SH())2<=v?(t.texStorage2D(t.TEXTURE_2D,this.pm?Math.floor(Math.log2(Math.max(this.W,this.T))+1):1,q.SM,this.W,this.T),n instanceof ArrayBuffer?t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.W,this.T,q.format,q.type,new Uint8Array(n)):null!==n&&t.texSubImage2D(t.TEXTURE_2D,0,0,0,q.format,q.type,n)):n instanceof ArrayBuffer?t.texImage2D(t.TEXTURE_2D,0,q.du,this.W,this.T,0,q.format,q.type,new Uint8Array(n)):null===n?t.texImage2D(t.TEXTURE_2D,0,q.du,this.W,this.T,0,q.format,
q.type,null):t.texImage2D(t.TEXTURE_2D,0,q.du,q.format,q.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.W,this.T));n instanceof ImageData&&(p=e.Ff(this.W,this.T),p.getContext("2d").putImageData(n,0,0),n=p);p=e.Ff(e.yM(this.W),e.yM(this.T));v=p.getContext("2d");v.imageSmoothingEnabled="nearest"!==this.Rc;v.drawImage(n,0,0,this.W,this.T,0,0,p.width,p.height);
t.texImage2D(t.TEXTURE_2D,0,q.du,q.format,q.type,p)}null!==n&&this.FT(t);t.bindTexture(t.TEXTURE_2D,null);this.ma.iI();this.ed=1;k.add(this)}p9(n,q,t){t=Object.assign({},l,t);if(this.jb)throw Error("already created texture");this.Tm=t.cn;this.Um=t.dn;this.Rc=t.Wd;this.yo=t.EM;this.pm=!!t.mE&&this.ma.Ws;this.Mq=t.wy;if(!c.has(this.Tm)||!c.has(this.Um))throw Error("invalid wrap mode");if(!a.has(this.Rc))throw Error("invalid sampling");if(!b.has(this.yo))throw Error("invalid pixel format");if(!d.has(this.Mq))throw Error("invalid mipmap quality");
this.ji=!1;this.W=Math.floor(n);this.T=Math.floor(q);n=e.pl(this.W)&&e.pl(this.T);q=this.ma.aD;if(0>=this.W||0>=this.T)throw Error("invalid texture size");if(this.W>q||this.T>q)throw Error("texture exceeds maximum texture size");if(!this.ma.Op()&&this.SH()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.ma.ba;q=this.ma.Ud;this.jb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.jb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);t=f(this.yo,n);n.texImage2D(n.TEXTURE_2D,0,2<=q?t.SM:t.du,this.W,this.T,0,t.format,t.type,null);this.FT(n);n.bindTexture(n.TEXTURE_2D,null);this.ma.iI();this.ed=1;k.add(this)}QH(n){if("default"===this.Mq)return this.ji?n.NICEST:n.FASTEST;if("low"===this.Mq)return n.FASTEST;if("high"===this.Mq)return n.NICEST;throw Error("invalid mipmap quality");}SH(){return"clamp-to-edge"!==this.Tm||"clamp-to-edge"!==this.Um}rS(n,q){if("clamp-to-edge"===q)return n.CLAMP_TO_EDGE;if("repeat"===q)return n.REPEAT;
if("mirror-repeat"===q)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}FT(n){var q=e.pl(this.W)&&e.pl(this.T);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.rS(n,this.Tm));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.rS(n,this.Um));"nearest"===this.Rc?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.pm=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(q||this.ma.Op())&&this.pm?(n.hint(n.GENERATE_MIPMAP_HINT,
this.QH(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.Rc||this.ma.KJ?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.pm=!1));(q=this.ma.mw)&&0<this.MI&&"nearest"!==this.Rc&&n.texParameterf(n.TEXTURE_2D,q.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.MI,this.ma.EK))}QT(n,q){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.jb||0>=this.ed)throw Error("texture not created");if(this.ji)throw Error("cannot update static texture");q=Object.assign({},g,q);const t=n.width||n.videoWidth,p=n.height||n.videoHeight;var v=this.ma.Ud;
const u=this.ma.ba;u.bindTexture(u.TEXTURE_2D,this.jb);u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,!!q.flipY);q=f(this.yo,u);v=2<=v?q.SM:q.du;try{if(this.W===t&&this.T===p){const w=e.pl(this.W)&&e.pl(this.T);u.texSubImage2D(u.TEXTURE_2D,0,0,0,q.format,q.type,n);(w||this.ma.Op())&&this.pm&&(u.hint(u.GENERATE_MIPMAP_HINT,this.QH(u)),u.generateMipmap(u.TEXTURE_2D))}else{this.W=t;this.T=p;const w=e.pl(this.W)&&e.pl(this.T);if(!this.ma.Op()&&this.SH()&&
!w)throw Error("non-power-of-two tiled textures not supported");u.texImage2D(u.TEXTURE_2D,0,v,q.format,q.type,n);(w||this.ma.Op())&&this.pm&&(u.hint(u.GENERATE_MIPMAP_HINT,this.QH(u)),u.generateMipmap(u.TEXTURE_2D))}}catch(w){console.error("Error updating WebGL texture: ",w)}u.bindTexture(u.TEXTURE_2D,null);this.ma.iI()}FH(){if(0<this.ed)throw Error("texture still has references");if(!this.jb)throw Error("already deleted texture");k.delete(this);this.ma.ba.deleteTexture(this.jb);this.jb=null}zb(){return this.ma}W7(){if(0>=
this.ed)throw Error("no more references");this.ed--}L(){return this.W}M(){return this.T}rF(){let n=this.W*this.T;switch(this.yo){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.pm&&(n+=Math.floor(n/3));return n}static Nl(){k.clear()}static oga(){return k.values()}}}
{"use strict";const e=self.B,b=self.ol.Zo,a=new Set(["nearest","bilinear","trilinear"]),d={Wd:"trilinear",alpha:!0,depth:!1,rM:!0,mX:!0,Gha:0},c=new Set;e.ga.pH=class{constructor(f){this.ma=f;this.Em=this.jb=this.xj=null;this.T=this.W=0;this.Ww=!0;this.Rc="trilinear";this.Gs=!0;this.sf=!1;this.$w=!0;this.xm=0;this.Tq=b.create()}o9(f,l,g){g=Object.assign({},d,g);const k=this.ma.Ud;if(this.jb||this.Em)throw Error("already created render target");this.Rc=g.Wd;this.Gs=!!g.alpha;this.sf=!!g.depth;this.$w=
!!g.rM;this.Ww=!!g.mX;this.xm=g.Gha;if(!a.has(this.Rc))throw Error("invalid sampling");if(0<this.xm&&(2>k||this.$w))throw Error("invalid use of multisampling");2>k&&(this.$w=!0);this.W=f;this.T=l;if(0>=this.W||0>=this.T)throw Error("invalid render target size");this.DR();f=this.ma.ba;this.xj=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.xj);this.$w?(this.jb=this.ma.zN(this.W,this.T,{Wd:this.Rc,EM:this.Gs?"rgba8":"rgb8",mE:!1}),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,this.jb.jb,0)):(this.Em=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.Em),l=this.Gs?f.RGBA8:f.RGB8,0<this.xm&&((g=f.getInternalformatParameter(f.RENDERBUFFER,l,f.SAMPLES))&&g[0]?(g=g[0],this.xm>g&&(this.xm=g)):this.xm=0),0===this.xm?f.renderbufferStorage(f.RENDERBUFFER,l,this.W,this.T):f.renderbufferStorageMultisample(f.RENDERBUFFER,this.xm,l,this.W,this.T),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,this.Em),f.bindRenderbuffer(f.RENDERBUFFER,
null));l=this.ma.oq;this.sf&&l&&f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,l);f.bindFramebuffer(f.FRAMEBUFFER,null);c.add(this)}hT(f,l){if(this.W!==f||this.T!==l)this.W=f,this.T=l,this.DR(),f=this.ma.ba,f.bindFramebuffer(f.FRAMEBUFFER,this.xj),this.jb?this.jb.QT(new ImageData(this.W,this.T)):(f.bindRenderbuffer(f.RENDERBUFFER,this.Em),f.renderbufferStorage(f.RENDERBUFFER,this.Gs?f.RGBA8:f.RGB8,this.W,this.T),f.bindRenderbuffer(f.RENDERBUFFER,null)),l=this.ma.oq,
this.sf&&l&&f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,l),f.bindFramebuffer(f.FRAMEBUFFER,null)}FH(){if(!this.jb&&!this.Em)throw Error("already deleted render target");c.delete(this);const f=this.ma.ba;f.bindFramebuffer(f.FRAMEBUFFER,this.xj);this.jb?(f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,null,0),this.ma.Ve(this.jb),this.jb=null):this.Em&&(f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,null),f.deleteRenderbuffer(this.Em),
this.Em=null);f.bindFramebuffer(f.FRAMEBUFFER,null);2<=this.ma.Ud&&(f.bindFramebuffer(f.READ_FRAMEBUFFER,null),f.bindFramebuffer(f.DRAW_FRAMEBUFFER,null));f.deleteFramebuffer(this.xj);this.xj=this.ma.Mc.Uo=null}DR(){this.ma.yu(this.Tq,this.W/this.T)}zb(){return this.ma}Ub(){return this.jb}iG(){return"nearest"!==this.Rc}L(){return this.W}M(){return this.T}V2(f){f=Object.assign({},d,f);return"nearest"!==f.Wd!==this.iG()||!!f.alpha!==this.Gs||!!f.depth!==this.sf||2<=this.ma.Ud&&!!f.rM!==this.$w?!1:"number"===
typeof f.width||"number"===typeof f.height?!this.Ww&&this.L()===f.width&&this.M()===f.height:this.Ww}rF(){return this.jb?this.jb.rF():this.W*this.T*(this.Gs?4:3)}static async BZ(f,l){f=await f.A5(l);return await e.d2(f)}static Nl(){c.clear()}}}
{"use strict";const e=self.B;e.ga.Kv=class{static async kZ(b,a,d,c){const f=b.ba,l=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(l,a);f.compileShader(l);a=f.createShader(f.VERTEX_SHADER);f.shaderSource(a,d);f.compileShader(a);const g=f.createProgram();f.attachShader(g,l);f.attachShader(g,a);f.bindAttribLocation(g,0,"aPos");f.bindAttribLocation(g,1,"aTex");f.bindAttribLocation(g,2,"aPoints");f.linkProgram(g);const k=b.VK;k?await b.Fea(()=>f.getProgramParameter(g,k.COMPLETION_STATUS_KHR)):await e.oH(5);
if(!f.getShaderParameter(l,f.COMPILE_STATUS))throw c=f.getShaderInfoLog(l),f.deleteShader(l),f.deleteShader(a),f.deleteProgram(g),Error("Error compiling fragment shader: "+c);if(!f.getShaderParameter(a,f.COMPILE_STATUS))throw c=f.getShaderInfoLog(a),f.deleteShader(l),f.deleteShader(a),f.deleteProgram(g),Error("Error compiling vertex shader: "+c);if(!f.getProgramParameter(g,f.LINK_STATUS))throw c=f.getProgramInfoLog(g),f.deleteShader(l),f.deleteShader(a),f.deleteProgram(g),Error("Error linking shader program: "+
c);(b=e.a0(f.getProgramInfoLog(g)||"").trim())&&!e.Xz(b)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,b);f.deleteShader(l);f.deleteShader(a);return g}static async Ya(b,a,d,c){d=await e.ga.Kv.kZ(b,a.src,d,c);return new e.ga.Kv(b,d,a,c)}constructor(b,a,d,c){const f=b.ba;var l=b.Mc;b.Li();f.useProgram(a);this.ba=f;this.ma=b;this.Ja=c;this.sb=a;this.tC="<default-device-transform>"===c;c=f.getAttribLocation(a,"aPos");const g=f.getAttribLocation(a,"aTex");this.zK=f.getAttribLocation(a,
"aPoints");-1!==c&&(f.bindBuffer(f.ARRAY_BUFFER,b.ZD),f.vertexAttribPointer(c,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(c));-1!==g&&(f.bindBuffer(f.ARRAY_BUFFER,b.JD),f.vertexAttribPointer(g,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(g));-1!==this.zK&&(f.bindBuffer(f.ARRAY_BUFFER,b.lD),f.vertexAttribPointer(this.zK,4,f.FLOAT,!1,0,0),f.enableVertexAttribArray(this.zK));f.bindBuffer(f.ARRAY_BUFFER,null);this.JL=new e.ga.Lc(this,"matP","mat4");this.IL=new e.ga.Lc(this,"matMV","mat4");this.mr=new e.ga.Lc(this,
"color","vec4");this.gga=new e.ga.Lc(this,"samplerFront","sampler");this.ML=new e.ga.Lc(this,"pointTexStart","vec2");this.LL=new e.ga.Lc(this,"pointTexEnd","vec2");this.PL=new e.ga.Lc(this,"zElevation","float");this.NL=new e.ga.Lc(this,"tileSize","vec2");this.OL=new e.ga.Lc(this,"tileSpacing","vec2");this.HL=new e.ga.Lc(this,"color2_","vec4");this.KL=new e.ga.Lc(this,"outlineThickness","float");this.Yt=new e.ga.Lc(this,"samplerBack","sampler");this.Mm=new e.ga.Lc(this,"destStart","vec2");this.Lm=
new e.ga.Lc(this,"destEnd","vec2");this.Pj=new e.ga.Lc(this,"srcStart","vec2");this.Nm=new e.ga.Lc(this,"srcEnd","vec2");this.Pm=new e.ga.Lc(this,"srcOriginStart","vec2");this.Om=new e.ga.Lc(this,"srcOriginEnd","vec2");this.Eh=new e.ga.Lc(this,"pixelSize","vec2");this.Oo=new e.ga.Lc(this,"seconds","float");this.Lo=new e.ga.Lc(this,"layerScale","float");this.Ko=new e.ga.Lc(this,"layerAngle","float");this.No=new e.ga.Lc(this,"layoutStart","vec2");this.Mo=new e.ga.Lc(this,"layoutEnd","vec2");this.SU=
!!(this.Eh.la||this.Oo.la||this.Yt.la||this.Mm.la||this.Lm.la||this.Pj.la||this.Nm.la||this.Pm.la||this.Om.la||this.Lo.la||this.Ko.la||this.No.la||this.Mo.la);this.AU=d.Rga||0;this.BU=d.Sga||0;this.hJ=!!d.Fga;this.Kfa=!!d.Hha;this.Ht=!!d.Qha;this.kB=!!d.tga;b=d.parameters||[];this.nr=[];this.by=this.Mm.la||this.Lm.la;this.jga=this.Eh.la||this.Pj.la||this.Nm.la||this.Pm.la||this.Om.la;this.Mfa=this.hJ||this.by||0!==this.AU||0!==this.BU;this.HJ=this.IJ=!1;this.mr.QO();this.HL.QO();this.gga.PO(0);this.Yt.PO(1);
this.ML.Ug(0,0);this.LL.Ug(1,1);this.PL.Rr(0);this.NL.Ug(0,0);this.OL.Ug(0,0);this.Mm.Ug(0,0);this.Lm.Ug(1,1);this.Pj.Ug(0,0);this.Nm.Ug(0,0);this.Pm.Ug(0,0);this.Om.Ug(0,0);this.Eh.Ug(0,0);this.Lo.Rr(1);this.Ko.Rr(0);this.Oo.Rr(0);this.No.Ug(0,0);this.Mo.Ug(0,0);this.KL.Rr(1);for(const k of b)b=k[2],a=new e.ga.Lc(this,k[0],b),"color"===b?a.j2():a.Rr(0),this.nr.push(a);this.tC?this.VT(l.jy):(this.vA(l.jy,!0),this.uA(l.fE,!0));l=l.Ci;f.useProgram(l?l.sb:null)}j(){this.ba.deleteProgram(this.sb);this.sb=
null;this.ma.Eca(this);this.ma=this.ba=null}Da(){return this.Ja}Bn(){return this.Kfa}Az(b){return this.nr[b].ik()}xY(b){for(let a=0,d=b.length;a<d;++a)if(!this.nr[a].k3(b[a]))return!1;return!0}v6(b){for(let a=0,d=b.length;a<d;++a)this.nr[a].o6(b[a])}yY(b,a,d,c,f,l,g,k,n){return this.Yt.la||this.Eh.la&&!this.Eh.Ll(f,l)||this.Mm.la&&!this.Mm.Ll(b.X,b.S)||this.Lm.la&&!this.Lm.Ll(b.ca,b.Z)||this.Lo.la&&!this.Lo.lG(g)||this.Ko.la&&!this.Ko.lG(k)||this.Pj.la&&!this.Pj.Ll(a.X,a.S)||this.Nm.la&&!this.Nm.Ll(a.ca,
a.Z)||this.Pm.la&&!this.Pm.Ll(d.X,d.S)||this.Om.la&&!this.Om.Ll(d.ca,d.Z)||this.No.la&&!this.No.Ll(c.X,c.S)||this.Mo.la&&!this.Mo.Ll(c.S,c.Z)||this.Oo.la&&!this.Oo.lG(n)?!1:!0}Y6(b,a,d,c,f,l,g,k,n){this.Yt.la||(this.Eh.la&&this.Eh.Sl(f,l),this.Mm.la&&this.Mm.Sl(b.X,b.S),this.Lm.la&&this.Lm.Sl(b.ca,b.Z),this.Lo.la&&this.Lo.JG(g),this.Ko.la&&this.Ko.JG(k),this.Pj.la&&this.Pj.Sl(a.X,a.S),this.Nm.la&&this.Nm.Sl(a.ca,a.Z),this.Pm.la&&this.Pm.Sl(d.X,d.S),this.Om.la&&this.Om.Sl(d.ca,d.Z),this.No.la&&this.No.Sl(c.X,
c.S),this.Mo.la&&this.Mo.Sl(c.S,c.Z),this.Oo.la&&this.Oo.JG(n))}vA(b,a){this.IJ&&!a||this.tC||(this.JL.la&&this.JL.wA(b),this.IJ=!0)}W6(){this.IJ=!1}uA(b,a){this.HJ&&!a||this.tC||(this.IL.la&&this.IL.wA(b),this.HJ=!0)}V6(){this.HJ=!1}VT(b){if(!this.tC)throw Error("not device transform shader");this.JL.wA(b);b=this.ma;const a=b.L()/2,d=b.M()/2;b=b.xu(a,d,100*self.devicePixelRatio,a,d);this.IL.wA(b)}k8(b){this.mr.la&&this.mr.tA(b[0],b[1],b[2],b[3])}static qz(b){b=b?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${b} vec2 aTex;`,`varying ${b} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const e=self.B,b=self.ol.Zo,a=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);e.ga.Lc=class{constructor(d,c,f){if(!a.has(f))throw Error("invalid uniform type");this.dc=d;this.ba=this.dc.ba;this.Ja=c;this.Ca=f;this.YJ="color"===this.Ca;this.li=this.ba.getUniformLocation(this.dc.sb,c);this.la=!!this.li;d=a.get(f);this.nb=new Float32Array(d);this.Gj=new Float32Array(d)}j(){this.li=this.ba=this.dc=null}ik(){return this.Ca}Rr(d){this.la&&
(this.nb[0]=d,this.Gj.set(this.nb),this.ba.uniform1f(this.li,d))}PO(d){this.la&&(this.nb[0]=d,this.Gj.set(this.nb),this.ba.uniform1i(this.li,d))}Ug(d,c){this.la&&(this.nb[0]=d,this.nb[1]=c,this.Gj.set(this.nb),this.ba.uniform2f(this.li,d,c))}j2(){this.la&&(this.nb[0]=0,this.nb[1]=0,this.nb[2]=0,this.Gj.set(this.nb),this.ba.uniform3f(this.li,0,0,0))}QO(){this.la&&(this.nb[0]=1,this.nb[1]=1,this.nb[2]=1,this.nb[3]=1,this.Gj.set(this.nb),this.ba.uniform4f(this.li,1,1,1,1))}vs(d){d=Math.fround(d);const c=
this.nb;c[0]!==d&&(c[0]=d,this.ba.uniform1f(this.li,d))}mf(d,c){d=Math.fround(d);c=Math.fround(c);const f=this.nb;if(f[0]!==d||f[1]!==c)f[0]=d,f[1]=c,this.ba.uniform2f(this.li,d,c)}i8(d,c,f){d=Math.fround(d);c=Math.fround(c);f=Math.fround(f);const l=this.nb;if(l[0]!==d||l[1]!==c||l[2]!==f)l[0]=d,l[1]=c,l[2]=f,this.ba.uniform3f(this.li,d,c,f)}tA(d,c,f,l){d=Math.fround(d);c=Math.fround(c);f=Math.fround(f);l=Math.fround(l);const g=this.nb;if(g[0]!==d||g[1]!==c||g[2]!==f||g[3]!==l)g[0]=d,g[1]=c,g[2]=
f,g[3]=l,this.ba.uniform4f(this.li,d,c,f,l)}wA(d){const c=this.nb;b.Tj(c,d)||(e.sia(c,d),this.ba.uniformMatrix4fv(this.li,!1,d))}k3(d){const c=this.Gj;return this.YJ?c[0]===Math.fround(d.fb)&&c[1]===Math.fround(d.ib)&&c[2]===Math.fround(d.hb):c[0]===Math.fround(d)}o6(d){const c=this.Gj;this.YJ?(c[0]=d.fb,c[1]=d.ib,c[2]=d.hb):c[0]=d}lG(d){return this.Gj[0]===Math.fround(d)}Ll(d,c){const f=this.Gj;return f[0]===Math.fround(d)&&f[1]===Math.fround(c)}JG(d){this.Gj[0]=d}Sl(d,c){const f=this.Gj;f[0]=d;
f[1]=c}}}
{"use strict";const e=self.B,b=self.ol,a=b.Hy,d=b.Zo;e.ga.DY=class{constructor(c){this.Df=c;this.fE=d.create();this.jy=d.create();this.Uo=null;this.eE=a.eg(1,1,1,1);this.Ci=null;this.FM=new e.Rect;this.clearColor=e.C(e.lb,0,0,0,0)}};e.ga.x8=class{constructor(c){const f=new ArrayBuffer(96);this.Ca=0;this.Mc=c;this.ba=c.Df.ba;this.xq=this.Ah=0;this.xf=null;this.Me=new Float32Array(f,0,16);this.lq=new Float32Array(f,64,4);this.zW=new Float32Array(f,80,4);this.xD=[]}y2(c){this.Ca=1;this.Ah=c;this.xq=
6}XZ(){const c=this.ba;c.drawElements(c.TRIANGLES,this.xq,c.UNSIGNED_SHORT,this.Ah)}G2(c){this.Ca=2;this.xf=c}i_(){const c=this.ba,f=this.xf;c.bindTexture(c.TEXTURE_2D,f?f.jb:null)}YF(c){this.Ca=3;c.Jh(this.lq,0)}ZZ(){const c=this.lq,f=this.Mc;a.za(f.eE,c);f.Ci.k8(c)}b_(){const c=this.lq,f=this.Mc.Ci;f.HL.la&&f.HL.tA(c[0],c[1],c[2],c[3])}z2(c,f){this.Ca=4;this.Ah=c;this.xq=f}YZ(){this.ba.blendFunc(this.Ah,this.xq)}H2(c,f){this.Ca=5;const l=this.lq;l[0]=0;l[1]=0;l[2]=c;l[3]=f}k_(){const c=this.lq;
this.ba.viewport(c[0],c[1],c[2],c[3])}E2(c){this.Ca=6;d.za(this.Me,c)}g_(){const c=this.Mc,f=c.Df.eq,l=c.Ci,g=this.Me;for(let k=0,n=f.length;k<n;++k){const q=f[k];q===l?q.vA(g,!0):q.W6()}d.za(c.jy,g)}B2(c){this.Ca=7;d.za(this.Me,c)}c_(){const c=this.Mc,f=c.Df.eq,l=c.Ci,g=this.Me;for(let k=0,n=f.length;k<n;++k){const q=f[k];q===l?q.uA(g,!0):q.V6()}d.za(c.fE,g)}F2(c){this.Ca=8;this.xf=c}h_(){const c=this.ba;var f=this.xf;const l=this.Mc;f?(f=f.xj,l.Uo=f,c.bindFramebuffer(c.FRAMEBUFFER,f)):(l.Uo=null,
c.bindFramebuffer(c.FRAMEBUFFER,null))}o2(c){this.Ca=9;c.Jh(this.Me,0)}p2(){this.Ca=9;const c=this.Me;c[0]=0;c[1]=0;c[2]=0;c[3]=0}QZ(){const c=this.ba;var f=this.Me,l=this.Mc;const g=l.clearColor;(l=l.Df.Fq&&e.fu)&&c.disable(c.SCISSOR_TEST);const k=f[0],n=f[1],q=f[2];f=f[3];g.my(k,n,q,f)||(c.clearColor(k,n,q,f),g.ep(k,n,q,f));c.clear(c.COLOR_BUFFER_BIT);l&&c.enable(c.SCISSOR_TEST)}n2(c,f,l,g){this.Ca=10;const k=this.Me;k[0]=c;k[1]=f;k[2]=l;k[3]=g;k[4]=0;k[5]=0;k[6]=0;k[7]=0}PZ(){const c=this.ba;var f=
this.Me,l=this.Mc;const g=l.Df;l=l.clearColor;g.Fq||c.enable(c.SCISSOR_TEST);c.scissor(f[0],f[1],f[2],f[3]);const k=f[4],n=f[5],q=f[6];f=f[7];l.my(k,n,q,f)||(c.clearColor(k,n,q,f),l.ep(k,n,q,f));c.clear(c.COLOR_BUFFER_BIT);g.Fq?c.scissor(0,0,g.gy,g.fy):c.disable(c.SCISSOR_TEST)}d_(){const c=this.Me;this.Mc.FM.set(c[0],c[1],c[2],c[3])}WZ(){const c=this.ba,f=this.Mc,l=f.Df.CD;c.useProgram(l.sb);l.vA(f.jy,!1);l.uA(f.fE,!1);var g=f.FM;l.ML.la&&l.ML.mf(g.X,g.S);l.LL.la&&l.LL.mf(g.ca,g.Z);g=this.Me[0];
l.PL.la&&l.PL.vs(g);l.mr.la&&(g=f.eE,l.mr.tA(g[0],g[1],g[2],g[3]));c.drawArrays(c.POINTS,this.Ah/4,this.xq);c.useProgram(f.Ci.sb)}C2(c){this.Ca=12;this.xf=c}e_(){var c=this.ba;const f=this.Mc,l=this.xf;f.Ci=l;c.useProgram(l.sb);l.vA(f.jy,!1);l.uA(f.fE,!1);l.mr.la&&(c=f.eE,l.mr.tA(c[0],c[1],c[2],c[3]))}D2(){this.Ca=13}f_(){const c=this.Mc.Ci;c.SU&&this.i$(c);c.nr.length&&this.j$(c)}i$(c){const f=this.ba,l=this.Me,g=this.lq,k=this.zW;if(c.Yt.la){const n=this.Mc.Df,q=this.xf;n.oo!==q&&(f.activeTexture(f.TEXTURE1),
f.bindTexture(f.TEXTURE_2D,q?q.jb:null),n.oo=q,f.activeTexture(f.TEXTURE0))}c.Eh.la&&c.Eh.mf(l[0],l[1]);c.Mm.la&&c.Mm.mf(l[2],l[3]);c.Lm.la&&c.Lm.mf(l[4],l[5]);c.Lo.la&&c.Lo.vs(l[6]);c.Ko.la&&c.Ko.vs(l[7]);c.Pj.la&&c.Pj.mf(l[12],l[13]);c.Nm.la&&c.Nm.mf(l[14],l[15]);c.Pm.la&&c.Pm.mf(k[0],k[1]);c.Om.la&&c.Om.mf(k[2],k[3]);c.No.la&&c.No.mf(g[0],g[1]);c.Mo.la&&c.Mo.mf(g[2],g[3]);c.Oo.la&&c.Oo.vs(this.Ah)}j$(c){c=c.nr;const f=this.xD;for(let l=0,g=c.length;l<g;++l){const k=c[l],n=f[l];k.YJ?k.i8(n.fb,n.ib,
n.hb):k.vs(n)}}u2(c){this.Ca=14;this.xf=c}VZ(){const c=this.ba,f=this.xf,l=this.Mc.Uo;f!==l&&c.bindFramebuffer(c.FRAMEBUFFER,f);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);f!==l&&c.bindFramebuffer(c.FRAMEBUFFER,l)}k2(c,f){this.Ca=17;var l=this.Me;const g=this.Mc.Df;l[0]=c.L();l[1]=c.M();l[2]=f?f.L():g.L();l[3]=f?f.M():g.M();l[4]=c.iG()?1:0;l[5]=!0;l=this.xD;e.G(l);l.push(c.xj);l.push(f?f.xj:null)}NZ(){var c=this.Me,f=this.xD;const l=this.ba;var g=c[0],k=c[1],n=c[2];const q=c[3],t=
0!==c[4];c=0!==c[5];const p=f[1];l.bindFramebuffer(l.READ_FRAMEBUFFER,f[0]);l.bindFramebuffer(l.DRAW_FRAMEBUFFER,p);c?l.blitFramebuffer(0,0,g,k,0,0,n,q,l.COLOR_BUFFER_BIT,t?l.LINEAR:l.NEAREST):(f=Math.min(g,n),g=Math.min(k,q),n=Math.max(k-q,0),k=Math.max(q-k,0),l.blitFramebuffer(0,n,f,g+n,0,k,f,g+k,l.COLOR_BUFFER_BIT,l.NEAREST))}J2(c){this.Ca=18;this.xf=c}l_(){this.xf.LE();this.xf=null}t2(c){this.Ca=19;this.xf=c}UZ(){this.xf.eF();this.xf=null}a_(){const c=this.Mc.Ci,f=this.Me;c.Eh.la&&c.Eh.mf(f[0],
f[1]);c.KL.la&&c.KL.vs(f[2])}j_(){const c=this.Mc.Ci,f=this.Me;c.Pj.la&&c.Pj.mf(f[0],f[1]);c.Eh.la&&c.Eh.mf(f[4],f[5]);c.NL.la&&c.NL.mf(f[6],f[7]);c.OL.la&&c.OL.mf(f[8],f[9])}m2(){this.Ca=22}OZ(){const c=this.ba;c.clear(c.DEPTH_BUFFER_BIT)}A2(c){this.Ca=23;this.Ah=c?1:0}$Z(){const c=this.ba;0===this.Ah?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}s2(){this.Ca=24}TZ(){const c=this.ba;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,
1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}r2(){this.Ca=25}SZ(){const c=this.ba;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}q2(){this.Ca=26}RZ(){const c=this.ba;c.disable(c.STENCIL_TEST)}xa(){switch(this.Ca){case 1:this.XZ();break;case 2:this.i_();break;case 3:this.ZZ();break;case 4:this.YZ();break;case 5:this.k_();break;case 6:this.g_();break;case 7:this.c_();break;case 8:this.h_();break;case 9:this.QZ();break;case 10:this.PZ();break;
case 11:this.WZ();break;case 12:this.e_();break;case 13:this.f_();break;case 14:this.VZ();break;case 15:this.d_();break;case 16:this.j_();break;case 17:this.NZ();break;case 18:this.l_();break;case 19:this.UZ();break;case 20:this.a_();break;case 21:this.b_();break;case 22:this.OZ();break;case 23:this.$Z();break;case 24:this.TZ();break;case 25:this.SZ();break;case 26:this.RZ()}}}}
{"use strict";const e=self.B,b={timeout:60},a=new e.lb(0,0,0,1),d=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),f=new Set(["word","character"]),l=new Set;e.d0&&e.d0.addEventListener("fontload",q=>{q=q.font.Da();for(const t of l)(t.Je||e.Hh(t.aC,q))&&t.$p()});function g(q,t,p,v,u,w){t?"Gecko"===e.kd.Ny?q.strokeText(p,v,u,w):q.strokeText(p,v,u):"Gecko"===e.kd.Ny?q.fillText(p,v,u,w):q.fillText(p,v,u)}let k=!1,n=!1;e.ga.iQ=class{constructor(q,t){t=Object.assign({},b,t);this.ma=
q;this.aC="Arial";this.bC=16;this.GU=1;this.Hc=0;this.zfa=this.ufa=!1;this.EB="black";this.Je=!1;this.AM=null;this.LI=new Set;this.qe="left";this.ie="top";this.oc="";this.ij=null;this.Cf=e.C(e.Lv);this.pr="word";this.kK=this.KD=!1;this.Uw=!0;this.nh=-1;this.T=this.W=this.hm=this.qf=this.mh=0;this.Bi=1;this.eJ=!1;this.tx=this.wm=this.we=this.gr=null;this.sV=this.tV=-1;this.NC=this.vV=this.pK="";this.qK=this.rK=1;this.ux=(p,v)=>this.Yv(p,v);this.jb=null;this.Rx=this.Tx=0;this.Ag=new e.Rect;this.Hx=
1;this.MK=!1;this.CL=new e.c2(()=>{this.Yg();this.ET(8,8)},t.timeout);this.BM=null;this.Rm=!1;l.add(this)}j(){this.AM=null;this.LI.clear();this.ux=this.tx=this.wm=this.we=this.gr=this.ij=null;this.CL.j();this.BM=null;this.Yg();this.Cf.Tc();this.ma=this.Cf=null;this.Rm=!0;l.delete(this)}Zp(){this.eJ=!0}$p(){this.Zp();this.Cf.Tc();this.KD=!0}Q6(){this.Uw=!1}Vg(){return this.Uw}zQ(q){q=!!q;this.Je!==q&&(q=(this.Je=q)?"alphabetic":"top",this.we&&(this.we.textBaseline=q),this.wm&&(this.wm.textBaseline=
q),this.$p())}F6(){"Arial"!==this.aC&&(this.aC="Arial",this.$p())}G6(){var q=16;.1>q&&(q=.1);this.bC!==q&&(this.bC=q,this.$p())}qA(q){this.Hc!==q&&(this.Hc=q,this.Zp())}nA(q){q=Math.floor(q);this.nh!==q&&(this.nh=q,this.Zp())}Zc(q,t){for(let p=q.length-1;0<=p;--p){const v=q[p];if(v.tag===t)return v}return null}Qn(q,t){return!!this.Zc(q,t)}hS(q,t){let p=[];(this.ufa||this.Qn(t,"b"))&&p.push("bold");(this.zfa||this.Qn(t,"i"))&&p.push("italic");var v=this.Zc(t,"size");v=(v?parseFloat(v.ud):this.bC)*
this.GU;q?p.push(v+"pt"):p.push(v*this.Hx*this.Bi*self.devicePixelRatio+"pt");q=this.aC;(t=this.Zc(t,"font"))&&t.ud&&(q=t.ud,this.AM&&!this.LI.has(q)&&(this.AM(q),this.LI.add(q)));q&&p.push('"'+q+'"');return p.join(" ")}wk(q){q instanceof e.lb&&(q=q.Yga());this.EB!==q&&(this.EB=q,this.Zp())}AQ(q,t,p){a.vE(q,t,p);this.wk(a)}M6(){if(!d.has("center"))throw Error("invalid horizontal alignment");"center"!==this.qe&&(this.qe="center",this.Zp())}z7(){if(!c.has("center"))throw Error("invalid vertical alignment");
"center"!==this.ie&&(this.ie="center",this.Zp())}$Q(q){if(!f.has(q))throw Error("invalid word wrap mode");this.pr!==q&&(this.pr=q,this.$p())}rs(q){this.oc!==q&&(this.oc=q,this.$p())}rc(q,t,p){"undefined"===typeof p&&(p=1);if(!(0>=q||0>=q||this.qf===q&&this.hm===t&&this.Bi===p)){1===this.Bi!==(1===p)&&(this.MK=!0);var v=this.qf,u=this.Bi;this.qf=q;this.hm=t;this.Bi=p;q=self.devicePixelRatio;this.W=this.qf*this.Bi*q;this.T=this.hm*this.Bi*q;q=Math.max(this.W,this.T);t=Math.min(this.ma.aD,2048);p=1;
q>t&&(p=t/q,this.W=Math.min(this.W*p,t),this.T=Math.min(this.T*p,t));this.Hx=p;0<this.Tx&&0<this.Rx&&this.Bi===u&&this.Ag.set(0,0,this.W/this.Tx,this.T/this.Rx);this.qf!==v?this.$p():this.Zp()}}L(){return this.W}M(){return this.T}EO(){this.Vp();return this.Cf.jO()}DO(){this.Vp();return this.Cf.q1()+this.Cf.Vk.length*(this.Hc+4)-this.Hc}Ub(){this.CL.Vc();this.pba();return this.jb}pba(){this.jb&&!this.eJ&&!this.KD||this.kK||0>=this.W||0>=this.T||(this.eJ=!1,this.kK=!0,this.Uw?e.ql(()=>this.SR()):this.SR())}SR(){this.Rm||
(this.ET(Math.ceil(this.W),Math.ceil(this.T)),this.Vp(),this.C$(),this.Aea(),this.CL.Vc(),this.kK=!1)}ET(q,t){this.gr||(this.gr=e.Ff(16,16));let p=!1;if(this.tV!==q||this.sV!==t)this.tV=q,this.sV=t,this.gr.width=q,this.gr.height=t,p=!0;this.we||(this.we=this.gr.getContext("2d"),p=!0);p?(this.we.textBaseline=this.Je?"alphabetic":"top",this.we.font=this.pK,this.we.fillStyle=this.NC,this.we.strokeStyle=this.NC,this.we.globalAlpha=this.rK,this.we.lineWidth=this.qK):this.we.clearRect(0,0,q,t)}LS(){this.wm||
(this.wm=e.Ff(16,16).getContext("2d"),this.tx=e.Ff(16,16).getContext("2d"),this.wm.textBaseline=this.Je?"alphabetic":"top",this.tx.textBaseline="top")}Nda(q){this.vV!==q&&(this.vV=q,this.wm.font=q,this.tx.font=q)}NT(){if(!k){k=!0;this.LS();const q=this.wm.measureText("test");n="number"===typeof q.fontBoundingBoxAscent&&"number"===typeof q.fontBoundingBoxDescent}return n}Vp(){this.KD&&(this.LS(),!this.Je||this.ij&&this.ij.toString()===this.oc||(this.ij=new e.rl(this.oc,{uX:!0})),this.Cf.Lv(this.Je?
this.ij.MX():this.oc,this.ux,this.qf,this.pr,0),this.KD=!1)}Yv(q,t){this.Nda(this.hS(!0,t));t=this.Zc(t,"size");t=(t?parseFloat(t.ud):this.bC)*this.GU;const p=this.wm.measureText(q);let v=0;this.Je&&this.NT()&&(v=p.fontBoundingBoxAscent-this.tx.measureText(q).fontBoundingBoxAscent);return{width:p.width,height:4/3*t,Eg:p.fontBoundingBoxAscent||0,dg:p.fontBoundingBoxDescent||0,fg:v}}Ada(q){this.pK!==q&&(this.pK=q,this.we.font=q)}YA(q){this.NC!==q&&(this.NC=q,this.we.fillStyle=q,this.we.strokeStyle=
q)}zda(q){this.rK!==q&&(this.rK=q,this.we.globalAlpha=q)}uT(q){this.qK!==q&&(this.qK=q,this.we.lineWidth=q)}C$(){this.mh=0;const q=this.Hx*this.Bi*self.devicePixelRatio,t=(4+this.Hc)*q;var p=0;const v=this.Cf.Vk;if(0!==v.length){var u=this.Je&&this.NT(),w=v[0].height*q;"center"===this.ie?(p=v.reduce((y,z)=>y+z.height*q+t,0)-t,p=Math.max(this.T/2-p/2,0),u&&(w=v[0].fg*q)):"bottom"===this.ie&&(p=v.reduce((y,z)=>y+z.height*q+t,0)-this.Hc*q,p=this.T-p-(u?v.Se(-1).dg*q:0)-2);for(let y=0,z=v.length;y<z;++y){u=
v[y];const E=u.height*q,G=p;if(this.Je){if(p+=0===y?w:E,0<y&&p>this.T-4*q)break}else if(0<y&&p>=this.T-E)break;0<=G&&this.B$(u,p,q);this.Je||(p+=E);p+=t}}}B$(q,t,p){let v=0;"center"===this.qe?v=(this.W-q.width*p)/2:"right"===this.qe&&(v=this.W-q.width*p);for(const u of q.hM)this.A$(u,v,t,p,q.height),v+=u.width*p}A$(q,t,p,v,u){const w=this.we;var y=u/16;u=q.width*v;const z=q.height*v,E=q.height/16;var G=(4+this.Hc)*v,P=q.vd,D=q.text;if(-1!==this.nh){if(this.mh>=this.nh)return;this.mh+D.length>this.nh&&
(D=D.substr(0,this.nh-this.mh),u=this.Yv(D,P).width*v);this.mh+=D.length}var H=this.Zc(P,"background"),J=this.Qn(P,"u");q=this.Qn(P,"s");if((!e.Xz(D)||H||J||q)&&!this.Qn(P,"hide")){var M=this.Zc(P,"offsetx");t+=M?parseFloat(M.ud)*v:0;M=this.Zc(P,"offsety");p+=M?parseFloat(M.ud)*v:0;H&&(this.YA(H.ud),w.fillRect(t,p-z,u,z+G));M=this.Zc(P,"color");this.YA(M?M.ud:this.EB);G=this.Zc(P,"opacity");this.zda(G?parseFloat(G.ud)/100:1);G=(G=this.Zc(P,"linethickness"))?parseFloat(G.ud):1;(H=this.Qn(P,"stroke"))&&
this.uT(.5*E*G*this.Hx*this.Bi*self.devicePixelRatio);this.Ada(this.hS(!1,P));g(w,H,D,t,p,u);!H&&(this.uT(.5*E*G*this.Hx*this.Bi*self.devicePixelRatio),P=this.Zc(P,"outline"))&&(this.YA(P.ud),g(w,!0,D,t,p,u));this.YA(M?M.ud:this.EB);J&&(P=t,D=p+v*y,J=u,y=v*y*G,H?w.strokeRect(P,D,J,y):w.fillRect(P,D,J,y));q&&(v*=E,w.fillRect(t,p-z/4+v/2-v*G/2,u,v*G))}}Aea(){this.ma.rn()||(this.Tx=Math.ceil(this.W),this.Rx=Math.ceil(this.T),this.Ag.set(0,0,this.W/this.Tx,this.T/this.Rx),this.MK&&(this.Yg(),this.MK=
!1),this.jb||(this.jb=this.ma.zN(this.Tx,this.Rx,{mE:1===this.Bi,wy:"high"})),this.ma.o8(this.gr,this.jb),this.BM&&this.BM())}Ph(){return this.Ag}Yg(){this.jb&&(this.ma.rn()||this.ma.Ve(this.jb),this.jb=null)}static Nl(){for(const q of l)q.Yg()}}}
{"use strict";const e=self.B;class b{constructor(a){this.ba=a.ba;this.Ud=a.Ud;this.Td=a.Td;this.oi=null;this.Jw=this.Rb=!1;this.tD=0;this.oi=1===this.Ud?this.Td.createQueryEXT():this.ba.createQuery()}j(){this.OR();this.Td=this.ba=null;this.Jw=!1}OR(){this.oi&&(1===this.Ud?this.Td.deleteQueryEXT(this.oi):this.ba.deleteQuery(this.oi),this.oi=null)}LE(){if(this.Rb)throw Error("query already active");1===this.Ud?this.Td.beginQueryEXT(this.Td.TIME_ELAPSED_EXT,this.oi):this.ba.beginQuery(this.Td.TIME_ELAPSED_EXT,
this.oi);this.Rb=!0}eF(){if(!this.Rb)throw Error("query not active");1===this.Ud?this.Td.endQueryEXT(this.Td.TIME_ELAPSED_EXT):this.ba.endQuery(this.Td.TIME_ELAPSED_EXT);this.Rb=!1}QE(){if(this.oi&&!this.Jw&&!this.Rb){var a=1===this.Ud?this.Td.getQueryObjectEXT(this.oi,this.Td.QUERY_RESULT_AVAILABLE_EXT):this.ba.getQueryParameter(this.oi,this.ba.QUERY_RESULT_AVAILABLE);var d=this.ba.getParameter(this.Td.GPU_DISJOINT_EXT);a&&!d&&(this.tD=1===this.Ud?this.Td.getQueryObjectEXT(this.oi,this.Td.QUERY_RESULT_EXT):
this.ba.getQueryParameter(this.oi,this.ba.QUERY_RESULT),this.tD/=1E9,this.Jw=!0);(a||d)&&this.OR()}}Oz(){return this.Jw}Dz(){if(!this.Jw)throw Error("no result available");return this.tD}}e.ga.z8=class{constructor(a){this.ma=a;this.hi=a.hi;this.Rb=!1;this.xo=null;this.Eq=!1;this.Jt=null;this.Xq=[]}j(){for(const a of this.Xq)a instanceof b&&a.j();e.G(this.Xq);this.ma=this.Jt=this.xo=null}LE(){if(this.Rb)throw Error("query already active");const a=this.ma.FW;0<a.length?(this.Eq=!0,this.xo=a.Se(-1),
this.xo.VR(),this.xo.Xq.push(this)):(this.Eq=!1,this.xo=null);this.Rb=!0;a.push(this);this.KT()}eF(){if(!this.Rb)throw Error("query not active");if(this.ma.FW.pop()!==this)throw Error("can only end most nested query");this.Rb=!1;this.VR();this.xo&&(this.xo.KT(),this.xo=null)}KT(){this.Jt=e.C(b,this.ma);this.Xq.push(this.Jt);this.Jt.LE()}VR(){this.Jt.eF();this.Jt=null}QE(){for(const a of this.Xq)a.QE()}Oz(){return this.Xq.every(a=>a.Oz())}Dz(){return this.Xq.reduce((a,d)=>a+d.Dz(),0)}}}
{"use strict";const e=self.B;e.ga.tR=class{constructor(b,a=1E3){this.ma=b;this.Jfa=a;this.Ik=[];this.ma.Q8(this)}j(){this.Tc();this.ma.Dca(this);this.ma=null}Tc(){for(const b of this.Ik)b.j();e.G(this.Ik)}JE(){const b=new e.ga.z8(this.ma);this.Ik.push(b);this.Ik.length>this.Jfa&&this.Ik.shift().j();return b}UY(b){for(const a of this.Ik){if(a.hi>=b)break;if(a.Eq)break;a.QE()}}dO(b,a){if(a<=b)return NaN;let d=0;for(const c of this.Ik){if(c.hi>=a)break;if(!(c.hi<b))if(c.Oz())d+=c.Dz();else return NaN}return d}EN(b){for(let a=
0,d=this.Ik.length;a<d;++a){const c=this.Ik[a];if(c.hi<b)c.j();else{0<a&&this.Ik.splice(0,a);break}}}}}
{"use strict";const e=self.B,b=self.ol,a=b.Hy,d=b.Zo,c={powerPreference:"default",hX:!0,alpha:!1,sM:!1,depth:!1,sX:2,failIfMajorPerformanceCaveat:!1},f=new Set(["default","low-power","high-performance"]),l=new e.ld(0,0,1,0,1,1,0,1),g=d.create(),k=d.create(),n=new e.ld,q=new e.Rect;let t=null;e.fu&&(self.Owa=function(){t?t.loseContext():console.warn("WEBGL_lose_context not supported")},self.Pwa=function(){t?t.restoreContext():console.warn("WEBGL_lose_context not supported")});const p=new Set;let v=
-1;function u(){v=-1;for(const w of p)w.yga()&&(w.resolve(),p.delete(w));0<p.size&&(v=self.requestAnimationFrame(u))}e.ga.y8=class extends e.ga.M5{constructor(w,y){super();y=Object.assign({},c,y);if(!f.has(y.powerPreference))throw Error("invalid power preference");const z={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.sM&&(z.desynchronized=!0,z.preserveDrawingBuffer=!0);let E=null,G=0;2<=y.sX&&(E=w.getContext("webgl2",
z),G=2);E||(E=w.getContext("webgl",z),G=1);if(!E)throw Error("failed to initialise WebGL context");this.ba=E;this.dU=E.getContextAttributes();y.sM&&!this.dU.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");E.getParameter(E.VERSION);this.Ud=G;this.Xf=a.create();this.TI=d.create();this.ZJ=this.Po=!!y.depth;this.oq=null;this.XJ=!0;this.mU=this.nU=0;this.lD=this.aV=this.JD=this.ZD=null;this.ey=new Float32Array(24E3);this.bV=new Uint16Array(12E3);this.fr=
new Float32Array(16E3);this.XV=new Float32Array(32E3);this.wV=this.mD=this.Re=this.Ai=0;this.Do=this.Jq=null;this.uw=[];this.vc=this.Wn=0;this.Pd=null;this.Mc=e.C(e.ga.DY,this);this.lx=e.C(e.lb,1,1,1,1);this.oo=this.um=null;this.mK=this.oK=0;this.Fq=!1;this.fy=this.gy=-1;this.Cfa=new e.Rect;this.aD=-1;this.FK=0;this.$x="(unavailable)";this.bK=!1;this.mw=this.VK=null;this.EK=0;this.yfa=!!y.hX;this.Td=null;this.jB=new Set;this.FW=[];this.$_(this.bV)}dv(){return!0}async Pz(){super.Pz();var w=this.ba;
this.lx.ep(1,1,1,1);this.oo=this.um=null;this.mD=this.Ai=0;this.wV=23988;e.G(this.uw);this.vc=this.Wn=0;this.Pd=this.Jq=null;this.Cfa.set(0,0,1,1);var y=this.Mc;y.Ci=null;y.Uo=null;a.set(y.eE,1,1,1,1);y.clearColor.ep(0,0,0,0);y.FM.set(0,0,1,1);w.clearColor(0,0,0,0);w.clear(w.COLOR_BUFFER_BIT);w.enable(w.BLEND);w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA);this.oK=w.ONE;this.mK=w.ONE_MINUS_SRC_ALPHA;this.saa(w);w.disable(w.CULL_FACE);w.disable(w.STENCIL_TEST);w.disable(w.DITHER);this.Po?(w.enable(w.DEPTH_TEST),
w.depthMask(!0),w.depthFunc(w.LEQUAL)):(w.disable(w.DEPTH_TEST),w.depthMask(!1));this.ZJ=this.Po;this.lD=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.lD);w.bufferData(w.ARRAY_BUFFER,this.XV.byteLength,w.DYNAMIC_DRAW);this.ZD=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.ZD);w.bufferData(w.ARRAY_BUFFER,this.ey.byteLength,w.DYNAMIC_DRAW);this.JD=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.JD);w.bufferData(w.ARRAY_BUFFER,this.fr.byteLength,w.DYNAMIC_DRAW);this.aV=w.createBuffer();w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,
this.aV);w.bufferData(w.ELEMENT_ARRAY_BUFFER,this.bV,w.STATIC_DRAW);w.activeTexture(w.TEXTURE0);w.bindTexture(w.TEXTURE_2D,null);this.aD=w.getParameter(w.MAX_TEXTURE_SIZE);this.FK=w.getParameter(w.ALIASED_POINT_SIZE_RANGE)[1];2048<this.FK&&(this.FK=2048);if(y=w.getExtension("WEBGL_debug_renderer_info"))w.getParameter(y.UNMASKED_VENDOR_WEBGL),this.$x=w.getParameter(y.UNMASKED_RENDERER_WEBGL);this.VK=w.getExtension("KHR_parallel_shader_compile");e.fu&&(t=w.getExtension("WEBGL_lose_context"));if(this.yfa)if(1===
this.Ud){if("Chromium"!==e.kd.Ny||81<=e.kd.NE||"undefined"!==typeof document)this.Td=w.getExtension("EXT_disjoint_timer_query")}else this.Td=w.getExtension("EXT_disjoint_timer_query_webgl2")||w.getExtension("EXT_disjoint_timer_query");this.EK=(this.mw=w.getExtension("EXT_texture_filter_anisotropic"))?w.getParameter(this.mw.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;w=e.ga.Kv;y=w.qz(!1);w=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
w.qz(!0),"<tilemap>"]].map(z=>this.YE({src:z[0]},z[1],z[2])));this.DD=w[0];this.Do=w[1];this.CD=w[2];this.qL=w[3];this.Vh()}async YE(w,y,z){w=await e.ga.Kv.Ya(this,w,y,z);this.S8(w);return w}T5(){this.Jq=null}rc(w,y,z){if(this.W!==w||this.T!==y||z){this.Li();z=this.ba;var E=this.Mc;this.W=w;this.T=y;w=this.tO();y=this.LF();this.HT(w,y);this.yu(this.TI,w/y);this.qs(this.TI);this.Do&&(z.useProgram(this.Do.sb),this.Do.VT(this.$C),this.Jq=this.Do,this.Mc.Ci=this.Do);z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE1);
z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE0);this.oo=this.um=null;this.Po&&this.XJ&&this.pI(this.W,this.T);this.Pd&&this.Pd.hT(this.W,this.T);z.bindFramebuffer(z.FRAMEBUFFER,null);this.Pd=null;E.Uo=null}}pI(w,y){const z=this.ba;if(this.oq){if(this.nU===w&&this.mU===y)return;z.deleteRenderbuffer(this.oq)}this.oq=z.createRenderbuffer();z.bindRenderbuffer(z.RENDERBUFFER,this.oq);z.renderbufferStorage(z.RENDERBUFFER,2<=this.Ud?z.DEPTH24_STENCIL8:z.DEPTH_STENCIL,w,y);z.bindRenderbuffer(z.RENDERBUFFER,
null);this.nU=w;this.mU=y}E6(w,y){this.Po&&(this.XJ=!1,this.pI(w,y))}n6(){this.Po&&(this.XJ=!0,this.pI(this.W,this.T))}tO(){return this.Fq?this.gy:this.L()}LF(){return this.Fq?this.fy:this.M()}HT(w,y){const z=this.Xf;if(0!==z[0]||0!==z[1]||z[2]!==w||z[3]!==y)this.Uc().H2(w,y),a.set(z,0,0,w,y),this.vc=0}qs(w){d.Tj(this.$C,w)||(this.Uc().E2(w),d.za(this.$C,w),this.vc=0)}EQ(){let w,y;var z=this.Pd;null===z||z.Ww&&this.Fq?(w=this.TI,y=this.tO(),z=this.LF()):(w=z.Tq,y=z.L(),z=z.M());this.qs(w);this.HT(y,
z)}ls(w){d.Tj(this.CK,w)||(this.Uc().B2(w),d.za(this.CK,w),this.vc=0)}Uc(){const w=this.uw;this.Wn===w.length&&w.push(new e.ga.x8(this.Mc));return w[this.Wn++]}Li(){0===this.Wn||this.rn()||(this.Jea(),this.F$(),this.vc=this.mD=this.Re=this.Ai=this.Wn=0)}Jea(){const w=this.ba;0<this.mD&&(w.bindBuffer(w.ARRAY_BUFFER,this.lD),w.bufferSubData(w.ARRAY_BUFFER,0,this.XV.subarray(0,this.mD)));0<this.Ai&&(w.bindBuffer(w.ARRAY_BUFFER,this.ZD),w.bufferSubData(w.ARRAY_BUFFER,0,this.ey.subarray(0,this.Ai)),w.bindBuffer(w.ARRAY_BUFFER,
this.JD),w.bufferSubData(w.ARRAY_BUFFER,0,this.fr.subarray(0,this.Re)))}F$(){const w=this.uw;for(let y=0,z=this.Wn;y<z;++y)w[y].xa()}Ld(){return this.lx.$a}Nf(w,y,z,E){const G=this.lx;G.my(w,y,z,E)||(G.ep(w,y,z,E),this.Uc().YF(G),this.vc=0,this.qj=null)}df(w){const y=this.lx;y.$a!==w&&(y.Ih(w),this.Uc().YF(y),this.vc=0,this.qj=null)}wk(w){const y=this.lx;y.gd(w)||(y.set(w),this.Uc().YF(y),this.vc=0,this.qj=null)}gs(){this.Nf(1,1,1,1)}gf(w){w!==this.um&&(this.Uc().G2(w),this.um=w,this.vc=0)}iI(){this.um=
null}cf(w){w=this.W$(w);this.oI(w[0],w[1])}oI(w,y){if(w!==this.oK||y!==this.mK)this.Uc().z2(w,y),this.oK=w,this.mK=y,this.vc=0,this.qj=null}IG(){this.oI(this.ba.ONE,this.ba.ONE_MINUS_SRC_ALPHA)}CQ(){this.oI(this.ba.ONE,this.ba.ZERO)}Rect(w){this.gQ(w.X,w.S,w.ca,w.Z)}gQ(w,y,z,E){this.w5(w,y,z,y,z,E,w,E)}Pv(){let w=this.Ai;w>=this.wV&&(this.Li(),w=0);1===this.vc?this.uw[this.Wn-1].xq+=6:(this.Uc().y2(w),this.vc=1)}yI(w){w.Aia(this.ey,this.Ai,this.rw+this.Cw);this.Ai+=12}ld(w){this.Pv();this.yI(w);l.Jh(this.fr,
this.Re);this.Re+=8}w5(w,y,z,E,G,P,D,H){this.Pv();const J=this.ey;let M=this.Ai;const Q=this.rw+this.Cw;J[M++]=w;J[M++]=y;J[M++]=Q;J[M++]=z;J[M++]=E;J[M++]=Q;J[M++]=G;J[M++]=P;J[M++]=Q;J[M++]=D;J[M++]=H;J[M++]=Q;this.Ai=M;l.Jh(this.fr,this.Re);this.Re+=8}Pl(w,y){this.Pv();this.yI(w);y.zia(this.fr,this.Re);this.Re+=8}eQ(w,y){this.Pv();this.yI(w);y.Jh(this.fr,this.Re);this.Re+=8}gA(w,y,z,E,G,P,D,H,J,M,Q,R,V){this.Pv();const Z=this.ey;let ca=this.Ai;const Y=this.rw+this.Cw;Z[ca++]=w;Z[ca++]=y;Z[ca++]=
Y+z;Z[ca++]=E;Z[ca++]=G;Z[ca++]=Y+P;Z[ca++]=D;Z[ca++]=H;Z[ca++]=Y+J;Z[ca++]=M;Z[ca++]=Q;Z[ca++]=Y+R;this.Ai=ca;V.Jh(this.fr,this.Re);this.Re+=8}f0(w,y){d.za(g,this.$C);d.za(k,this.CK);this.EQ();if(this.Fq){w=this.xu(0,0,100*self.devicePixelRatio,0,0);this.ls(w);w=this.gy/2;var z=this.fy/2;q.set(-w,z,-w+this.gy,z-this.fy);n.Uj(q);q.set(0,0,this.gy/this.W,this.fy/this.T);this.Pl(n,q)}else{const [P,D]=this.m1(this.Pd);z=this.xu(0,0,100*self.devicePixelRatio,0,0,D);this.ls(z);if("crop"===w&&this.Pd&&
y){w=this.W/2;z=this.T/2;const H=y.L();y=y.M();var E=this.Pd.L(),G=this.Pd.M();E=Math.min(E,H);const J=Math.min(G,y),M=Math.max(y-G,0);G=Math.max(G-y,0);q.set(-w,z-G,-w+E,z-J-G);n.Uj(q);q.set(0,M,E,J+M);q.ml(H,y);this.Pl(n,q)}else w=P/2,z=D/2,this.gQ(-w,z,w,-z)}this.qs(g);this.ls(k)}Ln(w){this.Jq!==w&&(this.Uc().C2(w),this.Jq=w,this.vc=0,this.qj=null)}x6(){this.Ln(this.Do)}os(w,y,z,E,G,P,D,H,J,M,Q){const R=this.Jq;var V=R.SU;const Z=!!Q.length;if(V&&!R.yY(y,z,E,G,P,D,H,J,M)||Z&&!R.xY(Q)){var ca=this.Uc();
ca.D2();V&&(R.Y6(y,z,E,G,P,D,H,J,M),V=ca.Me,V[0]=P,V[1]=D,y.Jh(V,2),V[6]=H,V[7]=J,z.Jh(V,12),y=ca.lq,G.Jh(y,0),G=y[1],y[1]=y[3],y[3]=G,E.Jh(ca.zW,0),ca.Ah=M,ca.xf=R.Yt.la?w?w.Ub():null:null);Z&&(R.v6(Q),e.Cd(ca.xD,Q));this.vc=0}}Ty(){this.Uc().p2();this.vc=0}Tc(w){this.Uc().o2(w);this.vc=0}RE(w){this.$Y(w.X,w.S,w.width(),w.height())}$Y(w,y,z,E){0>z||0>E||(this.Uc().n2(w,y,z,E),this.vc=0)}Nn(){}Hu(){super.Hu();this.ba.flush()}WY(){this.Po&&this.Pd&&this.Pd.sf&&(this.Uc().m2(),this.vc=0)}In(w){w=!!w;
this.ZJ!==w&&this.Po&&(this.ZJ=w,this.Uc().A2(w),this.vc=0)}TY(){for(const w of this.jB)w.UY(this.hi)}rn(){return!this.ba||this.ba.isContextLost()||this.bK}Nl(){super.m4();e.ga.xA.Nl();e.ga.pH.Nl();e.ga.iQ.Nl();for(const w of this.jB)w.Tc();this.mw=this.VK=this.Td=null;this.EK=0;this.$x="(unavailable)";this.oq=this.Do=this.Jq=null;for(const w of this.Px.values())w.Nl()}async rG(){this.bK=!0;await this.Pz();this.bK=!1;for(const w of this.Px.values())w.rG(this);this.rc(this.W,this.T,!0)}Wj(w,y){if(this.rn())throw Error("context lost");
this.Li();const z=e.C(e.ga.xA,this);z.C9(w,y);return z}Xy(w,y){if(this.rn())return Promise.reject("context lost");y=Object.assign({},y);const z=y.cn&&"clamp-to-edge"!==y.cn||y.dn&&"clamp-to-edge"!==y.dn;if(!e.$b.ImageBitmapOptions||!this.Op()&&z)return e.$b.ImageBitmap?createImageBitmap(w).then(E=>e.ql(()=>this.Wj(E,y))):w instanceof Blob?e.fN(w,!0).then(E=>this.Xy(E,y)):"undefined"!==typeof HTMLImageElement&&w instanceof HTMLImageElement&&"function"===typeof w.decode?w.decode().then(()=>e.ql(()=>
this.Wj(w,y))):e.ql(()=>this.Wj(w,y));y.premultiplyAlpha=!1;return createImageBitmap(w,{premultiplyAlpha:"premultiply"}).then(E=>e.ql(()=>this.Wj(E,y)))}zN(w,y,z){this.Li();const E=e.C(e.ga.xA,this);E.p9(w,y,z);return E}o8(w,y){this.Li();y.QT(w,void 0)}Ve(w){w&&(w.W7(),0<w.ed||(this.Li(),w===this.um&&(this.ba.bindTexture(this.ba.TEXTURE_2D,null),this.um=null),w===this.oo&&(this.ba.activeTexture(this.ba.TEXTURE1),this.ba.bindTexture(this.ba.TEXTURE_2D,null),this.ba.activeTexture(this.ba.TEXTURE0),
this.oo=null),w.FH()))}xZ(w){let y=this.W,z=this.T,E=!0;w&&("number"===typeof w.width&&(y=w.width,E=!1),"number"===typeof w.height&&(z=w.height,E=!1));if(0>=y||0>=z)throw Error("invalid size");this.Li();const G=e.C(e.ga.pH,this);G.o9(y,z,Object.assign({mX:E},w));this.Pd=null;this.Mc.Uo=null;return G}ff(w){w!==this.Pd&&(w&&w.Ww&&w.hT(this.W,this.T),this.Uc().F2(w),this.Pd=w,this.vc=0,this.EQ())}Cz(){return this.Pd}m1(w){return w?[w.L(),w.M()]:[this.W,this.T]}UE(w){2>this.Ud||this.Pd&&0<this.Pd.xm?
(this.CQ(),this.gs(),this.Cu(w,"stretch")):(this.Uc().k2(w,this.Pd),this.vc=0)}Cu(w,y="stretch"){w=w.Ub();if(!w)throw Error("not a texture-backed render target");this.gf(w);this.f0(y,w)}yp(w){2>this.Ud||(this.Uc().u2(w.xj),this.vc=0)}MZ(w){this.ff(null);this.Li();const y=w.Ub();y===this.um&&(this.ba.bindTexture(this.ba.TEXTURE_2D,null),this.um=null);y===this.oo&&(this.ba.activeTexture(this.ba.TEXTURE1),this.ba.bindTexture(this.ba.TEXTURE_2D,null),this.ba.activeTexture(this.ba.TEXTURE0),this.oo=null);
w.FH()}async A5(w){this.Li();const y=this.Pd;if(w){var z=w.L();var E=w.M();w=w.xj}else z=this.L(),E=this.M(),w=null;const G=this.ba;G.bindFramebuffer(G.FRAMEBUFFER,w);w=new ImageData(z,E);G.readPixels(0,0,z,E,G.RGBA,G.UNSIGNED_BYTE,new Uint8Array(w.data.buffer));(()=>{G.bindFramebuffer(G.FRAMEBUFFER,null);this.Pd=null;this.Mc.Uo=null;this.ff(y)})();return w}wN(){this.In(!0);this.Uc().s2();this.vc=0}vN(){this.In(!1);this.Uc().r2();this.vc=0}uN(){this.In(!0);this.Uc().q2();this.vc=0}iH(w){this.zk()&&
(this.Uc().J2(w),this.vc=0)}dF(w){this.zk()&&(this.Uc().t2(w),this.vc=0)}Fea(w){const y=new Promise(z=>p.add({resolve:z,yga:w}));-1===v&&(v=self.requestAnimationFrame(u));return y}Y2(){return!!this.dU.desynchronized}w0(){let w=0;for(const y of e.ga.xA.oga())w+=y.rF();return w}Op(){return 2<=this.Ud}zk(){return!!this.Td}Q8(w){this.jB.add(w)}Dca(w){this.jB.delete(w)}saa(w){this.raa([["normal",w.ONE,w.ONE_MINUS_SRC_ALPHA],["additive",w.ONE,w.ONE],["xor",w.ONE,w.ONE_MINUS_SRC_ALPHA],["copy",w.ONE,w.ZERO],
["destination-over",w.ONE_MINUS_DST_ALPHA,w.ONE],["source-in",w.DST_ALPHA,w.ZERO],["destination-in",w.ZERO,w.SRC_ALPHA],["source-out",w.ONE_MINUS_DST_ALPHA,w.ZERO],["destination-out",w.ZERO,w.ONE_MINUS_SRC_ALPHA],["source-atop",w.DST_ALPHA,w.ONE_MINUS_SRC_ALPHA],["destination-atop",w.ONE_MINUS_DST_ALPHA,w.SRC_ALPHA]])}}}
{"use strict";let e=null;const b=new Set;let a=!1;self.V1=class{constructor(d){e=d;Object.defineProperties(this,{aha:{value:{},writable:!1},storage:{value:new self.Z1(e),writable:!1},Exa:{value:e.Le,writable:!1}});e.xe.addEventListener("keydown",c=>{b.has(c.key)?c.stopPropagation():b.add(c.key)});e.xe.addEventListener("keyup",c=>b.delete(c.key));e.Ib().addEventListener("window-blur",()=>b.clear());e.Le&&(self.alert=c=>{a||(a=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}uaa(d){Object.defineProperties(this.aha,d)}addEventListener(d,c){e.xe.addEventListener(d,c)}removeEventListener(d,c){e.xe.removeEventListener(d,c)}get fX(){return e.Al()}get lxa(){return e.Ng()}random(){return e.Ql()}get Fg(){return e.Tb().Mw}get keyboard(){const d=e.Ls.keyboard;if(!d)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return d}get vM(){const d=e.Ls.vM;if(!d)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return d}get WM(){const d=e.Ls.WM;if(!d)throw Error("runtime.touch used but Touch object missing - add it to your project first");return d}alert(d){return e.Ep("runtime","alert",{message:d+(e.Le?" [via Web Worker]":"")})}}}"use strict";self.O1=class{constructor(){}};{"use strict";const e=self.Hi;self.Z1=class{constructor(b){this.Dg=b.mS()}getItem(b){e.Ae(b);return this.Dg.getItem(b)}setItem(b,a){e.Ae(b);return this.Dg.setItem(b,a)}removeItem(b){e.Ae(b);return this.Dg.removeItem(b)}clear(){return this.Dg.clear()}keys(){return this.Dg.keys()}}}
{"use strict";const e=self.Hi,b=new WeakMap;self.$u=class{constructor(a){b.set(this,a);Object.defineProperties(this,{name:{value:a.Da(),writable:!1}});a.I().JS(this,a)}addEventListener(a,d){e.Ae(a);e.sk(d);b.get(this).xe.addEventListener(a,d)}removeEventListener(a,d){e.Ae(a);e.sk(d);b.get(this).xe.removeEventListener(a,d)}*lX(){for(const a of b.get(this).ta())yield a.Nh()}dM(a){e.ng(void 0);e.ng(void 0);if("number"!==typeof a&&"string"!==typeof a)throw new TypeError("invalid layer parameter");var d=
b.get(this),c=d.I();a=c.Tb().ka(a);if(!a)throw Error("invalid layer");d=c.WE(d,a,void 0,void 0,void 0);c=c.qa();c.Te(!0);d.dB();c.Te(!1);return d.Nh()}}}
{"use strict";const e=self.Hi,b=new WeakMap;self.T1=class{constructor(a){b.set(this,a);const d=[],c=a.Wa,f=c.Jg().length;for(let l=0;l<f;++l)d.push(new self.XF(c,l));Object.defineProperties(this,{name:{value:a.Da(),writable:!1},index:{value:a.La(),writable:!1},gX:{value:d,writable:!1}})}addEventListener(a,d){e.Ae(a);e.sk(d);b.get(this).xe.addEventListener(a,d)}removeEventListener(a,d){e.Ae(a);e.sk(d);b.get(this).xe.removeEventListener(a,d)}get width(){return b.get(this).L()}set width(a){b.get(this).Zd(a)}get height(){return b.get(this).M()}set height(a){b.get(this).Be(a)}set scale(a){e.Rl(a);
b.get(this).Mp(a)}get scale(){return b.get(this).ec}set angle(a){e.Rl(a);b.get(this).Wc(a)}get angle(){return b.get(this).na()}set scrollX(a){e.ng(a);b.get(this).Xi(a)}get scrollX(){return b.get(this).ig()}set scrollY(a){e.ng(a);b.get(this).Yi(a)}get scrollY(){return b.get(this).jg()}scrollTo(a,d){e.ng(a);e.ng(d);const c=b.get(this);c.Xi(a);c.Yi(d)}set CX(a){e.Ae(a);const d=b.get(this);if("perspective"===a)d.TQ();else if("orthographic"===a)d.QQ();else throw Error("invalid projection");}get CX(){return b.get(this).Qf?
"orthographic":"perspective"}}}
{"use strict";const e=self.B,b=self.Hi,a=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);const d=e.C(e.lb);self.S1=class{constructor(c){a.set(this,c);const f=[],l=c.Wa,g=l.Jg().length;for(let k=0;k<g;++k)f.push(new self.XF(l,k));Object.defineProperties(this,{name:{value:c.Da(),writable:!1},index:{value:c.La(),
writable:!1},Fg:{value:c.Ac().Mw,writable:!1},gX:{value:f,writable:!1}})}get isVisible(){return a.get(this).jd()}set isVisible(c){a.get(this).Od(c)}get opacity(){return a.get(this).Ld()}set opacity(c){c=e.fa(+c,0,1);isNaN(c)||a.get(this).df(c)}set scale(c){b.Rl(c);a.get(this).RQ(c)}get scale(){return a.get(this).ec}set angle(c){b.Rl(c);a.get(this).Wc(c)}get angle(){return a.get(this).Ge}set Jy(c){b.Rl(c);a.get(this).Ce(c)}get Jy(){return a.get(this).Sa()}set backgroundColor(c){b.CG(c);if(3>c.length)throw Error("expected 3 elements");
d.vE(c[0],c[1],c[2]);c=a.get(this);const f=c.dm;f.Xo(d)||(f.Wm(d),c.I().U())}get backgroundColor(){const c=a.get(this).dm;return[c.fb,c.ib,c.hb]}set scrollX(c){b.ng(c);const f=a.get(this);f.zv(!0);f.Xi(c)}get scrollX(){return a.get(this).ig()}set scrollY(c){b.ng(c);const f=a.get(this);f.zv(!0);f.Yi(c)}get scrollY(){return a.get(this).jg()}scrollTo(c,f){b.ng(c);b.ng(f);const l=a.get(this);l.zv(!0);l.Xi(c);l.Yi(f)}}}
{"use strict";const e=self.B,b=self.Hi,a=new WeakMap,d=new WeakMap;function c(l){let g=d.get(l);if(g)return g;g=e.C(e.Event.Ib);d.set(l,g);return g}let f=null;self.Qr=class{constructor(){a.set(this,f);const l={Sc:{value:f.I().Bj,writable:!1},zM:{value:f.J().Nw,writable:!1},uid:{value:f.ic,writable:!1}};f.aaa(l);f.V$(l);Object.defineProperties(this,l);f.I().JS(this,f)}static dj(l){f=l}static Up(){return f}$v(){const l=d.get(this);l&&(l.j(),d.delete(this));a.delete(this)}addEventListener(l,g,k){b.Ae(l);
b.sk(g);c(this).addEventListener(l,g,k)}removeEventListener(l,g,k){b.Ae(l);b.sk(g);c(this).removeEventListener(l,g,k)}dispatchEvent(l){c(this).dispatchEvent(l)}}}
{"use strict";const e=self.B,b=self.Hi,a=self.Qr,d=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);e.C(e.lb);self.av=class c extends a{constructor(){super();var f=a.Up();d.set(this,f);const l=[];var g=f.A();if(f=g.Ie){g=g.J().Wa.Jg().length;for(let k=0;k<g;++k)l.push(new self.XF(f,k))}Object.defineProperties(this,
{gX:{value:l,writable:!1}})}get Fg(){return d.get(this).A().Ac().Mw}get ke(){return d.get(this).A().ka().nfa}get x(){return d.get(this).A().O()}set x(f){f=+f;const l=d.get(this).A();isNaN(f)||l.O()===f||(l.hf(f),l.ab())}get y(){return d.get(this).A().P()}set y(f){f=+f;const l=d.get(this).A();isNaN(f)||l.P()===f||(l.jf(f),l.ab())}get Jy(){return d.get(this).A().Sa()}set Jy(f){f=+f;const l=d.get(this),g=l.A();isNaN(f)||g.Sa()===f||(g.Ce(f),l.I().U())}get width(){return d.get(this).A().L()}set width(f){f=
+f;const l=d.get(this).A();isNaN(f)||l.L()===f||(l.Zd(f),l.ab())}get height(){return d.get(this).A().M()}set height(f){f=+f;const l=d.get(this).A();isNaN(f)||l.M()===f||(l.Be(f),l.ab())}get angle(){return d.get(this).A().na()}set angle(f){f=e.Vd(+f);const l=d.get(this).A();isNaN(f)||l.na()===f||(l.Wc(f),l.ab())}lM(){d.get(this).A().hd().lia()}get isVisible(){return d.get(this).A().jd()}set isVisible(f){f=!!f;const l=d.get(this),g=l.A();g.jd()!==f&&(g.Od(f),l.I().U())}get opacity(){return d.get(this).A().Ld()}set opacity(f){f=
e.fa(+f,0,1);const l=d.get(this),g=l.A();isNaN(f)||g.Ld()===f||(g.df(f),l.I().U())}get zIndex(){return d.get(this).A().jk()}bg(f,l){b.ng(f);b.ng(l);return d.get(this).A().Au(+f,+l)}getParent(){const f=d.get(this).Fa();return f?f.Nh():null}*xy(){for(const f of d.get(this).xy())yield f.Nh()}*children(){for(const f of d.get(this).children())yield f.Nh()}*kl(){for(const f of d.get(this).kl())yield f.Nh()}removeChild(f){b.DG(f,c);const l=d.get(this);f=d.get(f);l.rk(f)}}}
{"use strict";const e=new WeakMap;self.Ona=class extends self.av{constructor(){super();e.set(this,self.Qr.Up())}focus(){e.get(this).ra.QN()}blur(){e.get(this).ra.hN()}}}
{"use strict";const e=self.B,b=self.Hi,a=new WeakMap,d=new WeakMap;function c(l){let g=d.get(l);if(g)return g;g=e.C(e.Event.Ib);d.set(l,g);return g}let f=null;self.NO=class{constructor(){a.set(this,f);const l={Sc:{value:f.I().Bj,writable:!1},behavior:{value:f.gn().N0(),writable:!1}};Object.defineProperties(this,l)}static dj(l){f=l}static Up(){return f}get instance(){return a.get(this).R.Nh()}$v(){const l=d.get(this);l&&(l.j(),d.delete(this));a.delete(this)}addEventListener(l,g,k){b.Ae(l);b.sk(g);
c(this).addEventListener(l,g,k)}removeEventListener(l,g,k){b.Ae(l);b.sk(g);c(this).removeEventListener(l,g,k)}dispatchEvent(l){c(this).dispatchEvent(l)}}}{"use strict";const e=new WeakMap;self.Q1=class{constructor(b){e.set(this,b);Object.defineProperties(this,{Sc:{value:b.I().Bj,writable:!1}})}}}
{"use strict";const e=self.B,b=self.Hi,a=new WeakMap;self.XF=class{constructor(d,c){a.set(this,d);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return a.get(this).Jg()[this.index].Da()}getParameter(d){b.Rl(d);d=Math.floor(+d);const c=a.get(this).Mg(this.index);if(0>d||d>=c.length)throw new RangeError("invalid effect parameter index");d=c[d];return d instanceof e.lb?[d.fb,d.ib,d.hb]:d}}}
{"use strict";const e=self.B,b=new Set(["local","remote"]),a=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);e.CY=class extends e.oa{constructor(d,c){super();var f=c.exportType;this.b=d;this.XC=new Map;this.xt=new Map;this.Hfa=new Map;this.sC="cordova"===f;this.lK=!!c.isiOSCordova;this.Xw=!!c.isFileProtocol;this.dga=c.supportedAudioFormats||{};this.SI=
new Map;this.ZV=!1;this.YU=this.HU=this.IV="";this.JB="html5"===f||"scirra-arcade"===f||"instant-games"===f?"remote":"local";this.HI=[];this.RI=new Map;this.UL=[];this.VC=[];this.TU=!1;this.MC=this.QI=this.Xx=0;this.JJ=!1;this.Gfa=e.C(e.z5,()=>this.$R(),50);this.fL=new e.uG(Math.max(e.hardwareConcurrency,8));if(d=c.previewImageBlobs){(f=c.previewProjectFileBlobs)&&Object.assign(d,f);(f=c.projectData)&&(d["data.json"]=f);for(const [l,g]of Object.entries(d))this.XC.set(l.toLowerCase(),g)}if(c=c.previewProjectFileSWUrls)for(const [l,
g]of Object.entries(c))this.Hfa.set(l,g);new self.O1(this)}j(){this.XC.clear();for(const d of this.xt.values())d.startsWith("blob:")&&URL.revokeObjectURL(d);this.xt.clear();for(const d of this.HI)d.j();e.G(this.HI);this.RI.clear();e.G(this.VC);this.b=null}I(){return this.b}Oda(d){this.IV=d}Bda(d){this.HU=d}Gda(d){this.YU=d}MA(d){return this.XC.has(d.toLowerCase())}JA(d){return this.XC.get(d.toLowerCase())||null}DF(d){if(!this.MA(d))return d;d=d.toLowerCase();var c=this.xt.get(d);c||(c=this.JA(d),
c=URL.createObjectURL(c),this.xt.set(d,c));return c}xl(d,c){c=c||this.JB;const f=this.JA(d);if(f)return Promise.resolve(f);if(e.kG(d)){const l=d.toLowerCase();return this.sC&&this.Xw?this.yN(l):"local"===c?this.fL.yc(()=>e.xl(l)):e.xl(l)}return e.xl(d)}Fu(d){const c=this.JA(d);if(c)return e.HY(c);if(e.kG(d)){const f=d.toLowerCase();return this.sC&&this.Xw?this.xN(f):"local"===this.JB?this.fL.yc(()=>e.Fu(f)):e.Fu(f)}return e.Fu(d)}Gu(d){const c=this.JA(d);if(c)return e.gN(c);if(e.kG(d)){const f=d.toLowerCase();
return this.sC&&this.Xw?this.rZ(f):"local"===this.JB?this.fL.yc(()=>e.Gu(f)):e.Gu(f)}return e.Gu(d)}async ON(d){d=await this.Gu(d);return JSON.parse(d)}wH(d,c){return this.b.Ep("runtime","cordova-fetch-local-file",{filename:d,as:c})}rZ(d){return this.wH(d,"text")}async yN(d){const c=await this.wH(d,"buffer");d?(d=d.split("."),d=2>d.length?"":a.get(d.Se(-1).toLowerCase())||""):d="";return new Blob([c],{type:d})}async qZ(d){d=d.toLowerCase();var c=this.xt.get(d);if(c)return c;c=await this.yN(d);c=URL.createObjectURL(c);
this.xt.set(d,c);return c}xN(d){return this.wH(d,"buffer")}kO(d){return this.MA(d)?this.DF(d):this.IV+d.toLowerCase()}HF(d,c=""){if(e.aG(d)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(d)}return this.MA(d)?Promise.resolve(this.DF(d)):this.sC&&this.Xw?this.qZ(c+d):Promise.resolve(c+d.toLowerCase())}bA(d){if(d.uy&&!b.has(d.uy))throw Error("invalid load policy");let c=this.RI.get(d.url);if(c)return c;c=e.C(e.OO,this,{url:d.url,size:d.size||0,uy:d.uy||this.JB});
this.HI.push(c);this.RI.set(c.Qj,c);this.TU||(this.Xx+=c.pn(),this.VC.push(c.kP().then(()=>this.yR(c.pn()))));return c}async rR(){try{await Promise.all(this.VC),this.MC=1}catch(d){console.error("Error loading: ",d),this.JJ=!0,this.$R()}}N6(){this.TU=!0}yR(d){this.QI+=d;this.Gfa.OY()}$R(){const d=e.C(e.Event,"loadingprogress");this.MC=e.fa(this.QI/this.Xx,0,1);d.progress=this.MC;this.b.Ib().dispatchEvent(d)}$da(d){e.Cd(this.UL,d);this.UL.length&&this.VC.push(this.hba())}hba(){if("undefined"===typeof FontFace)return Promise.resolve();
const d=[];for(const [c,f,l]of this.UL)this.Xx+=l,d.push(this.gba(c,f).then(()=>this.yR(l)));return Promise.all(d)}async gba(d,c){try{const f=await this.HF(c,this.HU),l=new FontFace(d,`url('${f}')`);this.b.Le?self.fonts.add(l):document.fonts.add(l);await l.load()}catch(f){console.warn(`[C3 runtime] Failed to load web font '${d}': `,f)}}RO(d){return!!this.dga[d]}sda(d,c){this.ZV=!!c;for(const [f,l,g]of d)this.SI.set(f,{fileName:f,Tga:l.map(k=>({type:k[0],Wwa:k[1],iX:f+k[1],fileSize:k[2]})),mha:g})}pO(d){d=
this.SI.get(d.toLowerCase());if(!d)return null;let c=null;for(const f of d.Tga)if(c||"audio/webm; codecs=opus"!==f.type||(c=f),this.RO(f.type))return f;return c}Pg(d){return(d=this.pO(d))?{url:this.kO(d.iX),type:d.type}:null}m0(){if(this.ZV){const d=[];for(const c of this.SI.values()){if(c.mha)continue;const f=this.pO(c.fileName);f&&d.push({Mha:c.fileName,url:this.kO(f.iX),type:f.type,fileSize:f.fileSize})}return d}return[]}async oP(d){d=await this.HF(d);return await this.b.Ep("runtime","add-stylesheet",
{url:d})}}}
{"use strict";const e=self.B;e.BY=class extends e.oa{constructor(b,a){super();this.Ab=b;this.b=b.I();this.Qj=a.url;this.Mt=a.size;this.xK=a.uy;this.vw=null;this.eK=!1;this.ro=null}j(){this.vw=this.b=this.Ab=this.ro=null}pn(){return this.Mt}kP(){return"local"===this.xK||this.vw?(this.eK=!0,Promise.resolve()):this.ro?this.ro:this.ro=this.Ab.xl(this.Qj,this.xK).then(b=>{this.eK=!0;this.ro=null;return this.vw=b}).catch(b=>console.error("Error loading resource: ",b))}Uz(){return this.eK}UN(){return this.vw?Promise.resolve(this.vw):
this.ro?this.ro:this.Ab.xl(this.Qj,this.xK)}}}
{"use strict";const e=self.B,b=new e.uG,a=new Set;e.OO=class extends e.BY{constructor(d,c){super(d,c);this.gl=this.hr=null;this.ed=0;this.Ow=this.Pw=-1;a.add(this)}j(){this.Yg();if(0!==this.ed)throw Error("released image asset which still has texture references");this.hr=null;a.delete(this);super.j()}static $r(){for(const d of a)d.hr=null,d.gl=null,d.ed=0}zn(d,c){c=c||{};this.ed++;if(this.gl)return Promise.resolve(this.gl);if(this.hr)return this.hr;c.To=this.b.Y.BL;return this.hr=this.UN().then(f=>
b.yc(()=>d.Xy(f,c).then(l=>{this.hr=null;if(0===this.ed)return d.Ve(l),null;this.gl=l;this.Pw=l.L();this.Ow=l.M();return this.gl}))).catch(f=>{console.error("Failed to load texture: ",f);throw f;})}Yg(){if(0>=this.ed)throw Error("texture released too many times");this.ed--;0===this.ed&&this.gl&&(this.gl.zb().Ve(this.gl),this.gl=null)}Ub(){return this.gl}L(){return this.Pw}M(){return this.Ow}async F3(){const d=await this.UN();return e.$b.ImageBitmapOptions?await createImageBitmap(d,{premultiplyAlpha:"none"}):
e.$b.ImageBitmap?await createImageBitmap(d):await e.fN(d)}}}
{"use strict";const e=self.B;function b(a,d){return a.A().jl-d.A().jl}e.K5=class extends e.oa{constructor(a,d,c){super();this.$=d;this.V=c;this.H=[];this.bx=!0;this.Ij=new Set;this.Tw=!1}j(){e.G(this.H);this.Ij.clear()}Vc(){e.G(this.H);this.bx=!0;this.Ij.clear();this.Tw=!1}r6(){this.bx=!1}Bp(){if(!this.H.length)return!0;if(this.H.length>this.Ij.size)return!1;this.NH();return!0}ZF(a){this.Ij.has(a)?(this.Ij.delete(a),0===this.Ij.size&&(this.Tw=!1)):(this.H.push(a),this.bx=1===this.H.length)}Sh(a){this.Ij.add(a);
this.Tw=!0;50<=this.Ij.size&&this.NH()}NH(){this.Tw&&(this.H.length===this.Ij.size?this.Vc():(e.Gh(this.H,this.Ij),this.Ij.clear(),this.Tw=!1))}E$(){this.bx||(this.H.sort(b),this.bx=!0)}bF(a){this.NH();this.E$();this.H.length&&a.push(this.H)}}}
{"use strict";const e=self.B;e.L5=class extends e.oa{constructor(b,a){super();this.dJ=b;this.cJ=a;this.lj=e.C(e.jv)}j(){this.lj.j();this.lj=null}hn(b,a,d){let c=this.lj.ea(b,a);return c?c:d?(c=e.C(e.K5,this,b,a),this.lj.Set(b,a,c),c):null}aj(b){return Math.floor(b/this.dJ)}bj(b){return Math.floor(b/this.cJ)}Ul(b,a,d){if(a)for(let c=a.X,f=a.ca;c<=f;++c)for(let l=a.S,g=a.Z;l<=g;++l){if(d&&d.bg(c,l))continue;const k=this.hn(c,l,!1);k&&(k.Sh(b),k.Bp()&&this.lj.kp(c,l))}if(d)for(let c=d.X,f=d.ca;c<=f;++c)for(let l=
d.S,g=d.Z;l<=g;++l)a&&a.bg(c,l)||this.hn(c,l,!0).ZF(b)}hA(b,a){let d=this.aj(b.X);const c=this.bj(b.S),f=this.aj(b.ca);for(b=this.bj(b.Z);d<=f;++d)for(let l=c;l<=b;++l){const g=this.hn(d,l,!1);g&&g.bF(a)}}L3(b){let a=b.X;const d=b.S,c=b.ca;for(b=b.Z;a<=c;++a)for(let f=d;f<=b;++f){const l=this.hn(a,f,!1);l&&l.r6()}}}}
{"use strict";const e=self.B,b=new e.Rect,a=new e.ld,d=[],c=new e.Rect,f=new e.Rect,l=self.ol,g=l.BE,k=l.Hy,n=l.Zo;n.create();const q=g.create(),t=k.create(),p=g.create(),v=g.create(),u=g.create(),w=e.C(e.Jv);function y(D,H){return D.A().jl-H.A().jl}function z(D,H){return D.A().Sa()-H.A().Sa()}const E=[],G=[],P=[];e.mG=class extends e.oa{constructor(D,H,J){super();this.Hj=D;this.b=D.I();this.Ja=J[0];this.Za=H;this.pb=J[2];this.JC=!!J[3];this.dm=e.C(e.lb);this.dm.cp(J[4].map(M=>M/255));this.lo=!!J[5];
this.se=J[6];this.te=J[7];this.Bb=e.C(e.lb,1,1,1,J[8]);this.nD=e.C(e.lb);this.$J=J[9];this.Yfa=J[17];this.KW=J[18];this.iga=J[10];this.Lj=J[11];this.Zn=J[12];this.Kk=null;this.ec=1;this.rd=J[16];this.vi=this.ti=this.Ge=0;this.lm=!1;this.Xf=e.C(e.Rect);this.RW=e.C(e.Rect);this.Qo=e.C(e.Rect);this.Tq=n.create();this.iK=!0;this.MV=n.create();this.fK=!0;this.QW=e.C(e.ga.q8);this.IC=!0;this.BW=[];this.Rk=[];this.HB=[];this.cV=new Map;this.H=[];this.gq=this.XL=!1;this.Wa=e.C(e.ul,this,J[15]);this.Kt=null;
this.nK=[];this.AC=!1;this.Dfa=e.C(e.Rect,0,0,-1,-1);this.cfa=e.C(e.Rect,0,0,-1,-1);this.nfa=new self.S1(this);this.YT();this.Pp()&&(this.Kt=e.C(e.L5,this.b.wh,this.b.vh));for(const M of J[14])D=this.b.Kf(M[1]),this.Hj.wR(D),D.Ts||D.DQ(M),this.Rk.push(M),this.cV.set(M[2],M);e.Cd(this.BW,this.Rk)}static Ya(D,H,J){return e.C(e.mG,D,H,J)}j(){this.b=this.Hj=null}Q0(D){return this.cV.get(D)}uZ(D){const H=this.Hj.Dq;let J=0;const M=this.Rk;for(let R=0,V=M.length;R<V;++R){var Q=M[R];const Z=this.b.Kf(Q[1]);
let ca=!0;if(!Z.UF()||H)Q=this.b.Ki(Q,this,!0),D.push(Q),Z.Wg()&&(ca=!1,this.HB.push(Q.ic));ca&&(M[J]=M[R],++J)}e.Ef(M,J);this.b.ne();this.bh()}fh(D,H){const J=D.A();if(J.ka()!==this)throw Error("instance added to wrong layer");this.H.push(D);0!==J.Sa()&&(this.gq=!0);H&&this.Pp()&&D.A().ab();this.bh()}lba(D){this.H.includes(D)||(this.H.push(D),0!==D.A().Sa()&&(this.gq=!0),this.bh())}jca(D){const H=D.A();if(H.ka()!==this)throw Error("instance added to wrong layer");this.H.unshift(D);0!==H.Sa()&&(this.gq=
!0);this.bh()}Yp(D,H){const J=this.H.indexOf(D);0>J||(H&&this.Pp()&&D.A().eT(),this.H.splice(J,1),this.bh(),this.OS())}tT(){this.gq=!0}OS(){0===this.H.length&&(this.gq=!1)}uI(D){if(D){D=new Set;for(var H of this.H){var J=H.A().jl;0<=J&&D.add(J)}H=-1;for(const M of this.H)if(J=M.A(),!(0<=J.jl)){for(++H;D.has(H);)++H;J.aB(H)}}this.H.sort(y)}D$(){for(const D of this.H)D.J().Wg()||this.b.sl(D);this.b.ne();e.G(this.H);this.gq=!1;this.bh()}ov(D,H,J,M,Q){const R=this.b.qa(),V=this.b.md,Z=D.bb,ca=[];for(const ka of this.Rk){var Y=
ka[0];if(H.bg(Y[0],Y[1])){Y=V[ka[1]];if(Y!==D)if(Z){if(!D.NN(Y))continue}else continue;Y=this;var ha=this.b.Oa();this.Ac()!==ha&&((Y=ha.hO(this.Da()))||(Y=ha.Su(this.La())));ha=this.b.Ki(ka,Y,!1,void 0,void 0,!1,Q);Y.eH(ha);Y=ha.A();Y.cA(J,M);Y.ab();R.Te(!0);ha.dB();R.Te(!1);ca.push(ha)}}return ca}Ac(){return this.Hj}Da(){return this.Ja}La(){return this.Za}I(){return this.b}yl(){return this.b.yl()}Pp(){return this.iga&&!this.KW}d7(){this.AC=!1}jd(){return this.JC}Od(D){D=!!D;this.JC!==D&&(this.JC=
D,this.b.U())}zv(D){D=!!D;if(this.lm!==D){if(this.lm=D)D=this.Ac(),this.ti=D.ig(),this.vi=D.jg();this.Ek();this.b.U()}}Xi(D){var H=this.Ac();const J=H.vO();H=H.wO();D>H&&(D=H);D<J&&(D=J);this.ti!==D&&(this.ti=D,this.lm&&(this.Ek(),this.b.U()))}Yi(D){var H=this.Ac();const J=H.xO();H=H.uO();D>H&&(D=H);D<J&&(D=J);this.vi!==D&&(this.vi=D,this.lm&&(this.Ek(),this.b.U()))}ig(){return this.lm?this.ti:this.Ac().ig()}jg(){return this.lm?this.vi:this.Ac().jg()}RH(){const D=this.Ac();return[D.OF(),D.PF()]}IO(D,
H){var J=this.RW;if(0===D)H.za(J);else{let V=J.ku(),Z=J.lu();var M=this.g0(D);const ca=J.width()/M;J=J.height()/M;const [Y,ha]=this.RH();if(.5!==Y||.5!==ha){const ka=this.lz();var Q=this.b,R=100/ka;M=(Y-.5)*Q.Zf/R;Q=(ha-.5)*Q.Yf/R;R=this.na();0!==R&&(w.set(M,Q),w.rotate(R),M=w.$,Q=w.V);D=e.AE(ka,0,D);V+=e.pc(M,0,D);Z+=e.pc(Q,0,D)}H.set(V-ca/2,Z-J/2,V+ca/2,Z+J/2)}}Ld(){return this.Bb.$a}df(D){D=e.fa(D,0,1);this.Bb.$a!==D&&(this.Bb.Ih(D),this.YT(),this.b.U())}YT(){this.nD.za(this.Bb);this.nD.qE()}GF(){return this.nD}qn(){return this.Bb.my(1,
1,1,1)}e7(D){this.Lj!==D&&(this.Lj=D,this.Ek(),this.b.U())}a7(D,H){if(this.se!==D||this.te!==H)if(this.se=D,this.te=H,this.Ek(),this.b.U(),1!==this.se||1!==this.te)for(const J of this.H)J.J().nI(!0)}Ce(D){this.rd!==D&&(this.rd=D,this.b.U())}Sa(){return this.rd}Wc(D){D=e.Vd(D);this.Ge!==D&&(this.Ge=D,this.Ek(),this.b.U())}na(){return e.Vd(this.Hj.na()+this.Ge)}H1(){return 0<this.H.length}OH(){return this.AG()&&this.KW?(e.Cd(P,this.H),P.sort((D,H)=>this.hea(D,H)),P):this.H}hea(D,H){var J=this.Ac().iU,
M=J[0],Q=J[1];J=J[2];var R=D.A();const V=H.A();H=R.O()-M;D=R.P()-Q;R=R.Sa()-J;M=V.O()-M;Q=V.P()-Q;J=V.Sa()-J;return M*M+Q*Q+J*J-(H*H+D*D+R*R)}t7(D){D=!!D;this.lo!==D&&(this.lo=D,this.b.U())}H6(D){D=!!D;this.$J!==D&&(this.$J=D,this.b.U())}N5(){return!this.I().Qm||!this.Yfa}AG(){return!this.N5()}Or(){return this.AG()&&this.Ac().tfa}cf(D){this.Zn!==D&&(this.Zn=D,this.b.U())}Ni(){return this.Zn}p3(D){return this===D||this.se===D.se&&this.te===D.te&&this.ec===D.ec&&this.Lj===D.Lj&&this.Ge===D.Ge&&this.ig()===
D.ig()&&this.jg()===D.jg()}wca(D){0!==D.size&&0<e.Gh(this.H,D)&&(this.OS(),this.bh())}bh(){this.AC=this.XL=!1}kw(){if(!this.XL){this.H.sort(z);if(this.Pp())for(let D=0,H=this.H.length;D<H;++D){const J=this.H[D].A();J.aB(D);this.Kt.L3(J.Dx)}else for(let D=0,H=this.H.length;D<H;++D)this.H[D].A().aB(D);this.XL=!0}}Q3(D,H,J){var M=D.A();H=H.A();if(M.ka()!==this||H.ka()!==this)throw Error("can't arrange Z order unless both objects on this layer");M=M.jk();H=H.jk();if(M===H+(J?1:-1))return!1;e.wga(this.H,
M);M<H&&H--;J&&H++;H===this.H.length?this.H.push(D):this.H.splice(H,0,D);this.bh();return!0}tba(D,H){const J=[];let M=0,Q=0,R=D.length,V=H.length;for(;M<R&&Q<V;){const Z=D[M],ca=H[Q];Z.A().jl<ca.A().jl?(J.push(Z),++M):(J.push(ca),++Q)}for(;M<R;++M)J.push(D[M]);for(;Q<V;++Q)J.push(H[Q]);return J}sba(D){const H=[],J=D.length;for(let M=0;M<J-1;M+=2)H.push(this.tba(D[M],D[M+1]));1===J%2&&H.push(D[J-1]);return H}rba(D){for(;1<D.length;)D=this.sba(D);return D[0]}iaa(){this.kw();e.G(d);this.Kt.hA(this.Xf,
d);return d.length?1===d.length?d[0]:this.rba(d):[]}Iaa(){return!this.ws()&&!this.lo}aR(){return this.jd()&&0<this.Ld()&&(this.H1()||!this.lo)}ws(){return this.$J||!this.qn()||0!==this.Ni()||this.Wa.Zu()}Cz(){return this.Kk}g9(D){if(0===D.length)return!0;if(2<=D.length)return!1;D=D[0].sb;return!D.Bn()&&!D.by&&!D.hJ&&this.qn()}g0(D){if(this.Hj.Qf)return 1;{const H=this.lz();return H/(H-D)}}lz(){return 100/this.Zj()}Ek(){this.IC=this.fK=!0}KA(D){this.fK&&(this.e9(D,this.MV),this.fK=!1);return this.MV}e9(D,
H){const J=this.b;var M=this.Ac();const Q=J.mn();var R=J.TK,V=J.UK,Z=(this.ig()-R)*this.se+R,ca=(this.jg()-V)*this.te+V;this.b.Tk&&(Z=Math.round(Z),ca=Math.round(ca));if(this.Or())g.za(p,M.iU),g.za(v,M.Zea),g.za(u,M.$ea),M=v[0]-p[0],ca=v[1]-p[1],Z=v[2]-p[2],p[0]=(p[0]-R)*this.se+R,p[1]=(p[1]-V)*this.te+V,p[2]*=Math.max(this.se,this.te),v[0]=p[0]+M,v[1]=p[1]+ca,v[2]=p[2]+Z,g.set(q,Q,Q,1),g.multiply(p,p,q),g.multiply(v,v,q);else{R=(Z+0)*Q;V=(ca+0)*Q;M=M.Qf?100:this.lz();ca=this.na();const [ha,ka]=this.RH();
if(.5!==ha||.5!==ka){var Y=100/M;Z=(ha-.5)*J.Zf*Q/Y;Y=(ka-.5)*J.Yf*Q/Y;0!==ca&&(w.set(Z,Y),w.rotate(ca),Z=w.$,Y=w.V);R+=Z;V+=Y}g.set(p,R,V,M);g.set(v,R,V,M-100);0===ca?g.set(u,0,1,0):g.set(u,Math.sin(ca),Math.cos(ca),0)}D.kN(H,p,v,u,J.Y.hg());1!==Q&&(g.set(q,Q,Q,1),n.scale(H,H,q))}Sda(){this.IC=this.iK=!0}LA(D){this.iK&&(this.f9(D),this.iK=!1);return this.Tq}f9(D){const H=this.b.Y,[J,M]=this.RH();this.Hj.Qf?D.LY(this.Tq,H.Lg(),H.hg()):.5===J&&.5===M?n.za(this.Tq,H.KB):D.yu(this.Tq,H.Lg()/H.hg(),J,
M)}tI(D){D.qs(this.LA(D));let H;H=this.KA(D);D.ls(H)}p5(D){this.tI(D);D.vv(this.Sa())}me(D,H,J){var M=this.b.Y;const Q=this.ws();var R=null;let V=null;if(this.b.fG()&&D.dv()){const Z=M.iO(this);Z&&(V=Z.JE(),D.iH(V))}Q?(R={Wd:this.b.Rc},"low"===M.zj&&(R.width=M.Lg(),R.height=M.hg()),R=this.b.Ku(R),D.ff(R),this.lo?D.Ty():D.Tc(this.dm)):(D.ff(H),this.lo||J||D.Tc(this.dm));this.Kk=R||H;this.tI(D);D.vv(this.Sa());D.In(this.AG());this.Zj()>Number.EPSILON&&(this.kw(),M=this.Pp()&&0===this.Sa()&&!this.gq,
this.Or()?this.s$(D):M?this.t$(D):this.TR(D,this.OH()));D.vv(0);D.Hn(0);Q&&(D.In(!1),this.u$(D,R,H,J));V&&D.dF(V);this.Kk=null}TR(D,H){const J=this.Xf,M=this.Kk,Q=this.Ac().Qf,R=this.Ac().LO();let V=null;for(let Z=0,ca=H.length;Z<ca;++Z){const Y=H[Z];if(Y===V)continue;V=Y;const ha=Y.A();ha.jd()&&ha.aP(J,R,Q)&&this.Xl(Y,ha,D,M)}}s$(D){const H=this.Kk,J=this.Rv(),M=this.OH();for(let Z=0,ca=M.length;Z<ca;){var Q=M[Z],R=Q.A();if(!R.jd()||!R.Tr(J)){++Z;continue}(!Q.ds()||0<R.sf)&&G.push(Q);var V=Q.A().lg();
E.push(Q);let Y=Z+1;for(;Y<ca;++Y){const ha=M[Y],ka=ha.A();if(ka.jd()&&ka.Tr(J)){if(ka.lg()!==V)break;ha.ds()?(0<ka.sf&&G.push(ha),E.push(ha)):G.push(ha)}}if(1!==E.length||E[0].uP()){this.n$(D,E);for(let ha=0,ka=G.length;ha<ka;++ha)Q=G[ha],R=Q.A(),R.ZA(!0),this.Xl(Q,R,D,H),R.ZA(!1)}else{this.Xl(Q,R,D,H);for(let ha=0,ka=G.length;ha<ka;++ha)R=G[ha],R!==Q&&(V=R.A(),V.ka().Xl(R,V,D,H))}Z=Y;e.G(E);e.G(G)}}n$(D,H){const J=this.Kk;D.wN();for(let R=0,V=H.length;R<V;++R){var M=H[R],Q=M.A();Q.XA(!0);this.IH(M,
Q,D)}D.vN();for(let R=0,V=H.length;R<V;++R)M=H[R],Q=M.A(),this.Xl(M,Q,D,J),Q.XA(!1);D.uN()}t$(D){var H=this.Kt;const J=this.cfa,M=this.Dfa,Q=this.Xf;J.set(H.aj(Q.X),H.bj(Q.S),H.aj(Q.ca),H.bj(Q.Z));this.AC&&J.gd(M)?H=this.nK:(H=this.iaa(),this.AC=!0,M.za(J));this.TR(D,H);H!==this.nK&&e.Cd(this.nK,H)}Xl(D,H,J,M){H.Zu()?this.q$(D,H,J,M):this.IH(D,H,J)}IH(D,H,J){H=H.er;J.qj!==H&&H.wY();D.me(J)}q$(D,H,J,M){this.p$(D,H,J,M)&&this.tI(J)}p$(D,H,J,M){const Q=H.Ie.fj;if(1===Q.length){const R=Q[0],V=R.sb;if(!V.Mfa&&
H.qn()&&!D.Bn())return this.r$(D,H,R,V,J),!1}D=e.zG(J,this.b,D,M,Q,null);J.vv(this.Sa());return D}r$(D,H,J,M,Q){Q.Ln(M);Q.cf(H.Ni());M.kB&&this.b.U();let R=0,V=0;if(M.jga){const [Z,ca]=D.oz();R=1/Z;V=1/ca;(M=D.pz())?f.za(M):f.set(0,0,0,0)}J=H.Ie.Mg(J.La());Q.Hn(H.Sa());Q.os(null,c,f,f,H.hd(),R,V,this.ec,this.na(),this.b.Ng(),J);D.me(Q)}u$(D,H,J,M){const Q=this.Wa.fj,R=this.b;if(this.g9(Q)){D.ff(J);if(1===Q.length){var V=Q[0];J=V.sb;D.Ln(J);f.set(0,0,1,1);V=this.Wa.Mg(V.La());D.os(null,c,f,f,this.Xf,
1/R.Lg(),1/R.hg(),this.Zj(),this.na(),R.Ng(),V);J.kB&&R.U()}else D.Vh();M&&0===this.Zn&&this.qn()&&0===Q.length?D.UE(H):(D.cf(this.Zn),D.wk(this.nD),D.Cu(H));D.yp(H);R.Dn(H)}else e.zG(D,R,this,J,Q)}RQ(D){this.ec!==D&&(this.ec=D,this.Hj.My(),this.Ek(),this.b.U())}mn(){return this.Zj()*this.b.mn()}zl(){return this.Zj()*this.b.zl()}Zj(){return(this.ec*this.Hj.ec-1)*this.Lj+1}nH(){var D=this.b.TK,H=this.b.UK,J=(this.ig()-D)*this.se+D,M=(this.jg()-H)*this.te+H;D=this.Zj();H=this.b.Zf/D;D=this.b.Yf/D;J-=
H/2;let Q=M-D/2;this.b.Tk&&(J=Math.round(J),Q=Math.round(Q));M=this.RW;M.set(J,Q,J+H,Q+D);H=this.na();0!==H&&(b.za(M),b.offset(-M.ku(),-M.lu()),a.Ey(b,H),a.lM(b),b.offset(M.ku(),M.lu()),M.za(b));H=this.rd;this.IO(H,this.Xf);this.Or()?this.NY(H,this.Qo):this.Qo.za(this.Xf)}NY(D,H){var J=this.b.Y,M=J.nd;J=J.ad;const [Q,R]=this.Hg(0,0,D),[V,Z]=this.Hg(M,0,D),[ca,Y]=this.Hg(M,J,D),[ha,ka]=this.Hg(0,J,D);D=Math.min(Q,V,ca,ha);M=Math.min(R,Z,Y,ka);J=Math.max(Q,V,ca,ha);let za=Math.max(R,Z,Y,ka);isFinite(D)||
(D=-Infinity);isFinite(M)||(M=-Infinity);isFinite(J)||(J=Infinity);isFinite(za)||(za=Infinity);H.set(D,M,J,za)}Hg(D,H,J=0){return this.j9(D,H,J,this.zl())}j9(D,H,J,M){const Q=this.b;var R=Q.zb();const V=this.Zj();k.set(t,0,0,Q.Zf/V,Q.Yf/V);D/=M;H=t[3]-H/M;M=this.LA(R);R=this.KA(R);return e.ga.h8(D,H,J,R,M,t,q)?[q[0],q[1]]:[NaN,NaN]}oN(D,H){const J=this.ec,M=this.Lj,Q=this.se,R=this.te,V=this.Ge;this.te=this.se=this.Lj=this.ec=1;this.Ge=0;this.Ek();D=this.Hg(D,H);this.ec=J;this.Lj=M;this.se=Q;this.te=
R;this.Ge=V;this.Ek();return D}Dp(D,H){return this.GS(D,H,0,this.zl())}yn(D,H,J=0){return this.GS(D,H,J,this.mn()*this.yl())}GS(D,H,J,M){var Q=this.b,R=Q.zb();const V=this.Zj();k.set(t,0,0,Q.Zf/V,Q.Yf/V);Q=this.LA(R);R=this.KA(R);return e.ga.r5(D,H,J,R,Q,t,q)?[q[0]*M,(t[3]-q[1])*M]:[NaN,NaN]}Rv(){this.IC&&(this.Eea(),this.IC=!1);return this.QW}Eea(){var D=this.b.zb();const H=this.LA(D);D=this.KA(D);this.QW.MY(D,H)}ua(){return{s:this.ec,a:this.Ge,vl:this.Xf.X,vt:this.Xf.S,vr:this.Xf.ca,vb:this.Xf.Z,
v:this.jd(),bc:this.dm.toJSON(),t:this.lo,sx:this.ti,sy:this.vi,hosp:this.lm,px:this.se,py:this.te,c:this.Bb.toJSON(),sr:this.Lj,fx:this.Wa.Kc(),cg:this.HB}}Aa(D){this.ec=D.s;this.Ge=D.a;this.Xf.set(D.vl,D.vt,D.vr,D.vb);this.JC=!!D.v;this.dm.cp(D.bc);this.lo=!!D.t;D.hasOwnProperty("sx")&&(this.ti=D.sx);D.hasOwnProperty("sy")&&(this.vi=D.sy);D.hasOwnProperty("hosp")&&(this.lm=!!D.hosp);this.se=D.px;this.te=D.py;this.Bb.cp(D.c);this.Lj=D.sr;e.Cd(this.HB,D.cg);e.Cd(this.Rk,this.BW);const H=new Set(this.HB);
let J=0;for(let M=0,Q=this.Rk.length;M<Q;++M)H.has(this.Rk[M][2])||(this.Rk[J]=this.Rk[M],++J);e.Ef(this.Rk,J);this.Wa.Dc(D.fx);this.uI(!1);this.bh()}eH(D){D.A();if(!this.H.includes(D))if(D.Lf()){var H=[...D.kl()];H.push(D);H.sort((M,Q)=>{M=M.A().$q;Q=Q.A().$q;return M-Q});for(var J of H)if(J.lc())for(const M of J.Rd)H.includes(M)||(D=[...M.kl()],D.push(M),D.sort((Q,R)=>{Q=Q.A().$q;R=R.A().$q;return Q-R}),D&&D.length&&H.splice(H.length,0,...D));for(const M of H)this.fh(M,!0)}else if(this.fh(D,!0),
D.lc())for(H of D.Rd)if(J=[...H.kl()],J.push(H),J.sort((M,Q)=>{M=M.A().$q;Q=Q.A().$q;return M-Q}),J&&J.length)for(const M of J)this.fh(M,!0)}}}
{"use strict";const e=self.B,b=self.Gg,a=e.C(e.Rect),d=e.C(e.Rect),c=e.C(e.Rect),f=e.C(e.lb),l=self.ol.BE,g=[],k=[],n=[],q=[],t=[];let p=null;function v(u,w){p!==u&&(u.p5(w),p=u)}e.hP=class extends e.oa{constructor(u,w,y){super();this.cb=u;this.b=u.I();this.Ja=y[0];this.Ufa=y[1];this.Tfa=y[2];this.W=y[1];this.T=y[2];this.HC=!!y[3];this.Qf=!!y[4];this.XD=y[5];this.YD=y[6];this.zU=y[7];this.od=null;this.pb=y[8];this.Za=w;this.vi=this.ti=0;this.ec=1;this.Ge=0;this.ht=new Set;this.Ch=new Set;this.Sx=
new Set;this.Os=[];this.PJ=[];this.tfa=!1;this.iU=l.create();this.Zea=l.create();this.$ea=l.create();this.nc=[];this.zV=new Map;this.AV=new Map;this.Wa=e.C(e.ul,this,y[11]);this.Kk=null;this.Qq={};this.Dq=!0;this.Mw=new self.T1(this);this.xe=e.C(e.Event.Ib);for(const z of y[9])u=e.mG.Ya(this,this.nc.length,z),this.nc.push(u),this.zV.set(u.Da().toLowerCase(),u),this.AV.set(u.pb,u);for(const z of y[10]){y=this.b.Kf(z[1]);if(!y)throw Error("missing nonworld object class");y.Ts||y.DQ(z);this.PJ.push(z);
this.wR(y)}}j(){for(const u of this.nc)u.j();e.G(this.nc);this.Sx.clear();this.b=this.cb=this.od=null}I(){return this.b}Da(){return this.Ja}La(){return this.Za}lO(){let u=this.nc[0].Zj();for(let w=1,y=this.nc.length;w<y;++w){const z=this.nc[w];if(0!==z.se||0!==z.te)u=Math.min(u,z.Zj())}return u}pS(){return.5*this.b.Zf/this.lO()}qS(){return.5*this.b.Yf/this.lO()}vO(){return this.HC?-Infinity:this.pS()}wO(){return this.HC?Infinity:this.L()-this.pS()}xO(){return this.HC?-Infinity:this.qS()}uO(){return this.HC?
Infinity:this.M()-this.qS()}Xi(u){const w=this.vO(),y=this.wO();u>y&&(u=y);u<w&&(u=w);this.ti!==u&&(this.ti=u,this.Dk(),this.b.U())}ig(){return this.ti}Yi(u){const w=this.xO(),y=this.uO();u>y&&(u=y);u<w&&(u=w);this.vi!==u&&(this.vi=u,this.Dk(),this.b.U())}jg(){return this.vi}My(){this.Xi(this.ig());this.Yi(this.jg());for(const u of this.nc)u.lm&&(u.Xi(u.ig()),u.Yi(u.jg()))}w7(u,w){if(this.XD!==u||this.YD!==w)this.XD=u,this.YD=w,this.g3()&&(this.Es(),this.Dk(),this.b.U())}OF(){return this.Qf?.5:this.XD}PF(){return this.Qf?
.5:this.YD}LO(){const u=this.OF(),w=this.PF();return 0>u||1<u||0>w||1<w}TQ(){this.Qf&&(this.Qf=!1,this.Es(),this.Dk(),this.b.U())}QQ(){this.Qf||(this.Qf=!0,this.Es(),this.Dk(),this.b.U())}g3(){return!this.Qf}Mp(u){this.ec!==u&&(this.ec=u,this.Dk(),this.My(),this.b.U())}Wc(u){u=e.Vd(u);this.Ge!==u&&(this.Ge=u,this.Dk(),this.b.U())}na(){return this.Ge}L(){return this.W}Zd(u){!isFinite(u)||1>u||(this.W=u)}M(){return this.T}Be(u){!isFinite(u)||1>u||(this.T=u)}ka(u){return"number"===typeof u?this.Su(u):
this.hO(u.toString())}Su(u){u=e.fa(Math.floor(u),0,this.nc.length-1);return this.nc[u]}hO(u){return this.zV.get(u.toLowerCase())||null}yz(u){return this.AV.get(u)||null}Es(){for(const u of this.nc)u.Sda()}Dk(){for(const u of this.nc)u.Ek()}a1(){for(const u of this.nc)if(u.aR()&&u.Iaa())return f.Wm(u.dm),f.Ih(1),f;f.ep(0,0,0,0);return f}jS(){return[...this.ht]}wR(u){if(u.lc())for(const w of u.kh.Am)this.ht.add(w);else this.ht.add(u)}laa(){return[...this.Ch]}TH(u,w){if(u===this||!w)return Promise.resolve();
u&&(e.pZ(this.Ch,u.Ch),u.Ch.clear());u=[];for(const y of this.ht)this.Ch.has(y)||(u.push(y.An(w)),this.Ch.add(y));return Promise.all(u)}async qP(u){if(u.bb)throw Error("cannot load textures for family");var w=this.b.zb();!w||w.rn()||this.Ch.has(u)||(this.Ch.add(u),w=u.An(w),this.P8(w),await w,u.dA(),this.b.U())}P8(u){this.Sx.add(u);u.then(()=>this.Sx.delete(u)).catch(()=>this.Sx.delete(u))}t8(){return Promise.all([...this.Sx])}O3(u){if(u.bb||0<u.H.length)throw Error("cannot unload textures");this.b.zb()&&
this.Ch.has(u)&&(this.Ch.delete(u),u.qk())}tea(u,w){if(u!==this&&w)for(const y of this.Ch)y.Wg()||u.ht.has(y)||(y.qk(),this.Ch.delete(y))}Zv(){this.Ch.clear()}async LT(u){const w=this.b,y=this.cb,z=w.qa();this.zU&&(this.od=z.bO(this.zU),this.od.xI());y.CT(this);this.W=this.Ufa;this.T=this.Tfa;this.ti=w.wh/2;this.vi=w.vh/2;this.My();this.uba(u);this.w9();this.Dq||this.y9();this.IR(this.Os);this.x9();y.ZY();w.ne();const E=this.b.Kea;await Promise.all(E);e.G(E);if(!w.Sk){for(const G of this.Os)G.B7();
for(const G of this.Os)G.OT()}e.G(this.Os);await Promise.all([...this.ht].map(G=>G.tG(this.b.zb())));u&&(w.Ib().dispatchEvent(new e.Event("beforefirstlayoutstart")),await w.lp(new e.Event("beforeprojectstart")));await this.lp(new e.Event("beforelayoutstart"));w.Sk||await w.mb(e.g.Ea.F.RP,null,null);await this.lp(new e.Event("afterlayoutstart"));u&&(w.Ib().dispatchEvent(new e.Event("afterfirstlayoutstart")),await w.lp(new e.Event("afterprojectstart")));z.Uca(y);await this.t8();this.Es();this.Dk();
this.Dq=!1}uba(u){for(const y of this.b.md)if(!y.bb&&y.Rf)for(const z of y.ta()){const E=z.A();var w=E.ka();w=e.fa(w.La(),0,this.nc.length-1);w=this.nc[w];E.bw(w);w.lba(z)}if(!u)for(const y of this.nc)y.uI(!1)}w9(){for(const u of this.nc)u.uZ(this.Os),u.nH()}y9(){let u=!1;for(const [y,z]of Object.entries(this.Qq)){const E=this.b.zz(parseInt(y,10));if(E&&!E.bb&&E.UF()){for(const G of z){var w=null;if(E.Rf&&(w=this.yz(G.w.l),!w))continue;w=this.b.Ki(E,w,!1,0,0,!0);w.Dc(G);u=!0;this.Os.push(w)}e.G(z)}}for(const y of this.nc)y.uI(!0),
y.bh();u&&(this.b.ne(),this.b.ZS())}IR(u){for(const y of u){if(!y.lc())continue;const z=y.A(),E=y.qp();for(const G of y.J().kh.Am)if(G!==y.J()){var w=G.ta();w.length>E?y.xs(w[E]):(w=z?this.b.Ki(G,z.ka(),!0,z.O(),z.P(),!0):this.b.Ki(G,null,!0,0,0,!0),this.b.ne(),G.eB(),y.xs(w),u.push(w))}}}x9(){for(const u of this.PJ)this.b.Kf(u[1]).lc()||this.b.Ki(u,null,!0)}u9(){const u=[],w=this.PJ;let y=0;for(let z=0,E=w.length;z<E;++z){const G=w[z],P=this.b.Kf(G[1]);P.Wg()?P.lc()&&P.kh.D1()||u.push(this.b.Ki(G,
null,!0)):(w[y]=G,++y)}e.Ef(w,y);this.b.ne();this.IR(u)}ov(u,w,y,z,E,G){if(y)return y.ov(u,w,z,E,G);y=[];for(const P of this.nc)y.push(P.ov(u,w,z,E,G));return y.flat()}async lea(){const u=this.cb;this.b.Sk||await this.b.mb(e.g.Ea.F.D4,null,null);u.MQ(!0);this.b.qa().Qy();this.Dq||this.dda();for(const w of this.nc)w.D$();for(const w of this.b.md)if(!(w.Wg()||w.Rf||w.Pb().ko||w.bb)){for(const y of w.ta())this.b.sl(y);this.b.ne()}u.MQ(!1);u.Tb()===this&&u.CT(null)}bda(u){const w=u.J().pb.toString();
this.Qq.hasOwnProperty(w)||(this.Qq[w]=[]);this.Qq[w].push(u.Kc())}dda(){for(const u of this.nc){u.kw();for(const w of u.H){const y=w.J();!y.Wg()&&y.UF()&&this.bda(w)}}}U5(){this.Qq={};this.Dq=!0}Cz(){return this.Kk}ws(){return"low"===this.b.Y.zj||this.b.QL||"low-latency"===this.b.Ns||this.Wa.Zu()||this.b.zb().dv()&&this.b.Qm}h9(u){return 0===u.length?!0:2<=u.length?!1:!u[0].sb.Bn()}me(u){var w=this.b.Y;const y=this.ws();var z=null;y?("low-latency"!==this.b.Ns&&(u.ff(null),u.Ty()),z={Wd:this.b.Rc,
rM:this.b.QL||this.Wa.Zu()},"low"===w.zj&&(z.width=w.Lg(),z.height=w.hg()),z=this.b.Ku(z),u.ff(z)):u.ff(null);u.Tc(this.a1());this.b.Qm&&u.WY();this.Kk=z;for(var E of this.nc)E.nH(),E.aR()&&g.push(E);for(let G=0,P=g.length;G<P;){w=g[G];if(w.Or()&&!w.ws()){k.push(w);for(E=G+1;E<P;++E){const D=g[E];if(D.Or()&&!D.ws())k.push(g[E]);else break}if(2<=k.length){this.l$(u,z,k);G+=k.length;e.G(k);continue}e.G(k)}w.me(u,z,0===G);++G}e.G(g);y&&(u.In(!1),this.v$(u,z));this.Kk=null}v$(u,w){const y=this.Wa.fj,
z=this.b;if(this.h9(y)){u.ff(null);if(1===y.length){var E=y[0];const G=E.sb;u.Ln(G);d.set(0,0,1,1);c.set(0,0,z.Zf,z.Yf);E=this.Wa.Mg(E.La());u.os(null,a,d,d,c,1/z.Lg(),1/z.hg(),this.ec,this.na(),z.Ng(),E);G.kB&&z.U()}else u.Vh();0===y.length?u.UE(w):(u.IG(),u.gs(),u.Cu(w));u.yp(w);z.Dn(w)}else e.zG(u,z,this,null,y)}l$(u,w,y){var z=this.b.Y;u.In(!0);for(var E of y)E.kw(),e.Vm(n,E.OH());E=y[0];y=null;this.b.fG()&&u.dv()&&(z=z.iO(E))&&(y=z.JE(),u.iH(y));for(let H=0,J=n.length;H<J;){E=n[H];var G=E.A(),
P=G.ka();if(G.jd()&&G.Tr(P.Rv())){(!E.ds()||0<G.sf)&&t.push(E);var D=E.A().lg();q.push(E);for(z=H+1;z<J;++z){const M=n[z],Q=M.A();if(Q.jd()&&Q.Tr(Q.ka().Rv())){if(Q.lg()!==D)break;M.ds()?(0<Q.sf&&t.push(M),q.push(M)):t.push(M)}}if(1!==q.length||q[0].uP()){this.m$(u,w,q);for(let M=0,Q=t.length;M<Q;++M)E=t[M],G=E.A(),P=G.ka(),G.ZA(!0),v(P,u),P.Xl(E,G,u,w),G.ZA(!1)}else{v(P,u);P.Xl(E,G,u,w);for(let M=0,Q=t.length;M<Q;++M)G=t[M],G!==E&&(P=G.A(),D=P.ka(),v(D,u),D.Xl(G,P,u,w))}H=z;e.G(q);e.G(t)}else++H}y&&
u.dF(y);e.G(n);p=null}m$(u,w,y){u.wN();for(let P=0,D=y.length;P<D;++P){var z=y[P],E=z.A(),G=E.ka();E.XA(!0);v(G,u);G.IH(z,E,u)}u.vN();for(let P=0,D=y.length;P<D;++P)z=y[P],E=z.A(),G=E.ka(),v(G,u),G.Xl(z,E,u,w),E.XA(!1);u.uN()}ua(){const u={sx:this.ig(),sy:this.jg(),s:this.ec,a:this.na(),w:this.L(),h:this.M(),ortho:this.Qf,vpX:this.OF(),vpY:this.PF(),fv:this.Dq,persist:this.Qq,fx:this.Wa.Kc(),layers:{}};for(const w of this.nc)u.layers[w.pb.toString()]=w.ua();return u}Aa(u){this.ti=u.sx;this.vi=u.sy;
this.ec=u.s;this.Ge=u.a;this.W=u.w;this.T=u.h;this.Qf=!!u.ortho;u.hasOwnProperty("vpX")&&(this.XD=u.vpX);u.hasOwnProperty("vpY")&&(this.YD=u.vpY);this.Dq=!!u.fv;this.Qq=u.persist;this.Wa.Dc(u.fx);for(const [w,y]of Object.entries(u.layers))(u=this.yz(parseInt(w,10)))&&u.Aa(y);this.Es();this.Dk()}Kh(u){u.Fg=this.Mw;var w=this.b;(w=w.Cb&&!w.qa().Sz())&&b.hH();this.xe.dispatchEvent(u);w&&b.IE()}lp(u){u.Fg=this.Mw;return this.xe.gM(u)}}}
{"use strict";const e=self.B;e.w3=class extends e.oa{constructor(b){super();this.b=b;this.hj=[];this.uK=new Map;this.vK=new Map;this.rx=null;this.jL=[];this.$B=null;this.vC=0;this.yx=null}j(){this.yx=this.$B=this.rx=this.b=null;e.G(this.hj);this.uK.clear();this.vK.clear();e.G(this.jL)}Ya(b){b=e.C(e.hP,this,this.hj.length,b);this.hj.push(b);this.uK.set(b.Da().toLowerCase(),b);this.vK.set(b.pb,b)}I(){return this.b}D6(b){this.$B=b}I0(){if(this.$B)return this.$B;if(this.hj.length)return this.hj[0];throw Error("no first layout");
}Ir(b){return this.uK.get(b.toLowerCase())||null}CF(b){return this.vK.get(b)||null}b1(b){b=e.fa(Math.floor(b),0,this.hj.length-1);return this.hj[b]}Ac(b){return"number"===typeof b?this.b1(b):this.Ir(b.toString())}CT(b){this.rx=b}Tb(){return this.rx}*Cy(){this.rx&&(yield this.rx);this.jL.length&&(yield*this.jL)}MQ(b){if(b)this.vC++;else{if(0>=this.vC)throw Error("already unset");this.vC--}}YO(){return 0<this.vC}Py(b){this.yx=b}ZY(){this.yx=null}Ur(){return!!this.yx}Kp(){const b=this.Tb();b&&b.Es()}Jp(){const b=
this.Tb();b&&b.Dk()}}}
{"use strict";const e=self.B;class b{constructor(){this.Sc=this.Df=null;this.pu=this.qu=this.Di=this.Xm=0;this.ju=new e.Rect;this.Ym=new e.Rect;this.bp=new e.Rect;this.Ay=new e.Rect;this.mu=new e.Rect;this.clearRect=new e.Rect;this.yE=new e.Rect;this.jX=[null,null];this.Yo=0;this.rr=1;this.hu=this.iu=this.bu=this.au=0;this.Zm=this.gg=this.je=this.ke=this.Fg=null;this.gE=this.GM=this.pE=!1;this.nE=null}Tc(){this.nE=this.Zm=this.gg=this.je=this.ke=this.Fg=this.Sc=this.Df=null}D7(g){g=g.sb;if(g.Bn())return!0;
if(this.je)return g.by&&(0!==this.gg.na()||0>this.gg.L()||0>this.gg.M())||0!==this.au||0!==this.bu||!this.gg.qn()||this.je.Bn();if(this.ke)return!this.ke.qn()}C7(g){g=g.sb;return g.by||g.hJ||this.Fg&&"low"===this.Sc.Y.zj}Hr(g){if(0!==g&&1!==g)throw Error("invalid effect target");const k=this.jX;if(!k[g]){var n=this.Sc;const q=n.Y;n={Wd:n.Rc};"low"===q.zj&&(n.width=q.Lg(),n.height=q.hg());k[g]=q.Ku(n)}return k[g]}C5(){const g=this.jX,k=this.Sc.Y;g[0]&&(k.Dn(g[0]),g[0]=null);g[1]&&(k.Dn(g[1]),g[1]=
null)}}const a=[];let d=0;const c=new e.ld;let f=!1;async function l(g,k,n){k=await e.ga.pH.BZ(k,n);k=URL.createObjectURL(k);console.log("[FX] "+g+" "+(n?"":" [to display]")+": ",k)}e.zG=function(g,k,n,q,t,p){d===a.length&&a.push(new b);var v=a[d++];v.Df=g;v.Sc=k;if(n instanceof e.Instance)v.je=n,v.gg=v.je.A();else if(n instanceof e.mG)v.ke=n;else if(n instanceof e.hP)v.Fg=n;else throw Error("invalid effects object");n=k.Y;v.Zm=q;v.Xm=n.Lg();v.Di=n.hg();v.qu=v.Xm;v.pu=v.Di;v.Yo=0;v.rr=1;v.au=0;v.bu=
0;v.mu.set(0,0,v.Xm,v.Di);v.clearRect.set(0,0,v.Xm,v.Di);v.gE=!1;v.nE=p;v.je?(q=v.gg,v.iu=q.ka().mn(),v.hu=q.ka().na(),v.ju.za(q.hd())):v.ke?(q=v.ke,v.iu=q.mn(),v.hu=q.na(),v.ju.za(q.Xf)):(q=v.Fg,v.iu=q.ec,v.hu=q.na(),v.ju.set(0,0,v.Xm,v.Di));if(v.je){{for(let H=0,J=t.length;H<J;++H)q=t[H].sb,v.au+=q.AU,v.bu+=q.BU;var u=v.gg;q=u.ka();n=q.na();p=u.hd();var w=u.lg();u=u.sf;let [E,G]=q.yn(p.X,p.S,w),[P,D]=q.yn(p.ca,p.Z,w);if(0!==n||0<u){const [H,J]=q.yn(p.ca,p.S,w),[M,Q]=q.yn(p.X,p.Z,w);if(0<u){n=w+
u;const [R,V]=q.yn(p.X,p.S,n),[Z,ca]=q.yn(p.ca,p.S,n),[Y,ha]=q.yn(p.ca,p.Z,n),[ka,za]=q.yn(p.X,p.Z,n);q=Math.min(E,P,H,M,R,Z,Y,ka);P=Math.max(E,P,H,M,R,Z,Y,ka);E=q;q=Math.min(G,D,J,Q,V,ca,ha,za);D=Math.max(G,D,J,Q,V,ca,ha,za);G=q}else q=Math.min(E,P,H,M),P=Math.max(E,P,H,M),E=q,q=Math.min(G,D,J,Q),D=Math.max(G,D,J,Q),G=q}q=v.mu;p=v.Ay;n=v.bp;w=v.clearRect;u=v.Ym;q.set(E,G,P,D);q.RM(v.Di);p.za(q);p.ml(v.qu,v.pu);p.ur();q.kE(v.au,v.bu);n.za(q);n.ml(v.qu,v.pu);n.ur();w.za(q);w.aia();w.kE(v.au+1,v.bu+
1);q.fa(0,0,v.Xm,v.Di);w.fa(0,0,v.Xm,v.Di);u.za(q);u.ml(v.qu,v.pu);u.ur()}}else v.Ym.set(0,0,v.Xm/v.qu,v.Di/v.pu),v.bp.za(v.Ym),v.Ay.za(v.Ym),v.Ym.ur(),v.bp.ur(),v.Ay.ur();g.IG();g.gs();g.vv(0);g.Hn(0);v.pE=v.D7(t[0]);v.pE&&(q=v.Df,q.Vh(),p=v.Hr(v.Yo),q.ff(p),(n=v.nE)&&n.HM&&n.HM(),q.RE(v.clearRect),v.je?(q.wk(v.gg.GF()),q.Hn(v.gg.lg()),v.je.me(q),q.Hn(0)):(n=(v.ke||v.Fg).Cz(),v.ke?q.wk(v.ke.GF()):q.gs(),q.Cu(n),q.yp(n),v.Sc.Y.Dn(n)),v.bp.$W(),v.Yo=1,v.rr=0,f&&l("Pre-draw",q,p));g.gs();q=t.length-
1;v.GM=v.C7(t[q]);for(let E=0,G=t.length;E<G;++E){n=t[E];p=n.sb;g.Ln(p);p.kB&&k.U();if(0!==E||v.pE){g.CQ();var y=void 0,z=void 0;p=v;y=n;z=E===q&&!v.GM;n=E;w=p.Df;u=p.Sc;0===n&&p.pE&&p.je&&p.mu.RM(p.Di);z?(p.je?w.cf(p.gg.Ni()):p.ke&&w.cf(p.ke.Ni()),z=p.Zm,w.ff(z)):(z=p.Hr(p.Yo),w.ff(z),w.RE(p.clearRect));y=p.je?p.gg.Ie.Mg(y.La()):(p.ke||p.Fg).Wa.Mg(y.La());w.os(p.Zm,p.bp,p.Ym,p.Ay,p.ju,1/p.qu,1/p.pu,p.iu,p.hu,u.Ng(),y);y=p.Hr(p.rr);w.gf(y.Ub());u.Y.FQ(w);p.gE=!0;c.Uj(p.mu);w.Pl(c,p.Ym);p.je||w.yp(y);
f&&l("Bounce "+n,w,z)}else{p=v;z=n;n=p.Df;w=p.Sc;u=p.Hr(p.Yo);n.ff(u);(y=p.nE)&&y.HM&&y.HM();n.RE(p.clearRect);if(p.je){const [P,D]=p.je.oz();(y=p.je.pz())?p.yE.za(y):p.yE.set(0,0,0,0);z=p.gg.Ie.Mg(z.La());n.os(p.Zm,p.bp,p.yE,p.yE,p.ju,1/P,1/D,p.iu,p.hu,w.Ng(),z);n.Hn(p.gg.lg());p.je.me(n);n.Hn(0);p.bp.$W();p.mu.RM(p.Di)}else z=(p.ke||p.Fg).Wa.Mg(z.La()),n.os(p.Zm,p.bp,p.Ym,p.Ay,p.ju,1/p.Xm,1/p.Di,p.iu,p.hu,w.Ng(),z),p=(p.ke||p.Fg).Cz(),f&&l("Layer target",n,p),n.Cu(p),n.yp(p),w.Y.Dn(p);f&&l("First bounce",
n,u)}0===v.Yo?(v.Yo=1,v.rr=0):(v.Yo=0,v.rr=1)}v.GM&&(g=v.Df,v.Fg?(g.Vh(),g.ff(v.Zm),k=v.Hr(v.rr),g.UE(k),g.yp(k)):(k=v.Sc.Y,"low"===k.zj?(g.Vh(),k.FQ(g,k.Lg(),k.hg()),v.gE=!0):g.x6(),v.je?g.cf(v.gg.Ni()):v.ke&&g.cf(v.ke.Ni()),g.ff(v.Zm),k=v.Hr(v.rr),g.gf(k.Ub()),c.Uj(v.mu),g.Pl(c,v.Ym),v.je||g.yp(k),f&&l("Post-draw",g,v.Zm)));g=v.gE;v.C5();v.Tc();d--;f=!1;return g}}
{"use strict";const e=self.B;e.Z7=class extends e.oa{constructor(b){super();this.b=b;this.Vx=e.C(e.eh);this.Vfa=null;this.Io=[];this.Wx=new Map;this.zm=new Map;this.Jo=new Map;this.xh=[];this.zg=[];this.cx=this.Ks=this.vq=!1;this.Km=()=>this.Yba();this.Jm=()=>this.dI();this.UI=()=>this.PA();this.tK=()=>this.wba();this.TJ=a=>this.TS(a.instance);this.GI=()=>this.Wp();this.Dw=[]}j(){this.H5();this.GI=this.TJ=this.tK=this.UI=this.Jm=this.Km=null;for(const b of this.Io)b.pg(),b.j();e.G(this.Io);this.Io=
null;this.Vx.j();this.Vx=null;e.G(this.xh);this.xh=null;e.G(this.zg);this.zg=null;this.Wx.clear();this.Wx=null;this.zm.clear();this.zm=null;this.Jo.clear();this.Jo=null;e.G(this.Dw);this.b=this.Dw=null}qY(){const b=this.b.Ib();b.addEventListener("pretick",this.Km);b.addEventListener("tick2",this.Jm);b.addEventListener("beforelayoutchange",this.UI);b.addEventListener("layoutchange",this.tK);b.addEventListener("instancedestroy",this.TJ);b.addEventListener("afterload",this.GI)}H5(){const b=this.b.Ib();
b.removeEventListener("pretick",this.Km);b.removeEventListener("tick2",this.Jm);b.removeEventListener("beforelayoutchange",this.UI);b.removeEventListener("layoutchange",this.tK);b.removeEventListener("instancedestroy",this.TJ);b.removeEventListener("afterload",this.GI)}Ya(b){this.Vx.yc(b);b=e.oe.tZ(b,this);this.yc(b);this.k7(b);this.Jo.set(b.Da(),0)}VE(b){b=b.CO();var a=this.Vx.ea(b);a=e.oe.VE(`${b}:${this.Jo.get(b)}`,a,this);this.xS(b);this.yc(a);return a}xS(b){this.Jo.set(b,this.Jo.get(b)+1)}wda(){for(const b of this.Io)b.jt||
this.xS(b.CO())}m9(){for(const b of this.Jo.keys())this.Jo.set(b,0)}yc(b){this.Io.push(b);this.Wx.set(b.Da().toLowerCase(),b)}Sh(b){b.jt||(e.qr(this.Io,b),e.qr(this.xh,b),e.qr(this.zg,b),this.Wx.delete(b.Da().toLowerCase()),this.I5(b),b.ri||b.j())}ia(b){this.b.ia(b,this.Vfa,null)}I(){return this.b}XQ(b,a){this.zm.has(b)||this.zm.set(b,new Set);this.zm.get(b).add(a)}k7(b){for(const a of b.nO())this.XQ(a,b)}I5(b){for(const [a,d]of this.zm.entries())d.has(b)&&(d.delete(b),0===d.size&&this.zm.delete(a))}p1(b){if(this.zm.has(b))return this.zm.get(b)}Gz(b){return this.Wx.get(b.toLowerCase())||
null}G5(b){e.qr(this.zg,b);this.Wv()}xQ(b){this.zg.includes(b)?(b.Bv(!0),b.Dv(!1),b.SG(!1)):(b.Bv(!1),b.Dv(!0),b.SG(!1),this.xh.includes(b)||this.xh.push(b));this.MS()}Zy(b){b.Bv(!1);b.Dv(!1);b.EG();e.qr(this.xh,b);this.Wv()}Wy(b){b.Bv(!1);b.Dv(!1);b.SG(!0)}lZ(b){this.Wy(b);b.EG()}Yba(){if(!this.I().Sk&&this.vq&&!this.Ks){var b=!1;for(this.cx=!0;this.xh.length;){var a=this.xh.pop();a.Fd();this.zg.push(a)}a=this.b.Al();var d=this.b.he;for(const c of this.zg){if(c.zt)continue;const f=c.Gd(a,d);!b&&
f&&(b=!0)}this.cx=!1;b&&this.I().U()}}dI(){if(!this.I().Sk&&this.vq&&!this.Ks){var b;for(const a of this.zg)a.zt&&(b||(b=new Set),this.NS(a),b.add(a));b&&e.Gh(this.zg,b);this.Wv()}}NS(b){b.ri||b.KO()&&b.sg&&b.jo&&b.PN()}MS(){this.vq||(this.vq=!0)}Wv(){this.zg.length||this.xh.length||this.cx||(this.vq=!1)}PA(){for(this.Ks=!0;this.xh.length;)this.Zy(this.xh.pop());const b=new Set;for(const a of this.zg)a.PA()&&b.add(a);e.Gh(this.zg,b);this.Wv();for(const a of this.Io)a.Vj()}wba(){this.Ks=!1}TS(b){var a=
b.J();if(a=this.p1(a))if(this.b.Sk)this.Dw.push(b);else for(const d of a)d.jt||(d.ri?this.Sh(d):d.KO()||(this.NS(d),this.Sh(d)))}Wp(){for(const b of this.Dw)this.TS(b);e.G(this.Dw)}ua(){return{timelinesJson:this.ida(),scheduledTimelinesJson:this.gda(),playingTimelinesJson:this.eda(),hasRuntimeListeners:this.vq,changingLayout:this.Ks,isTickingTimelines:this.cx}}Aa(b){b&&(this.m9(),this.dba(b.timelinesJson),this.aba(b.scheduledTimelinesJson),this.Zaa(b.playingTimelinesJson),this.vq=!b.hasRuntimeListeners,
this.Ks=!!b.changingLayout,this.cx=!!b.isTickingTimelines,this.wda(),this.MS(),this.Wv())}ida(){return this.Io.map(b=>b.ua())}dba(b){for(const a of b){b=this.Gz(a.name);if(!b){b=this.kaa(a);if(!b)continue;b=this.Gz(b);b=this.VE(b)}b.Aa(a);b.M1()||this.Sh(b)}}kaa(b){return(b=b.name.split(":"))&&2===b.length?b[0]:null}gda(){return this.rT(this.xh)}aba(b){this.IS(b,this.xh)}eda(){return this.rT(this.zg)}Zaa(b){this.IS(b,this.zg)}Jaa(b,a){for(const d of a)if(d===b.Da())return!0;return!1}rT(b){return b.map(a=>
a.Da())}IS(b,a){var d=new Set;for(const c of a)this.Jaa(c,b)||d.add(c);e.Gh(a,d);d=c=>f=>f.Da()===c;for(const c of b)(b=this.Gz(c))&&(a.find(d(c))||a.push(b))}}}
{"use strict";const e=self.B;e.oe=class extends e.oa{constructor(b,a,d){super();this.b=d.I();this.Nb=d;this.yf=a;this.Ja=b;this.Yb=[];for(const c of this.yf.Iz().mia())this.Yb.push(e.iR.Ya(this,c));this.kD=this.Ax=null;this.zo=e.C(e.Xr);this.zo.Set(0);this.Bm=1;this.Kj=0;this.pj=1;this.jo=this.qm=this.zC=!1;this.sg=!0;this.zt=this.ri=!1;this.Ms=-1;this.ho=this.tq=this.jt=this.lC=!1;this.uV=NaN;this.Bh=[""];this.DW="";this.zL=!1}static tZ(b,a){const d=a.Vx.ea(b[0]);b=e.C(e.oe,b[0],d,a);b.R6();return b}static VE(b,
a,d){return e.C(e.oe,b,a,d)}static get r8(){return 1}static get Ml(){return e.yM(1)}j(){if(!this.ri){this.Nb.Zy(this);this.Nb.lZ(this);for(const b of this.Yb)b.j();e.G(this.Yb);this.Yb=null;this.zo.j();this.yf=this.Nb=this.b=this.zo=null;this.ri=!0;this.kD=this.Ax=null}}I(){return this.b}MF(b,a,d){const c=[];for(const f of this.Yb){if(b!==f.Ga())continue;const l=f.Fl(d);l&&a.constructor===l.Ed().constructor&&c.push(l)}return c}M1(){return!!this.Yb.length}sA(b){this.Ja=b}Da(){return this.Ja}CO(){return this.yf.Da()}Yd(){return this.yf.Yd()}Uu(){return this.yf.Uu()}Oi(){return this.yf.Oi()}Si(){return this.yf.Si()}xk(b){for(const a of this.Yb)a.xk(b)}Jr(){return this.yf.Jr()}Lr(){return this.yf.Lr()}nn(){return this.yf.nn()}Av(b){return this.Bm=
b}Qh(){return this.IsPlaying()?0<this.Bm:!0}oO(){this.Ax||(this.Ax=new Promise(b=>{this.kD=b}))}EG(){this.Ax&&(this.kD(),this.kD=this.Ax=null)}WQ(b){this.Bh=e.oe.jaa(b);this.zL=!0}XP(){e.g.Yc.F.Np(this);this.Nb.ia(e.g.Yc.F.hqa);this.Nb.ia(e.g.Yc.F.iqa);this.Nb.ia(e.g.Yc.F.jqa);this.Nb.ia(e.g.Yc.F.Zpa);e.g.Yc.F.Np(null)}HP(){this.Ms=this.b.al}PN(){this.tq||(this.tq=!0,e.g.Yc.F.Np(this),this.Nb.ia(e.g.Yc.F.eqa),this.Nb.ia(e.g.Yc.F.fqa),this.Nb.ia(e.g.Yc.F.gqa),this.Nb.ia(e.g.Yc.F.Ypa),e.g.Yc.F.Np(null))}Bv(b){this.zC=
b}UO(){return this.Ms===this.b.al}IsPlaying(b=!1){return this.UO()||this.qm&&!b?!0:this.zC}Bs(){return this.IsPlaying(!0)}Dv(b){this.qm=b}BQ(b){this.sg=b;b=this.Ha();if(0>=b||b>=this.Yd())this.sg=!0}SG(b){this.zt=b}PG(b){this.lC=b}R6(){this.jt=!0}Ha(){return this.zo.ea()}ss(b){const a=this.Ha();this.Fe(b);this.BQ(!1);this.sg||this.PG(!0);if(this.Bs()||this.qm||!this.jo)this.Bs()||this.qm||this.jo?this.Bs()?this.pg():this.qm&&(this.Nb.Zy(this),this.LQ()):this.LQ();this.NA(b,!1,!0,!0,a)&&this.I().U();
this.WS()}Fe(b){0>b?this.zo.Set(0):b>=this.Yd()?this.zo.Set(this.Yd()):this.zo.Set(b)}WS(){e.g.Yc&&this.constructor===e.oe&&(e.g.Yc.F.Np(this),this.Nb.ia(e.g.Yc.F.bqa),this.Nb.ia(e.g.Yc.F.cqa),this.Nb.ia(e.g.Yc.F.dqa),e.g.Yc.F.Np(null))}Play(b=!1){return this.ri||this.qm?!1:this.Bs()&&this.UO()?this.mda():this.Bs()||!this.sg&&!b&&!this.lC?!1:this.nda()}mda(){this.PG(!1);this.Nb.G5(this);this.Nb.xQ(this);this.oO();return!0}nda(){this.PG(!1);this.Nb.xQ(this);this.oO();return!0}pg(b=!1){this.ri||(this.BQ(b),
this.Nb.Wy(this),this.sg&&this.EG())}Vc(b=!0,a=!1){if(!this.ri)if(!this.Bs()&&this.qm)this.Nb.Zy(this);else if(!this.sg){this.pg(!0);this.Qh()?this.Fe(0):this.Fe(this.Yd());var d=this.Ha();a=a?this.Baa(d):this.NA(d,!1,!1,!0);b&&this.WS();a&&b&&this.I().U()}}rQ(){this.Vc(!1,!0)}Baa(b){this.NA(b,!1,!1,!0,NaN,!1,!0)}PA(){if(this.ri)return!0;if(this.N1())return!1;this.Nb.Wy(this);this.rQ();return!0}LQ(){this.Fd(!0)}Fd(b){if(!this.zt)if(b){this.ho=this.jo=!0;for(const a of this.Yb)a.Fd()}else if(this.Bv(!0),
this.Dv(!1),this.XP(),this.sg){this.Ms=-1;this.Kj=0;this.pj=1;this.tq=this.sg=!1;this.ho=this.jo=!0;this.Qh()?this.Fe(0):this.Fe(this.Yd());for(const a of this.Yb)a.Fd()}else{this.ho=!0;for(const a of this.Yb)a.og()}}Gd(b,a){if(0!==b||0!==this.uV){this.uV=b;var d=this.Ha();this.Fe(d+b*a*this.Bm);var c;this.Jr()||this.Lr()?this.Jr()&&!this.Lr()?c=this.iba():!this.Jr()&&this.Lr()?c=this.hca():this.Jr()&&this.Lr()&&(c=this.jba()):c=this.eea();if(c){for(const f of this.Yb)f.B6();this.pg(!0);this.HP();
return!0}return this.NA(this.Ha(),!0,!1,!1,d,!0)}}NA(b,a=!1,d=!1,c=!1,f=NaN,l=!1,g=!1){let k=!1;for(var n of this.Yb)n.wu();for(const q of this.Yb){n=b;if("number"===typeof f){const t=this.Ha()-q.kg(),p=f-q.kg();0>t&&0<p&&(n=q.kg(),this.Fe(n))}n=q.xb(n,a,d,c,this.ho,g);!k&&n&&(k=!0)}for(const q of this.Yb)q.vu();this.ho&&l&&(this.ho=!1);return k}eea(){if(this.Qh()){if(this.Ha()>=this.Yd())if(this.pj<this.nn())this.pj++,this.Fe(0);else return this.Fe(this.Yd()),!0}else if(0>=this.Ha())if(this.pj<this.nn())this.pj++,
this.Fe(this.Yd());else return this.Fe(0),!0;return!1}iba(){this.Qh()?this.Ha()>=this.Yd()&&this.Fe(0):0>=this.Ha()&&this.Fe(this.Yd());return!1}hca(){if(this.Qh()){if(this.Ha()>=this.Yd())if(this.Fe(this.Yd()),this.Av(-1*this.Bm),1===this.Kj)if(this.pj<this.nn())this.pj++,this.Kj=0;else return!0;else 0===this.Kj&&(this.Kj=1)}else if(0>=this.Ha())if(this.Fe(0),this.Av(-1*this.Bm),1===this.Kj)if(this.pj<this.nn())this.pj++,this.Kj=0;else return!0;else 0===this.Kj&&(this.Kj=1);return!1}jba(){this.Qh()?
this.Ha()>=this.Yd()&&(this.Fe(this.Yd()),this.Av(-1*this.Bm)):0>=this.Ha()&&(this.Fe(0),this.Av(-1*this.Bm));return!1}Vj(){for(const b of this.Yb)b.Vj()}aZ(){for(const b of this.Yb)b.YY()}m7(b,a){if(a)for(const d of this.Yb)if(d.Rh()){if(b){if(d.Yj()!==b)continue}else if(d.G1())continue;d.O6(a);this.Nb.XQ(a.J(),this);break}}KO(){return this.Yb.some(b=>b.Rh()?b.OE():!0)}N1(){return this.Yb.some(b=>b.Rh()?b.OE()?(b=b.J())?b.Wg():!1:!1:!1)}Fl(b){for(const a of this.Yb)for(const d of a.Qc)if(d.Xa.Qd===
b)return d}FO(b){for(const a of this.Yb)if(b===a.Ga())return a;return null}nO(){const b=[];for(const a of this.Yb)b.push(a.J());return b.filter(a=>a)}ua(){return{tracksJson:this.kda(),name:this.Ja,playheadTime:this.Ha(),playbackRate:this.Bm,pingPongState:this.Kj,currentRepeatCount:this.pj,isPlaying:this.zC,isScheduled:this.qm,initialStateSet:this.jo,finishedTriggers:this.tq,complete:this.sg,released:this.ri,markedForRemoval:this.zt,completedTick:this.Ms,implicitPause:this.lC,isTemplate:this.jt,tags:this.Bh.join(" "),
stringTags:this.DW,tagsChanged:this.zL,firstTick:this.ho}}Aa(b){b&&(this.eba(b.tracksJson),this.Ja=b.name,this.zo.Set(b.playheadTime),this.Bm=b.playbackRate,this.Kj=b.pingPongState,this.pj=b.currentRepeatCount,this.zC=!!b.isPlaying,this.qm=!!b.isScheduled,this.jo=!!b.initialStateSet,this.tq=b.hasOwnProperty("finishedTriggers")?!!b.finishedTriggers:!1,this.sg=!!b.complete,this.ri=!!b.released,this.zt=!!b.markedForRemoval,this.Ms=b.completedTick,this.lC=!!b.implicitPause,this.jt=!!b.isTemplate,this.Bh=
b.tags.split(" "),this.DW=b.stringTags,this.zL=!!b.tagsChanged,this.ho=!!b.firstTick)}kda(){return this.Yb.map(b=>b.ua())}eba(b){b.forEach((a,d)=>{this.Yb[d].Aa(a)});this.Yb.filter(a=>a.OE())}static jaa(b){if(e.zp(b))return b.slice(0);if(e.Ui(b))return b.split(" ")}}}
{"use strict";const e=self.B;e.iR=class extends e.oa{constructor(b,a){super();this.Ho=b;this.hc=a;this.zf=a.Iz();this.ym=this.nm=NaN;this.ub=this.qh=null;this.Eq=0<a.kg();this.pq=this.it=!1;this.Iq=null;this.cd=this.hc.Qi().cd;this.Qc=[];for(const d of this.hc.Ze().Uha())this.Qc.push(e.gb.Ya(this,d))}static Ya(b,a){return e.C(e.iR,b,a)}j(){this.cd=null;for(const b of this.Qc)b.j();e.G(this.Qc);this.Iq=this.hc=this.ub=this.qh=this.Ho=this.Qc=null}Vj(){for(const b of this.Qc)b.Vj();this.ub=this.qh=
null}Bc(){return this.Ho}I(){return this.Ho.I()}$0(){return this.cd?this.cd:this.cd=this.hc.Qi().cd}Fl(b){for(const a of this.Qc)if(a.Xa.Qd===b)return a}Yr(){this.qh||this.Ga()}Kl(){return this.qh?!this.qh.VO():!1}OE(){if(!this.Rh())return!1;const b=this.I().Og(this.Qu());return b?!b.VO():!1}J(){if(this.Rh()){var b=this.FF();if(-1!==b)return this.I().Kf(b)}}YY(){this.qh=null;this.nm=-1;this.ub=null;this.ym=-1}G1(){return!!this.qh}Ga(){return this.qh&&this.Kl()?this.qh:this.qh=this.I().Og(this.Qu())}O6(b){if(this.qh!==
b){this.Vj();this.qh=b;this.ym=b.J().La();this.nm=b.ic;this.ub=b.A();for(const l of this.Vha()){const g=l.gia;switch(l.Tha.Xd()){case "instance-variable":var a=b.J(),d=a.T0(l.name),c=a.fO(d);a=a.Ru(d);c===l.name&&a===l.type&&g.m8(d);break;case "behavior":var f=l.$L;d=this.J();c=b.J();a=g.Mh(c);f&&a&&(f=f.Da(),d.Mu(f),c.Mu(f),g.j8(a.pb))}}}}*Vha(){for(const d of this.Qc){var b=d.Ed(),a=this.J();const c={Tha:d,gia:b};switch(d.Xd()){case "world-instance":c.rya=d.Xa.Qd;break;case "instance-variable":b=
b.Gr();c.name=a.fO(b);c.type=a.Ru(b);break;case "effect":a=b.qF(a.Wa);c.Twa=a;break;case "behavior":a=b.Mh(a);c.$L=a;break;case "plugin":c.oya=a.Pb()}yield c}}A(){if(this.ub&&this.Kl())return this.ub;const b=this.Ga();b&&(this.ub=b.A());return this.ub}Qu(){return this.nm?this.nm:this.hc.Qu()}Oi(){return this.hc.Oi()}Si(){return this.hc.Si()}Yj(){return this.hc.Yj()}kg(){return this.hc.kg()}El(){return this.hc.El()}xk(b){for(const a of this.$0())a.xk(b);for(const a of this.Qc)a.xk(b)}Cl(){return this.hc.Cl()}Tl(b){this.hc.Tl(b)}FF(){return isNaN(this.ym)?
this.hc.FF():this.ym}ck(){const b=this.Ga();return b&&b.ra.wn()?b.ra.ck():this.hc.ck()}bk(){const b=this.Ga();return b&&b.ra.wn()?b.ra.bk():this.hc.bk()}ik(){return this.hc.ik()}Da(){return this.hc.Da()}Rh(){return 0===this.ik()}Fd(){this.Yr();if(this.Kl()||!this.Rh()){for(var b of this.Qc)b.Fd();b=this.Bc().Qh()?0:this.El();this.Iq=this.BF(b);this.pq=this.it=!1;this.xb(b)}}og(){this.Yr();if(this.Kl()||!this.Rh()){this.Ho.Qh();var b=this.Ho.Ha()-this.kg();this.Iq=this.BF(b);for(const a of this.Qc)a.og()}}B6(){if(!(this.Bc().sg||
(this.Yr(),!this.Kl()&&this.Rh()||this.Eq))){const b=this.Ho.Ha();b>=this.kg()+this.El()?this.xb(this.El(),!0,!1,!0):0>=b&&this.xb(0,!0,!1,!0)}}wu(){for(const b of this.Qc)b.wu()}xb(b,a=!1,d=!1,c=!1,f=!1,l=!1){this.Yr();if(!this.Kl()&&this.Rh()||l&&this.Rh()&&this.J().Wg())return!1;b-=this.kg();if(0>b)return!1;this.N3(b,a);this.rP(b,a,f);f=l=!1;for(const g of this.Qc){const k=g.xb(b,d,!1,c);l||0===(k&e.oe.r8)||(l=!0);f||0===(k&e.oe.Ml)||(f=!0)}this.M3(b,a);l&&(b=this.A())&&b.ab();return f}vu(){for(const b of this.Qc)b.vu()}N3(b,
a){if(a&&this.Eq&&!this.it){if(this.Bc().Qh()){if(0>b)return;for(const d of this.Qc)d.xb(0,!1,!1,!0)}else{if(b>this.El())return;for(const d of this.Qc)d.xb(this.El(),!1,!1,!0)}for(const d of this.Qc)d.Fd();this.it=!0}}M3(b,a){if(a&&this.Eq&&!this.pq)if(this.Bc().Qh()){if(b>=this.El()){for(const d of this.Qc)d.xb(this.El(),!1,!1,!0);this.pq=!0}}else if(0>=b){for(const d of this.Qc)d.xb(0,!1,!1,!0);this.pq=!0}}rP(b,a,d){!d&&a&&(b=this.BF(b),b!==this.Iq&&this.QP(b),this.Iq=b)}BF(b){const a=this.Bc();
let d=this.zf.X0(b,this.hc);return d?d:a.Qh()?this.zf.H0(b,this.hc):this.zf.G0(b,this.hc)}QP(b){if(e.g.Yc&&this.Bc().constructor===e.oe){var a=this.Bc();e.g.Yc.F.Np(a);e.g.Yc.F.u7(b);b=a.Nb;b.ia(e.g.Yc.F.Xpa);b.ia(e.g.Yc.F.QP);e.g.Yc.F.Np(null);e.g.Yc.F.u7(null)}}kY(){return this.hc.Qi().dY()}KZ(b){this.hc.Qi().JZ(b)}ZE(b){for(const a of this.Qc)a.ZE(b)}Ip(){for(const b of this.Qc)b.Ip()}Ii(){this.Yr();if(this.Kl()||!this.Rh())for(const b of this.Qc)b.Ii()}Ji(){this.Yr();if(this.Kl()||!this.Rh()){var b=
!1;for(const a of this.Qc){const d=a.Ji();!b&&d&&(b=!0)}b&&(b=this.kY(),b.ss(this.Bc().Ha()),b.xk("noease"),b.Tl(!0),b.WQ(""))}}ua(){var b=this.Ga();b=b?b.ic:this.Qu();return{propertyTracksJson:this.fda(),lastKeyframeDataItemJson:this.cda(),initialStateOfNestedSet:this.it,endStateOfNestedSet:this.pq,instanceUid:b}}Aa(b){b&&(this.$aa(b.propertyTracksJson),this.Yaa(b.lastKeyframeDataItemJson),this.Vaa(b.instanceUid),this.it=!1,b.hasOwnProperty.initialStateOfNestedSet&&(this.it=b.initialStateOfNestedSet),
this.pq=!1,b.hasOwnProperty.endStateOfNestedSet&&(this.pq=b.endStateOfNestedSet))}cda(){return this.hc.Qi().Z0(this.Iq)}fda(){return this.Qc.map(b=>b.ua())}$aa(b){b.forEach((a,d)=>{this.Qc[d].Aa(a)})}Vaa(b){if(e.sn(b)&&(b=this.I().Og(b))){var a=this.Bc();a.aZ();a.m7(this.hc.Yj(),b)}}Yaa(b){this.Iq=this.hc.Qi().Y0(b)}}}
{"use strict";const e=self.B;e.gb=class extends e.oa{constructor(b,a){super();this.Bd=b;this.Xa=a;this.Id=a.Ze();this.Nj=this.Ed();this.dd=this.Xa.Ri().dd}static Ya(b,a){return e.C(e.gb,b,a)}j(){this.Bd=null;this.Nj&&(this.Nj.j(),this.Nj=null);this.Id=this.Xa=this.dd=null}Ze(){return this.Id}Bc(){return this.Bd.Bc()}I(){return this.Bd.I()}Ga(){return this.Bd.Ga()}Ed(){if(this.Nj)return this.Nj;let b;switch(this.Xa.Xd()){case "behavior":b=new e.gb.FY(this);break;case "effect":b=new e.gb.Q_(this);break;
case "instance-variable":b=new e.gb.N2(this);break;case "plugin":b=new e.gb.k5(this);break;case "world-instance":b=new e.gb.B8(this);break;case "value":b=new e.gb.p8(this)}return this.Nj=b}Xd(){return this.Xa.Xd()}Tu(){return this.Xa.ik()}JF(){return this.Ze().uz(this.Xa).ik()}Cl(){return this.Xa.Cl()}Tl(b){this.Xa.Tl(b)}Oi(){return this.Xa.Oi()}Si(){return this.Xa.Si()}xk(b){for(const a of this.qO())a.xk(b)}qO(){return this.dd?this.dd:this.dd=this.Xa.Ri().dd}Vj(){this.Ed().Vj()}We(){return this.Ed().We()}Fd(){this.Ed().Fd()}og(){this.Ed().og()}wu(){this.Ed().wu()}xb(b,
a=!1,d=!1,c=!1){var f=this.Xa;let l=this.Id.IF(b,f);l?f=this.Id.cO(b,f):(l=this.Id.wF(b,f),f=this.Id.vF(b,f));return this.Ed().xb(b,l,f,a,d,c)}vu(){this.Ed().vu()}static BO(b,a){const d=a.Xa;a=a.Id;let c=a.IF(b,d);c||(c=a.wF(b,d));return c}static v0(b,a){const d=a.Xa;a=a.Id;return a.IF(b,d)?a.cO(b,d):a.vF(b,d)}mY(){return this.Xa.Ri().eY()}ZE(b){this.Xa.Ri().LZ(b)}Ip(){this.Ed().Ip()}Ii(){if(this.Ed().Ii()){const b=this.Id.uz(this.Xa),a=this.Ed().We();b.yQ(a)}}Ji(){const b=this.Ed().Ji();b&&this.nY();
this.Ed().Uy();return b}nY(){const b=this.Bc().Ha(),a=this.Ed(),d=e.gb.BO(b,this),c=this.mY();c.YQ(d.ik());c.ss(b);c.xk(d.jn());c.Tl(!0);c.ah(a.Lz());c.yQ(a.We())}ua(){return{sourceAdapterJson:this.Ed().ua()}}Aa(b){b&&this.Ed().Aa(b.sourceAdapterJson)}}}
{"use strict";const e=self.B.gb;e.Vi=class{constructor(b){this.wa=b;this.Cm=null}j(){this.Cm&&(this.Cm.j(),this.Cm=null);this.wa=null}Fl(){return this.wa}Vj(){this.Cm&&this.Cm.Vj()}Qg(){return this.Cm?this.Cm:this.Cm=this.z9()}Gr(){}La(){return this.Gr()}Wu(){}Fd(){this.Qg().Fd()}og(){this.Qg().og()}wu(){this.Qg().zr()}xb(b,a,d,c,f,l){const g=e.Vi.gO(this.wa)(b,a,d,this.wa);return f?g:this.Qg().gp(b,g,a,d,c,l)}vu(){this.Qg().yr()}Ip(){var b=this.Qg();b.si=b.We()}Uy(){this.Qg().Uy()}We(){return this.Qg().We()}Ii(){return this.Qg().Ii()}Ji(){return this.Qg().Ji()}Lz(){return e.Vi.Lz(this.wa)}z9(){const b=
this.wa.Tu();switch(this.wa.JF()){case "combo":case "boolean":case "text":case "string":return new e.mg.vP(this);case "numeric":case "number":case "angle":return"combo"===b?new e.mg.vP(this):new e.mg.V3(this);case "color":case "offsetColor":return new e.mg.eZ(this)}}ua(){return{propertyAdapterJson:this.Qg().ua()}}Aa(b){b&&this.Qg().Aa(b.propertyAdapterJson)}static Lz(b){const a=b.Bd.Bc().Ha(),d=e.BO(a,b),c=e.v0(a,b);return e.Vi.gO(b)(a,d,c,b)}static eb(){let b=(void 0).Si();"combo"===(void 0).Tu()&&
(b="absolute");switch(b){case "relative":return NaN}}static gO(b){switch(b.JF()){case "numeric":return e.oG.xb;case "angle":return e.dN.xb;case "boolean":return e.iN.xb;case "color":return e.sN.xb;case "text":return e.gR.xb}}static t1(b){switch(b.JF()){case "numeric":return e.oG.Vl;case "angle":return e.dN.Vl;case "boolean":return e.iN.Vl;case "color":return e.sN.Vl;case "text":return e.gR.Vl}}}}{"use strict";const e=self.B;class b extends e.gb.Vi{constructor(a){super(a)}}e.gb.B8=b}
{"use strict";const e=self.B;class b extends e.gb.Vi{constructor(a){super(a);this.ay=NaN}Gr(){return this.wa.Xa.yh[0]}La(){return this.ay?this.ay:super.La()}Wu(){return this.wa.Bd.Ga()}m8(a){this.wa.Xa.yh[0]!==a&&(this.ay=a)}xb(a,d,c,f,l,g){if(this.Qg().nN(d.eb()))return super.xb(a,d,c,f,l,g)}ua(){return Object.assign(super.ua(),{index:this.ay})}Aa(a){a&&(super.Aa(a),this.ay=a.index)}}e.gb.N2=b}
{"use strict";const e=self.B;class b extends e.gb.Vi{constructor(a){super(a);this.pb=NaN}Gr(){return this.wa.Xa.yh[1]}Wu(){var a=this.wa.Xa,d=this.pb?this.pb:a.yh[0];a=this.wa.Bd.Ga();d=a.TN(d);return a.yd[d].ra}Mh(a){return a.jz(this.wa.Xa.yh[2])}j8(a){this.wa.Xa.yh[0]!==a&&(this.pb=a)}xb(a,d,c,f,l,g){const k=this.wa.Bd.Ga();if(this.Mh(k.J()))return super.xb(a,d,c,f,l,g)}ua(){return Object.assign(super.ua(),{sid:this.pb})}Aa(a){a&&(super.Aa(a),this.pb=a.sid)}}e.gb.FY=b}
{"use strict";const e=self.B;class b extends e.gb.Vi{constructor(a){super(a)}Gr(){return this.wa.Xa.yh[1]}Wu(){const a=this.wa.Bd.A().Ie,d=this.qF(a.Wa).La();return a.cv(d)?a.Mg(d):null}qF(a){return a.Bl(this.wa.Xa.yh[0])}xb(a,d,c,f,l,g){if(this.Faa())return super.xb(a,d,c,f,l,g)}Faa(){const a=this.wa.Bd.A().Ie,d=this.qF(a.Wa);if(d)return a.cv(d.La())}}e.gb.Q_=b}
{"use strict";const e=self.B;class b extends e.gb.Vi{constructor(a){super(a)}Gr(){return this.wa.Xa.yh[0]}Wu(){return this.wa.Bd.Ga().ra}xb(a,d,c,f,l,g){var k=this.wa.Bd;const n=k.J().Pb();k=k.Ga().J().Pb();if(n===k)return super.xb(a,d,c,f,l,g)}}e.gb.k5=b}
{"use strict";const e=self.B;class b extends e.gb.Vi{constructor(a){super(a);this.Jd=0;this.mC=!1}Fd(){const a=this.wa.Ze();let d=this.wa.Xa;d=a.uz(d);this.Jd=d.Cc()}og(){}eb(){this.mC||this.wa.xb(0);return this.Jd}xb(a,d,c){const f=e.gb.oG.xb;this.Jd=f(a,d,c,this.wa);this.mC=!0}Ip(){}Uy(){}We(){return this.Jd}Ii(){return!1}Ji(){return!1}ua(){return{value:this.Jd,init:this.mC}}Aa(a){a&&(this.Jd=a.value,this.mC=a.hasOwnProperty("init")?a.init:!0)}}e.gb.p8=b}"use strict";
function ic(e,b,a){return e.wa.Bc().Qh()?b():a()}function jc(e,b,a){return"relative"===e.wa.Si()?b():a()}function kc(e,b,a){e.Zs?(e.Zs=!1,b()):a()}function lc(e){if(e.St)return e.St;e.St=e.Nj.Wu();return e.St}function mc(e,b,a,d,c,f){switch(e.wa.Xd()){case "behavior":return b();case "effect":return a();case "instance-variable":return d();case "plugin":return c();case "world-instance":return f()}}
function nc(e,b=!1){const a=[];for(const d of e){e=d.Bd.kg();for(const c of d.qO())b&&0===c.Ha()?a.push({time:e+c.Ha(),value:c.Zh}):b||a.push({time:e+c.Ha(),value:c.Zh})}return a.sort((d,c)=>d.time-c.time)}function oc(e,b){for(let a=b.length-1;0<=a;a--)if(b[a].time<=e)return b[a];return null}
self.B.gb.mg=class{constructor(e){this.Nj=e;this.wa=e.Fl();this.ub=this.wa.Bd.A();this.Qd=this.wa.Xa.Qd;this.Zs=!1;this.St=this.si=null}j(){this.St=this.si=this.ub=this.wa=this.Nj=null}Vj(){this.St=this.si=this.ub=null}Fl(){return this.wa}A(){return this.ub?this.ub:this.ub=this.wa.Bd.A()}Fd(){}og(){}Uy(){this.si=null}We(){}Ii(){}Ji(){}nN(e){return typeof this.Zl()===typeof e}zr(){}gp(){}yr(){}Sp(){return ic(this,()=>{const e=this.wa.Xa;return this.wa.Ze().uz(e)},()=>{const e=this.wa.Xa;return this.wa.Ze().rp(e)}).Zh}CA(){const e=
this.wa.Bc().Ha()-this.wa.Bd.kg();return ic(this,()=>{const b=this.wa.Xa;return this.wa.Ze().wF(e,b)},()=>{const b=this.wa.Xa,a=this.wa.Ze(),d=a.vF(e,b);return d?d:a.rp(b)}).Zh}FA(){}Xh(){return this.Nj.La()}ua(){return{firstAbsoluteUpdate:this.Zs,saveState:this.si}}Aa(e){e&&(this.Zs=e.firstAbsoluteUpdate,this.si=e.saveState)}};
{"use strict";const e=self.B,b=new Map,a=[0,0,0];class d extends e.gb.mg{constructor(c){super(c)}Fd(){}og(){}We(){const c=this.wa.Xd(),f=lc(this),l=this.Xh();switch(c){case "behavior":return this.cB(f.kc(l));case "effect":return this.cB(f[l]);case "plugin":return this.cB(f.kc(l));case "world-instance":return this.cB(this.Zl())}}Ii(){const c=this.Sp();return!this.HR(c,this.Zl())}Ji(){return e.ye(this.si)?!1:!this.HR(this.si,this.Zl())}HR(c,f){return c.Xo(f)}Sp(){const c=super.Sp();return this.GA(c)}CA(){const c=
super.CA();return this.GA(c)}FA(){}cB(c){return e.tn(c,e.lb)?c.toArray().slice(0,3):c.slice(0,3)}GA(c){return e.tn(c,e.lb)?c:new e.lb(c[0],c[1],c[2],1)}nN(){return!0}zr(){var c=this.wa.Ga();b.has(c)||b.set(c,new Map);c=b.get(c);const f=this.wa.Xd();c.has(f)||c.set(f,new Map);c=c.get(f);c.has(this.Qd)||c.set(this.Qd,{Gy:!1,color:new e.lb(0,0,0,1)})}tS(c,f,l){c=b.get(c).get(f).get(l);c.Gy=!0;return c.color}gp(c,f){var l=this.wa.Bc(),g=this.wa.Bd;c=this.wa.Ga();var k=this.wa.Ed();const n=this.wa.Xd();
k=l.MF(c,k,this.Qd);if(1<k.length){if(k=nc(k,!0),l=l.Ha(),l=oc(l,k))if(k=l.time-g.kg(),0===k)this.tS(c,n,this.Qd).SW(f[0],f[1],f[2]);else{if(0>k)return;l=f[0];g=f[1];f=f[2];k=this.wa.xb(k,!1,!0);l=e.lb.aF(l,k[0]);g=e.lb.aF(g,k[1]);f=e.lb.aF(f,k[2]);this.tS(c,n,this.Qd).SW(l,g,f)}}else this.Gk(f[0],f[1],f[2]);return e.oe.Ml}yr(){const c=this.wa.Ga();if(b.has(c)){var f=b.get(c),l=this.wa.Xd();if(f.has(l)){var g=f.get(l);if(g.has(this.Qd)){var k=g.get(this.Qd),n=k.color;k.Gy&&this.Gk(n.fb,n.ib,n.hb);
0===g.size&&f.delete(l);0===f.size&&b.delete(c)}}}}Zl(){const c=this.wa.Xd(),f=lc(this),l=this.Xh();switch(c){case "behavior":return this.GA(f.kc(l));case "effect":return f[l].clone();case "plugin":return this.GA(f.kc(l));case "world-instance":return this.A().Bb.clone()}}Gk(c,f,l){const g=this.wa.Xd(),k=lc(this),n=this.Xh();switch(g){case "behavior":a[0]=c;a[1]=f;a[2]=l;k.ef(n,a);break;case "effect":k[n].vE(c,f,l);break;case "plugin":a[0]=c;a[1]=f;a[2]=l;k.ef(n,a);break;case "world-instance":this.A().v7(c,
f,l)}}ua(){}Aa(){}}e.gb.mg.eZ=d}
{"use strict";const e=self.B;class b extends e.gb.mg{constructor(a){super(a)}Fd(){}og(){}We(){return this.Zl()}Ii(){return this.Sp()!==this.We()}Ji(){return e.ye(this.si)?!1:this.si!==this.We()}gp(a,d){const c=e.gb.Vi.t1(this.wa);var f=this.wa;const l=f.Bd,g=f.Xd();var k=f.Bc();const n=l.Ga();f=f.Ed();k=k.MF(n,f,this.Qd);1<k.length&&(k=nc(k),a=oc(a+l.kg(),k))&&(d=a.value);if(c(this.Xh(),lc(this),d,g))switch(this.Gk(d),g){case "plugin":return e.oe.Ml}}Zl(){const a=this.wa.Xd(),d=lc(this),c=this.Xh();
switch(a){case "behavior":return d.kc(c);case "effect":return d[c];case "instance-variable":return d.Ye(c);case "plugin":return d.kc(c)}}Gk(a){const d=this.wa.Xd(),c=lc(this),f=this.Xh();switch(d){case "behavior":c.ef(f,a);break;case "effect":c[f]=a;break;case "instance-variable":c.Jn(f,a);break;case "plugin":c.ef(f,a)}}}e.gb.mg.vP=b}
{"use strict";const e=self.B,b=new Map,a=(c,f,l,g,k)=>b.set(c,{eia:f,lga:l,$ga:g,round:k});a("offsetX",(c,f)=>c.c4(f),(c,f)=>c.hf(f),c=>c.O(),!0);a("offsetY",(c,f)=>c.d4(f),(c,f)=>c.jf(f),c=>c.P(),!0);a("offsetWidth",(c,f)=>c.xP(f),(c,f)=>c.Zd(f),c=>c.L(),!0);a("offsetHeight",(c,f)=>c.wP(f),(c,f)=>c.Be(f),c=>c.M(),!0);a("offsetAngle",(c,f)=>c.Y3(f),(c,f)=>c.Wc(f),c=>c.na(),!1);a("offsetOpacity",(c,f,l,g)=>{l=c.Ld()+f;0===g.bd?(1<l?g.bd+=l-1:0>l&&(g.bd+=l),c.Z3(f)):(c=c.Ld()+f,0<f&&0<g.bd?1<c&&(g.bd+=
c-1):0<f&&0>g.bd?(g.bd+=f,0<g.bd&&(g.bd=0)):0>f&&0<g.bd?(g.bd+=f,0>g.bd&&(g.bd=0)):0>f&&0>g.bd&&0>c&&(g.bd+=c))},(c,f)=>{c.df(f)},c=>c.Ld(),!1);a("offsetOriginX",(c,f)=>c.a4(f),(c,f)=>c.ms(f),c=>c.$j(),!1);a("offsetOriginY",(c,f)=>c.b4(f),(c,f)=>c.ns(f),c=>c.ak(),!1);a("offsetZElevation",(c,f)=>c.e4(f),(c,f)=>c.Ce(f),c=>c.Sa(),!0);a("offsetScaleX",(c,f,l)=>{const g=0>c.L()?-1:1;c.xP(l.ck()*g*f)},(c,f,l)=>{c.Zd(l.ck()*f)},(c,f)=>{const l=0>c.L()?-1:1;if(c.up()){var g=c.Fa(),k=f.Bc().FO(g.Ga());k?g=
g.L()/k.ck():(k=g.Ga().ra,g=k.wn()?g.L()/k.ck():1);return c.L()*l/(f.ck()*g)}return c.L()*l/f.ck()},!1);a("offsetScaleY",(c,f,l)=>{const g=0>c.M()?-1:1;c.wP(l.bk()*g*f)},(c,f,l)=>{c.Be(l.bk()*f)},(c,f)=>{const l=0>c.M()?-1:1;if(c.tp()){var g=c.Fa(),k=f.Bc().FO(g.Ga());k?g=g.M()/k.bk():(k=g.Ga().ra,g=k.wn()?g.M()/k.bk():1);return c.M()*l/(f.bk()*g)}return c.M()*l/f.bk()},!1);class d extends e.gb.mg{constructor(c){super(c);this.bd=this.nb=0;this.UJ=this.WJ=this.VJ=null;this.lW=!1;this.lr=e.tn(this.wa.Bc(),
e.f8)?new e.gb.mg.X3(this):new e.gb.mg.W3(this);c=this.wa.Xa.Qd;"world-instance"===this.wa.Xd()&&(c=b.get(c),this.VJ=c.$ga,this.WJ=c.eia,this.UJ=c.lga,this.lW=c.round)}j(){this.UJ=this.WJ=this.VJ=this.lr=null;super.j()}NQ(c){this.nb=c}Fd(){const c=this.lr.Fd();"number"===typeof c&&(this.nb=c);this.bd=0}og(){const c=this.lr.og();"number"===typeof c&&(this.nb=c)}We(){return this.Zl()}Ii(){return this.Sp()!==this.We()}Ji(){return e.ye(this.si)?!1:this.si!==this.We()}zr(){this.lr.zr()}gp(c,f,l,g,k,n,
q){return this.lr.gp(c,f,l,g,k,n,q)}yr(){this.lr.yr()}Zl(){const c=lc(this),f=this.Xh(),l=this.wa.Bd,g=this.A();return mc(this,()=>c.kc(f),()=>c[f],()=>c.Ye(f),()=>c.kc(f),()=>this.VJ(g,l))}Gk(c){const f=lc(this),l=this.Xh(),g=this.wa.Bd,k=this.A();mc(this,()=>f.qG(l,c),()=>f[l]+=c,()=>f.P6(l,c),()=>f.qG(l,c),()=>this.WJ(k,c,g,this))}IT(c){const f=lc(this),l=this.Xh(),g=this.wa.Bd,k=this.A();mc(this,()=>f.ef(l,c),()=>f[l]=c,()=>f.Jn(l,c),()=>f.ef(l,c),()=>this.UJ(k,c,g))}Cs(c,f,l,g,k,n){this.lr.Cs(c,
f,l,g,k,n)}Wl(c,f,l){c=(c.toString().split(".")[1]||"").length;const g=this.Zl();this.Gk((0===c?this.lW?Math.round(g):g:e.toFixed(g,c))-g,f,l)}ua(){return Object.assign(super.ua(),{v:this.nb,a:this.bd})}Aa(c){c&&(super.Aa(c),this.nb=c.v,this.bd=c.a)}}e.gb.mg.V3=d}
{"use strict";const e=self.B,b=new Map;class a{constructor(d){this.Ne=d}j(){this.Ne=null}Fd(){const d=this.Ne,c=this.Ne.Fl();return jc(d,()=>ic(d,()=>0,()=>e.gb.Vi.Lz(c)),()=>{})}og(){}zr(){const d=this.Ne,c=this.Ne.Fl(),f=c.Xa.Qd;jc(d,()=>{},()=>{var l=c.Ga();b.has(l)||b.set(l,new Map);l=b.get(l);const g=c.Xd();l.has(g)||l.set(g,new Map);l=l.get(g);l.has(f)||l.set(f,{Gy:!1,value:0})})}sS(d,c,f){d=b.get(d).get(c).get(f);d.Gy=!0;return d}gp(d,c,f,l,g,k){const n=this.Ne,q=this.Ne.Fl(),t=q.Xa.Qd;jc(n,
()=>{const p=n.nb;n.Gk(c-p,f,l);k&&this.Cs(d,f,l,g,p,c);n.NQ(c)},()=>{var p=q.Bc(),v=q.Bd;const u=q.Ga();var w=q.Ed();const y=q.Xd();w=p.MF(u,w,t);if(1<w.length){if(w=nc(w,!0),p=p.Ha(),p=oc(p,w))v=p.time-v.kg(),0===v?this.sS(u,y,t).value+=c:0>v||(v=q.xb(v,!1,!0),this.sS(u,y,t).value+=c-v)}else n.IT(c)});return mc(n,()=>{},()=>e.oe.Ml,()=>{},()=>e.oe.Ml,()=>e.oe.Ml)}yr(){const d=this.Ne,c=this.Ne.Fl(),f=c.Xa.Qd;jc(d,()=>{},()=>{const l=c.Ga();if(b.has(l)){var g=b.get(l),k=c.Xd();if(g.has(k)){var n=
g.get(k);if(n.has(f)){var q=n.get(f),t=q.value;q.Gy&&d.IT(t);n.delete(f);0===n.size&&g.delete(k);0===g.size&&b.delete(l)}}}})}Cs(d,c,f,l,g,k){const n=this.Ne;l||(c&&d===c.Ha()?n.Wl(c.Cc(),c,f):f&&d===f.Ha()?n.Wl(f.Cc(),c,f):0===k-g&&n.Wl(c.Cc(),c,f))}}e.gb.mg.W3=a}
{"use strict";const e=self.B;class b{constructor(a){this.Ne=a}j(){this.Ne=null}Fd(){const a=this.Ne;a.Zs=!0;return this.FA(a.Sp())}og(){const a=this.Ne;if(a.Sp()!==a.CA())return a.Zs=!0,this.FA(a.CA())}zr(){}gp(a,d,c,f,l,g){const k=this.Ne,n=k.nb;jc(k,()=>{k.Gk(d-n,c,f);g&&this.Cs(a,c,f,l,n,d)},()=>{kc(k,()=>{k.Gk(n,c,f)},()=>{k.Gk(d-n,c,f);g&&this.Cs(a,c,f,l,n,d)})});k.NQ(d);return mc(k,()=>{},()=>e.oe.Ml,()=>{},()=>e.oe.Ml,()=>e.oe.Ml)}yr(){}FA(a){return a-this.Ne.We()}Cs(a,d,c,f,l,g){const k=this.Ne;
f?d&&a===d.Ha()?k.Wl(d.Cc(),d,c):c&&a===c.Ha()?k.Wl(c.Cc(),d,c):c||k.Wl(d.Cc(),d,c):d&&a===d.Ha()?k.Wl(d.Cc(),d,c):c&&a===c.Ha()?k.Wl(c.Cc(),d,c):0===g-l&&k.Wl(d.Cc(),d,c)}}e.gb.mg.X3=b}
{"use strict";const e=self.B,b=self.Du;e.gb.oG=class{constructor(){}static Vl(a,d,c,f){let l;switch(f){case "behavior":l=d.kc(a);break;case "effect":l=d[a];break;case "instance-variable":l=d.Ye(a);break;case "plugin":l=d.kc(a)}return l===c?!1:!0}static xb(a,d,c,f){if(!c)return c=f.Xa,c=f.Ze().rp(c),c.Cc();var l=f.Oi();"default"===l&&(l="continuous");"combo"===f.Tu()&&(l="discrete");if("discrete"===l)return d.Cc();if("continuous"===l||"step"===l){"step"===l&&(l=f.Bc().Uu(),0!==l&&(l=1/l,a=Math.floor(a*
l)/l));var g=d.Ha();const k=c.Ha();l=d.Cc();const n=c.Cc();if(l===n)return l;a=e.normalize(a,g,k);const q=d.jn();d=d.iF("cubic-bezier");c=c.iF("cubic-bezier");d&&d.Ox&&c&&c.TB?(g=k-g,g=b.sp(q)(g*a,0,1,g),g=b.sp("cubicbezier")(g,l,l+d.uL,n+c.sJ,n)):g=b.sp(q)((k-g)*a,l,n-l,k-g);return"integer"===f.Tu()?Math.floor(g):g}}}}
{"use strict";const e=self.B;e.gb.dN=class{constructor(){}static Vl(b,a,d,c){let f;switch(c){case "behavior":f=a.kc(b);break;case "effect":f=a[b];break;case "instance-variable":f=a.Ye(b);break;case "plugin":f=a.kc(b)}return f===d?!1:!0}static xb(b,a,d,c){if(!d)return a=c.Xa,a=c.Ze().rp(a),a.Cc();var f=c.Oi();"default"===f&&(f="continuous");"combo"===c.Tu()&&(f="discrete");if("discrete"===f)return a.Cc();if("continuous"===f||"step"===f){"step"===f&&(c=c.Bc().Uu(),0!==c&&(c=1/c,b=Math.floor(b*c)/c));
const l=a.Ha(),g=d.Ha();c=a.Cc();d=d.Cc();if(f=a.iF("angle")){const k=f.iL;if(c===d&&0===k)return c;b=e.normalize(b,l,g);a=self.Du.sp(a.jn())(b,0,1,1);switch(f.kJ){case "closest":return e.YL(c,d,a,k);case "clockwise":return e.sga(c,d,a,k);case "anti-clockwise":return e.rga(c,d,a,k)}}else{if(c===d)return c;b=e.normalize(b,l,g);a=self.Du.sp(a.jn());return e.YL(c,d,a(b,0,1,1))}}}}}"use strict";
self.B.gb.iN=class{constructor(){}static Vl(e,b,a,d){let c;switch(d){case "behavior":c=b.kc(e);break;case "effect":c=b[e];break;case "instance-variable":c=b.Ye(e);break;case "plugin":c=b.kc(e)}return!!c===!!a?!1:!0}static xb(e,b,a,d){return a?b.Cc()?1:0:(e=d.Xa,e=d.Ze().rp(e),e.Cc()?1:0)}};
{"use strict";const e=self.B,b=[0,0,0],a=[0,0,0],d=[0,0,0];e.gb.sN=class{constructor(){}static Vl(c,f,l,g){let k;switch(g){case "behavior":k=f.kc(c);break;case "effect":k=f[c];break;case "instance-variable":k=f.Ye(c);break;case "plugin":k=f.kc(c)}Array.isArray(l)?(b[0]=l[0],b[1]=l[1],b[2]=l[2]):(d.oE(l),b[0]=Math.floor(255*d.fb),b[1]=Math.floor(255*d.ib),b[2]=Math.floor(255*d.hb));Array.isArray(k)?(a[0]=k[0],a[1]=k[1],a[2]=k[2]):(d.oE(k),a[0]=Math.floor(255*d.fb),a[1]=Math.floor(255*d.ib),a[2]=Math.floor(255*
d.hb));return b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]?!0:!1}static xb(c,f,l,g){if(!l)return f=g.Xa,f=g.Ze().rp(f),f=f.Cc(),b[0]=f[0],b[1]=f[1],b[2]=f[2],b;var k=g.Oi();"default"===k&&(k="continuous");if("discrete"===k)return f=f.Cc(),b[0]=f[0],b[1]=f[1],b[2]=f[2],b;if("continuous"===k||"step"===k){"step"===k&&(g=g.Bc().Uu(),0!==g&&(g=1/g,c=Math.floor(c*g)/g));g=f.Ha();k=l.Ha();var n=f.Cc(),q=l.Cc();const t=e.normalize(c,g,k);c=n[0];l=n[1];n=n[2];const p=q[0],v=q[1];q=q[2];f=self.Du.sp(f.jn());g=k-g;
k=g*t;b[0]=c===p?c:f(k,c,p-c,g);b[1]=l===v?l:f(k,l,v-l,g);b[2]=n===q?n:f(k,n,q-n,g);return b}}}}"use strict";self.B.gb.gR=class{constructor(){}static Vl(e,b,a,d){let c;switch(d){case "behavior":c=b.kc(e);break;case "effect":c=b[e];break;case "instance-variable":c=b.Ye(e);break;case "plugin":c=b.kc(e)}return c===a?!1:!0}static xb(e,b,a,d){return a?b.Cc():(e=d.Xa,e=d.Ze().rp(e),e.Cc())}};
{"use strict";const e=self.B;e.eh=class{constructor(){this.Ux=new Map}j(){for(const b of this.Ux.values())b.j();this.Ux.clear();this.Ux=null}yc(b){b=new e.Y7(b);this.Ux.set(b.Da(),b)}ea(b){return this.Ux.get(b)}static Mv(b,a,d,c){if(a)for(const f of a)e.eh.JR("create",f,b,d,c)}static Uv(b,a,d,c){b.length?a.forEach((f,l)=>{b[l].Aa(f)}):a.forEach(f=>{e.eh.JR("load",f,b,d,c)})}static JR(b,a,d,c,f){let l;if("function"===typeof c)switch(b){case "load":l=new c(null,f);break;case "create":l=new c(a,f)}else if("object"===
typeof c)switch(c=c.map.get(a[c.DX]),b){case "load":l=new c(null,f);break;case "create":l=new c(a,f)}switch(b){case "load":l.Aa(a);d.push(l);break;case "create":"function"!==typeof l.Cl||l.Cl()?d.push(l):l.j()}}}}
{"use strict";const e=self.B;e.Y7=class{constructor(b){this.Ja="";this.OD=NaN;this.ID=0;this.Bg=this.wg="default";this.jD=this.YC=!1;this.Lt=1;this.zf=null;b&&(this.Ja=b[0],this.OD=b[1],this.ID=b[2],this.wg=b[3],this.Bg=b[4],this.YC=!!b[6],this.jD=!!b[7],this.Lt=b[8],this.zf=new e.hR(b[5],this))}j(){this.zf.j();this.zf=null}Iz(){this.zf||(this.zf=new e.hR(null,this));return this.zf}Da(){return this.Ja}sA(b){this.Ja=b}Yd(){return this.OD}Uu(){return this.ID}Oi(){return this.wg}Si(){return this.Bg}Jr(){return this.YC}Lr(){return this.jD}nn(){return this.Lt}ua(){return{trackDataJson:this.zf.ua(),
name:this.Ja,totalTime:this.OD,step:this.ID,interpolationMode:this.wg,resultMode:this.Bg,loop:this.YC,pingPong:this.jD,repeatCount:this.Lt}}Aa(b){b&&(this.Iz().Aa(b.trackDataJson),this.Ja=b.name,this.OD=b.totalTime,this.ID=b.step,this.wg=b.interpolationMode,this.Bg=b.resultMode,this.YC=b.loop,this.jD=b.pingPong,this.Lt=b.repeatCount)}}}
{"use strict";const e=self.B;class b{constructor(a,d){this.zf=d;this.Vn=this.pC=null;this.ym=this.nm=NaN;this.Bg=this.wg="default";this.oh=!1;this.Id=this.Fj=null;this.tf="";this.Bt=null;this.vL=0;this.WC=this.zf.yf.Yd();this.Ca=0;this.Ja="";a&&(a[0]&&(this.pC=a[0],this.nm=a[0][2],this.ym=a[0][1]),this.wg=a[1],this.Bg=a[2],this.oh=!!a[3],a[6]&&(this.tf=a[6]),a[7]&&(this.Bt=a[7],this.vL=a[7][0],this.WC=a[7][1]),a[8]&&(this.Vn=a[8]),a[8]&&(this.Vn=a[8]),a[9]&&(this.Ca=a[9]),a[10]&&(this.Ja=a[10]),this.Fj=
new e.gP(a[4],this),this.Id=new e.cQ(a[5],this))}j(){this.zf=this.pC=null;this.Fj&&(this.Fj.j(),this.Fj=null);this.Id&&(this.Id.j(),this.Id=null);this.Bt=null}Iz(){return this.zf}Qi(){this.Fj||(this.Fj=new e.gP(null,this));return this.Fj}Ze(){this.Id||(this.Id=new e.cQ(null,this));return this.Id}FF(){return this.ym}Qu(){return this.nm}Oi(){return this.wg}Si(){return this.Bg}Cl(){return this.oh}Tl(a){this.oh=!!a}Yj(){return this.tf}kg(){return this.vL}El(){return this.WC}ck(){return this.Vn[0]}bk(){this.Vn||
(this.Vn=[]);return this.Vn[1]}ik(){return this.Ca}Da(){return this.Ja}ua(){return{keyframeDataJson:this.Fj.ua(),propertyTrackDataJson:this.Id.ua(),instanceData:this.pC,additionalInstanceData:this.Vn,instanceUid:this.nm,objectClassIndex:this.ym,interpolationMode:this.wg,resultMode:this.Bg,enabled:this.oh,id:this.tf,nestedData:this.Bt,type:this.Ca,name:this.Ja}}Aa(a){a&&(this.pC=a.instanceData,this.nm=a.instanceUid,this.ym=a.objectClassIndex,this.wg=a.interpolationMode,this.Bg=a.resultMode,this.oh=
a.enabled,this.tf=a.id,this.Ca=a.type?a.type:0,this.Ca=a.name?a.name:"",this.WC=this.zf.yf.Yd(),a.nestedData&&(this.Bt=a.nestedData,this.vL=this.Bt[0],this.WC=this.Bt[1]),a.additionalInstanceData&&(this.Vn=a.additionalInstanceData),this.Qi().Aa(a.keyframeDataJson),this.Ze().Aa(a.propertyTrackDataJson))}}e.hR=class{constructor(a,d){this.yf=d;this.ir=[];this.kx=new Map;e.eh.Mv(this.ir,a,b,this)}j(){this.yf=null;for(const a of this.ir)a.j();e.G(this.ir);this.ir=null;this.kx.clear();this.kx=null}X0(a,
d){const c=this.kx.get(d);if(c&&c.has(a))return c.get(a);for(const f of d.Qi().qX())if(f.Ha()===a)return c||this.kx.set(d,new Map),this.kx.get(d).set(a,f),f}G0(a,d){for(const c of d.Qi().qX())if(c.Ha()>=a)return c}H0(a,d){for(const c of d.Qi().sha())if(c.Ha()<=a)return c}*mia(){for(const a of this.ir)yield a}ua(){return{trackDataItemsJson:this.ir.map(a=>a.ua())}}Aa(a){a&&e.eh.Uv(this.ir,a.trackDataItemsJson,b,this)}}}
{"use strict";const e=self.B;class b{constructor(a,d){this.Id=d;this.AD="";this.Ca=this.Qd=this.yh=null;this.DK=this.HK=NaN;this.Bg=this.wg="default";this.oh=!1;this.Xk=null;a&&(this.AD=a[0][0],this.yh=a[0].slice(1),this.Qd=a[1],this.Ca=a[2],this.HK=a[3],this.DK=a[4],this.wg=a[5],this.Bg=a[6],this.oh=!!a[7],this.Xk=new e.bQ(a[8],this))}j(){this.Xk.j();this.yh=this.Id=this.Xk=null}Ze(){return this.Id}Ri(){this.Xk||(this.Xk=new e.bQ(null,this));return this.Xk}Xd(){return this.AD}ik(){return this.Ca}YQ(a){this.Ca=
a}Oi(){return this.wg}Si(){return this.Bg}Cl(){return this.oh}Tl(a){this.oh=!!a}ua(){return{propertyKeyframeDataJson:this.Xk.ua(),sourceAdapterId:this.AD,sourceAdapterArguments:this.yh,property:this.Qd,type:this.Ca,min:this.HK,max:this.DK,interpolationMode:this.wg,resultMode:this.Bg,enabled:this.oh}}Aa(a){a&&(this.AD=a.sourceAdapterId,this.yh=a.sourceAdapterArguments,this.Qd=a.property,this.Ca=a.type,this.HK=a.min,this.DK=a.max,this.wg=a.interpolationMode,this.Bg=a.resultMode,this.oh=a.enabled,this.Ri().Aa(a.propertyKeyframeDataJson))}}
e.cQ=class{constructor(a,d){this.hc=d;this.Vq=[];this.Cx=new Map;e.eh.Mv(this.Vq,a,b,this)}j(){this.hc=null;for(const a of this.Vq)a.j();e.G(this.Vq);this.Vq=null;this.Cx.clear();this.Cx=null}uz(a){return a.Ri().dd[0]}rp(a){return a.Ri().dd.Se(-1)}IF(a,d){const c=this.Cx.get(d);if(c&&c.has(a))return c.get(a);const f=d.Ri();for(const l of f.JM())if(l.Ha()===a)return c||this.Cx.set(d,new Map),this.Cx.get(d).set(a,l),l}cO(a,d){d=d.Ri();for(const c of d.JM())if(c.Ha()>a)return c}vF(a,d){d=d.Ri();for(const c of d.JM())if(c.Ha()>=
a)return c}wF(a,d){d=d.Ri();for(const c of d.Sha())if(c.Ha()<=a)return c}*Uha(){for(const a of this.Vq)yield a}ua(){return{propertyTrackDataItemsJson:this.Vq.map(a=>a.ua())}}Aa(a){a&&e.eh.Uv(this.Vq,a.propertyTrackDataItemsJson,b,this)}}}
{"use strict";const e=self.B;class b{constructor(a,d){this.Fj=d;this.fd=-1;this.tj="noease";this.uj=!1;this.qx=this.Bh=null;a&&(this.fd=a[0],this.tj=a[1],this.uj=!!a[2],this.Bh=(a=a[3])?a.split(" "):[],this.qx=new Set(this.Bh.map(c=>c.toLowerCase())))}j(){this.Fj=null;e.G(this.Bh);this.Bh=null;this.qx.clear();this.qx=null}Qi(){return this.Fj}Ha(){return this.fd}ss(a){this.fd=a}jn(){return this.tj}xk(a){this.tj=a}Cl(){return this.uj}Tl(a){this.uj=!!a}WQ(a){this.Bh=a?a.split(" "):[];this.qx=new Set(this.Bh.map(d=>
d.toLowerCase()))}ua(){return{time:this.fd,ease:this.tj,enable:this.uj,tags:this.Bh}}Aa(a){a&&(this.fd=a.time,this.tj=a.ease,this.uj=a.enable,this.Bh=a.tags,this.qx=new Set(this.Bh.map(d=>d.toLowerCase())))}}e.gP=class{constructor(a,d){this.hc=d;this.cd=[];e.eh.Mv(this.cd,a,b,this)}j(){this.hc=null;for(const a of this.cd)a.j();e.G(this.cd);this.cd=null}dY(){const a=new b(null,this);this.cd.push(a);return a}JZ(a){for(const d of this.cd){if(!a(d))continue;const c=this.cd.indexOf(d);-1!==c&&(d.j(),this.cd.splice(c,
1))}this.I7()}I7(){this.cd.sort((a,d)=>a.Ha()-d.Ha())}Z0(a){return this.cd.indexOf(a)}Y0(a){return this.cd[a]}*qX(){for(const a of this.cd)yield a}*sha(){for(let a=this.cd.length-1;0<=a;a--)yield this.cd[a]}ua(){return{keyframeDataItemsJson:this.cd.map(a=>a.ua())}}Aa(a){a&&e.eh.Uv(this.cd,a.keyframeDataItemsJson,b,this)}}}
{"use strict";const e=self.B;class b{constructor(a,d){this.Xk=d;this.Zh=this.Jd=null;this.Ca="";this.fd=NaN;this.tj="noease";this.uj=!1;this.gj=null;a&&(this.Jd=a[0][0],this.Zh=a[0][1],this.Ca=a[0][2],this.fd=a[1],this.tj=a[2],this.uj=!!a[3],this.gj=null,a[4]&&(this.gj=new e.sY(a[4],this)))}j(){this.Xk=null;this.gj&&(this.gj.j(),this.gj=null)}eb(){return this.Jd}ah(a){"color"===this.Ca&&e.sn(a)?(this.Jd[0]=e.KF(a),this.Jd[1]=e.yF(a),this.Jd[2]=e.kF(a)):this.Jd=a}yQ(a){"color"===this.Ca&&e.sn(a)?(this.Zh[0]=
e.KF(a),this.Zh[1]=e.yF(a),this.Zh[2]=e.kF(a)):this.Zh=a}Cc(){const a=this.Xk.Xa.Si();if("relative"===a)return this.eb();if("absolute"===a)return this.Zh}ik(){return this.Ca}YQ(a){this.Ca=a}Ha(){return this.fd}ss(a){this.fd=a}jn(){return this.tj}xk(a){this.tj=a}Cl(){return this.uj}Tl(a){this.uj=!!a}iF(a){if(this.gj)for(const d of this.gj.mga())if(d.Yj()===a)return d}ua(){const a=this.gj;return{addonDataJson:a?a.ua():a,value:this.Jd,aValue:this.Zh,type:this.Ca,time:this.fd,ease:this.tj,enable:this.uj}}Aa(a){a&&
(a.addonDataJson&&this.gj.vwa(a.addonDataJson),this.Jd=a.value,this.Zh=a.aValue,this.Ca=a.type,this.fd=a.time,this.tj=a.ease,this.uj=a.enable)}}e.bQ=class{constructor(a,d){this.Xa=d;this.dd=[];e.eh.Mv(this.dd,a,b,this)}j(){this.Xa=null;for(const a of this.dd)a.j();e.G(this.dd);this.dd=null}eY(){const a=new b(null,this);this.dd.push(a);return a}LZ(a){for(const d of this.dd){if(!a(d))continue;const c=this.dd.indexOf(d);-1!==c&&(d.j(),this.dd.splice(c,1))}this.J7()}J7(){this.dd.sort((a,d)=>a.Ha()-d.Ha())}*JM(){for(const a of this.dd)yield a}*Sha(){for(let a=
this.dd.length-1;0<=a;a--)yield this.dd[a]}ua(){return{propertyKeyframeDataItemsJson:this.dd.map(a=>a.ua())}}Aa(a){a&&e.eh.Uv(this.dd,a.propertyKeyframeDataItemsJson,b,this)}}}
{"use strict";const e=self.B;class b{constructor(c,f){this.gj=f;this.tf=c[0];this.im=c[1]}j(){this.im=this.gj=null}Yj(){return this.tf}ua(){return{id:this.tf,data:this.im}}Aa(c){c&&(this.tf=c.id,this.im=c.data)}}class a extends b{constructor(c,f){super(c,f);this.uL=this.im[0];this.Ox=!!this.im[1];this.sJ=this.im[2];this.TB=!!this.im[3]}j(){super.j()}ua(){return Object.assign(super.ua(),{startAnchor:this.uL,startEnable:!!this.Ox,endAnchor:this.sJ,endEnable:!!this.TB})}Aa(c){c&&(super.Aa(c),this.uL=
c.startAnchor,this.Ox=!!c.startEnable,this.sJ=c.endAnchor,this.TB=!!c.endEnable)}}class d extends b{constructor(c,f){super(c,f);this.kJ=this.im[0];this.iL=this.im[1]}j(){super.j()}ua(){return Object.assign(super.ua(),{direction:this.kJ,revolutions:this.iL})}Aa(c){c&&(super.Aa(c),this.kJ=c.direction,this.iL=c.revolutions)}}e.sY=class{constructor(c){this.cq=[];e.eh.Mv(this.cq,c,{DX:0,map:new Map([["cubic-bezier",a],["angle",d]])},this)}j(){for(const c of this.cq)c.j();e.G(this.cq);this.cq=null}*mga(){for(const c of this.cq)yield c}ua(){return{addonDataItemsJson:this.cq.map(c=>
c.ua())}}Aa(c){c&&e.eh.Uv(this.cq,c.addonDataItemsJson,{DX:"id",map:new Map([["cubic-bezier",a],["angle",d]])},this)}}}
{"use strict";const e=self.B;let b=0;e.f8=class extends e.oe{constructor(a,d){super(`tween-${b++}`,a,d);this.tf="";this.oU=!1;this.QJ="start-value";this.RV=this.QV=null}Ga(){var a=this.Yb;if(a&&a.length&&(a=a[0])){var d=a.Ga();return a.Kl()?d:null}}Yj(){return this.tf}XP(){if(this.RV)for(const a of this.RV)a(this);if(!this.sg)for(const a of this.Yb)a.Ji()}HP(){this.Ms=this.b.al}PN(){if(!this.tq&&(this.tq=!0,this.QV))for(const a of this.QV)a(this)}ss(a){this.NR();super.ss(a)}Fd(a){if(!this.jo&&"current-state"===
this.QJ)for(const d of this.Yb)d.Ii();super.Fd(a)}pg(a=!1){super.pg(a);if(!this.sg)for(const d of this.Yb)d.Ip()}Vc(a=!0,d=!1){this.NR();super.Vc(a,d)}NR(){for(const a of this.Yb){const d=c=>{c=c.Ha();const f=this.Yd();return 0!==c&&c!==f};a.KZ(d);a.ZE(d)}}PA(){if(this.ri)return!0;const a=this.Ga();if(a&&a.J().Wg())return!1;this.Nb.Wy(this);this.rQ();return!0}rP(){}Gd(){const a=this.Ga();super.Gd(this.I().Al(a),1)}ua(){const a=super.ua();return Object.assign(a,{tweenDataItemJson:this.yf.ua(),id:this.tf,
destroyInstanceOnComplete:this.oU,initialValueMode:this.QJ})}Aa(a){a&&(this.yf.Aa(a.tweenDataItemJson),super.Aa(a),this.tf=a.id,this.oU=a.destroyInstanceOnComplete,this.QJ=a.initialValueMode)}static IsPlaying(a){return a.IsPlaying()}}}
{"use strict";const e=self.B,b=self.Du;e.kR=class extends e.oa{constructor(a){super();this.Ja=a[0];this.xi=[];for(const d of a[1])a=e.lR.Ya(this,d),this.xi.push(a);this.Bx=new Map;this.PD=new Map;this.ica();b.cY(this.Ja,(d,c,f,l)=>this.xb(d,c,f,l))}static Ya(a){return e.C(e.kR,a)}j(){for(const a of this.xi)a.j();e.G(this.xi);this.xi=null;this.Bx.clear();this.Bx=null;this.PD.clear();this.PD=null}r1(a){const d=this.PD.get(a);if(d)return d;for(const c of this.xi)if(c.Af===a)return this.PD.set(a,c),c}K0(a){for(const d of this.xi)if(d.Af>
a)return d}J0(a){for(const d of this.xi)if(d.Af>=a)return d}L0(a){for(let d=this.xi.length-1;0<=d;d--){const c=this.xi[d];if(c.Af<=a)return c}}xb(a,d,c,f){var l=a/f;(a=this.r1(l))?f=this.K0(l):(a=this.L0(l),f=this.J0(l));l=e.Dha(l,a.Af,f.Af,f.Af-a.Af);const g=a.Af,k=a.cy,n=a.Af+a.AW,q=a.cy+a.cga,t=f.Af+f.xU,p=f.cy+f.ifa,v=f.Af;f=f.cy;f=b.sp("spline")(l,g,k,n,q,t,p,v,f,this.Bx.get(a));f+=a.cy;return(1-f)*d+f*(d+c)}ica(){this.Bx.clear();for(let d=0;d<this.xi.length-1;d++){var a=this.xi[d];if(!a.Ox)continue;
const c=this.xi[d+1];this.Bx.set(a,b.o0(a.Af,a.Af+a.AW,c.Af+c.xU,c.Af))}}}}{"use strict";const e=self.B;e.lR=class extends e.oa{constructor(b,a){super();this.Af=a[0];this.cy=a[1];this.AW=a[2];this.cga=a[3];this.xU=a[4];this.ifa=a[5];this.Ox=a[6];this.TB=a[7]}j(){}static Ya(b,a){return e.C(e.lR,b,a)}}}{"use strict";const e=self.B;e.d8=class extends e.oa{constructor(b){super();this.b=b;this.QD=[]}j(){for(const b of this.QD)b.j();e.G(this.QD);this.QD=null}Ya(b){this.QD.push(e.kR.Ya(b))}}}
{"use strict";const e=self.B;e.H7=class extends e.oa{constructor(b){super();this.K=b;this.tb=[];this.tb.push(e.C(e.dH,this));this.Za=0;this.oj=this.tb[0]}j(){for(const b of this.tb)b.j();e.G(this.tb);this.K=this.oj=null}J(){return this.K}aa(){return this.oj}Tc(){this.aa().Tc()}t5(){var b=this.tb,a=++this.Za;a===b.length?(a=e.C(e.dH,this),b.push(a),this.oj=a):(b=b[a],b.Vc(),this.oj=b)}u5(){const b=this.tb,a=++this.Za;a===b.length&&b.push(e.C(e.dH,this));const d=b[a];d.oZ(b[a-1]);this.oj=d}Pa(){this.oj=
this.tb[--this.Za]}Gp(b){const a=this.tb;for(let d=0,c=a.length;d<c;++d)a[d].Gp(b)}}}
{"use strict";const e=self.B;e.dH=class extends e.oa{constructor(b){super();this.tb=b;this.K=this.tb.J();this.de=this.K.I().wd();this.fc=!0;this.H=[];this.uc=[]}j(){this.Ry();this.de=this.K=this.tb=null}Ry(){e.G(this.H);e.G(this.uc)}J(){return this.K}SF(){return this.fc?!!this.K.H.length:!!this.H.length}ta(){return this.fc?this.K.ta():this.H}B1(){return!!this.uc.length}tF(){const b=this.ta();return b.length?b:this.uc}Vc(){this.fc=!0;e.G(this.uc)}Tc(){this.fc=!0}oZ(b){b.fc?this.Vc():(this.fc=!1,e.Cd(this.H,
b.H),e.G(this.uc))}Xp(b){this.H.push(b)}Sn(b){this.uc.push(b)}Ee(b){this.fc=!!b}yk(b){this.fc=!1;e.G(this.H);this.H.push(b)}uv(b){this.fc=!1;e.Cd(this.H,b)}Ev(b){this.fc=!1;e.G(this.H);for(const a of b)this.H.push(a)}aN(b,a){for(const d of a)b.has(d)||this.uc.push(d)}b8(b){for(const a of b)this.H.push(a);e.Gh(this.uc,b)}Cn(b){b&&(this.de.Jf().Ob().fe?(this.fc&&(e.G(this.H),e.Cd(this.uc,b.J().ta()),this.fc=!1),b=this.uc.indexOf(b),-1!==b&&(this.H.push(this.uc[b]),this.uc.splice(b,1))):this.yk(b))}Gp(b){e.Gh(this.H,
b);e.Gh(this.uc,b)}}}
{"use strict";const e=self.B;e.W_=class extends e.oa{constructor(b){super();this.ya=b;this.b=this.ya.I();this.tb=[];this.tb.push(e.C(e.LN,this,null));this.Za=0;this.VB=[]}j(){for(const b of this.tb)b.j();e.G(this.tb);e.G(this.VB);this.b=this.ya=null}qa(){return this.ya}I(){return this.b}Jf(){return this.tb[this.Za]}Ua(b){var a=this.tb;const d=++this.Za;if(d===a.length)return b=e.C(e.LN,this,b),a.push(b),b;a=a[d];a.Vc(b);return a}Pa(){--this.Za}v5(b){this.VB.push(b)}l5(){this.VB.pop()}s0(){const b=this.VB;
return 0===b.length?null:b.Se(-1)}}}
{"use strict";const e=self.B;e.LN=class extends e.oa{constructor(b,a){super();this.tb=b;this.b=this.tb.I();this.zw=a;this.qg=this.fm=0;this.rJ=this.Hq=!1;this.wJ=null;this.DJ=this.LU=0}j(){this.Vc(null);this.b=this.tb=null}Vc(b){this.zw=b;this.qg=this.fm=0;this.rJ=this.Hq=!1}jI(b,a){this.zw=b;this.fm=0;this.qg=a}sQ(){this.qg=this.fm=0}Ob(){return this.zw}$g(b){this.zw=b}Gn(b){this.fm=b}jA(b){this.qg=b}Kn(b){this.Hq=!!b}ks(b){this.rJ=!!b}C6(b){this.wJ=b}l2(b,a){this.LU=b;this.DJ=a}pA(b){this.DJ=b}mk(){const b=
this.zw;return b.EC?!0:this.fm<b.mc.length-1?!!b.Md().length:!1}}}{"use strict";const e=self.B;e.H3=class extends e.oa{constructor(b){super();this.ya=b;this.b=this.ya.I();this.tb=[];this.Za=-1;this.oj=null;this.nC=[]}j(){e.G(this.tb);this.b=this.ya=null}Ida(b){this.nC=b;b=this.nC.slice(0);this.tb.push(b);this.Za=0;this.oj=b}qa(){return this.ya}I(){return this.b}Fr(){return this.oj}Ua(){const b=++this.Za,a=this.tb;b===a.length?a.push(this.nC.slice(0)):e.Cd(a[b],this.nC);this.oj=a[b]}Pa(){this.oj=this.tb[--this.Za]}}}
{"use strict";const e=self.B;e.J3=class extends e.oa{constructor(b){super();this.ya=b;this.b=this.ya.I();this.tb=[];this.Za=-1}j(){e.G(this.tb);this.b=this.ya=null}qa(){return this.ya}I(){return this.b}$O(){return 0<=this.Za}Fr(){return this.tb[this.Za]}Ua(){++this.Za;if(this.Za===this.tb.length){var b=e.C(e.I3,this);this.tb.push(b);return b}b=this.tb[this.Za];b.Vc();return b}Pa(){--this.Za}b0(b){const a=this.tb;for(let d=this.Za;0<=d;--d){const c=a[d];if(c.Da()===b)return c}return null}}}
{"use strict";const e=self.B;e.I3=class extends e.oa{constructor(b){super();this.Uf=b;this.Ja="";this.Za=0;this.Gc=!1}Vc(){this.Ja="";this.Za=0;this.Gc=!1}sA(b){this.Ja=b}Da(){return this.Ja}Xc(b){this.Za=b}La(){return this.Za}pg(){this.Gc=!0}}}{"use strict";const e=self.B;e.zY=class extends e.oa{constructor(){super();this.tb=[];this.Za=-1}j(){e.G(this.tb)}Fr(){return this.tb[this.Za]}Ua(){++this.Za;if(this.Za===this.tb.length){const b=[];this.tb.push(b);return b}return this.tb[this.Za]}Pa(){--this.Za}}}
{"use strict";const e=self.B;function b(a,d){return a.La()-d.La()}e.V_=class extends e.oa{constructor(a){super();this.b=a;this.lw=[];this.mL=new Map;this.KI=[];this.PU=new Map;this.$I=new Map;this.fJ=new Map;this.hB=new Map;this.aU=new Map;this.uJ=new Map;this.Rfa=0;this.JI=[];this.Nea=[];this.CV=[];this.BJ=new Map;this.de=e.C(e.W_,this);this.Hd=e.C(e.H3,this);this.Uf=e.C(e.J3,this);this.GL=[];this.qD=[];this.pD=[];this.ZI=this.jm=this.Hm=0;this.Cg=[];this.pB=[];self.c3_callFunction=(d,c)=>this.OA(d,
c)}j(){this.Qy();this.de.j();this.de=null;this.Hd.j();this.Hd=null;e.G(this.qD);e.G(this.pD);this.b=null;e.G(this.lw);this.mL.clear()}Ya(a){a=e.C(e.U_,this,a);this.lw.push(a);this.mL.set(a.Da().toLowerCase(),a)}V8(a){this.GL.push(a)}Xb(){for(const a of this.BJ.values())a.Xb(!1);for(const a of this.lw)a.Xb();for(const a of this.lw)a.xI();for(const a of this.GL)a.Xb(!1);e.G(this.GL);this.Hd.Ida(this.CV)}I(){return this.b}bO(a){return this.mL.get(a.toLowerCase())||null}uca(a){this.KI.push(a);this.PU.set(a.OU,
a)}rca(a){this.$I.set(a.pb,a)}qca(a){this.fJ.set(a.pb,a)}pca(a){this.hB.set(a.pb,a)}tca(a){this.BJ.set(a.eC.toLowerCase(),a)}sca(a){this.uJ.set(a.pb,a);a.Wg()?this.JI.push(a):this.Nea.push(a)}DA(a){2<=a.length&&a.sort(b);let d=this.aU.get(a.length);d||(d=[],this.aU.set(a.length,d));for(let f=0,l=d.length;f<l;++f){const g=d[f];a:{for(let k=0,n=a.length;k<n;++k)if(a[k]!==g[k]){var c=!1;break a}c=!0}if(c)return g}d.push(a);return a}faa(a){this.CV.push(a.rb);return this.Rfa++}wd(){return this.de}If(){return this.wd().Jf()}Ob(){return this.If().Ob()}Hf(){const a=
this.If();return a.Ob().YN(a.fm)}Nu(){const a=this.If();return a.Ob().RN(a.qg)}k0(a){const d=[];for(a=a.Nr();a;)e.Vm(d,a.bS()),a=a.Nr();return d}lS(a){const d={};for(const c of this.k0(a))d[c.Pi()]=c.oS();return Object.create(Object.prototype,d)}sF(a){return this.uJ.get(a)||null}x0(a){return this.$I.get(a)||null}i0(a){return this.hB.get(a)||null}wz(a){return this.BJ.get(a.toLowerCase())||null}Q5(){for(const a of this.JI)a.V5()}aO(a){return this.PU.get(a.toLowerCase())||null}y0(a){return(a=this.$I.get(a))&&
a.Dj?a:null}R5(){for(const a of this.KI)a.S5()}gT(){for(const a of this.lw)a.Jca()}c6(a){this.gT();this.Hm++;for(const d of a.Cy())if(a=d.od)this.b.nv(d),a.xa(),this.b.lv();this.Hm--}async EZ(a){this.gT();this.Hm++;for(const d of this.T9(a))await this.b.Cr(d);this.Hm--}*T9(a){for(const d of a.Cy())if(a=d.od)this.b.nv(d),yield*a.wb(),this.b.lv()}jw(a,d,c,f){let l=!1;if(!a.Tb())return this.wG(d,c,f);this.jm++;for(const g of a.Cy())if(a=g.od){this.b.nv(g);for(const k of a.IB){const n=k.jw(d,c,f);l=l||
n}a=a.jw(d,c,f);l=l||a;this.b.lv()}this.jm--;return l}*ys(a,d,c,f){let l=!1;if(!a.Tb())return this.wG(d,c,f);this.jm++;for(const g of a.Cy())if(a=g.od){this.b.nv(g);for(const k of a.IB){const n=yield*k.ys(d,c,f);l=l||n}a=yield*a.ys(d,c,f);l=l||a;this.b.lv()}this.jm--;return l}wG(a,d,c){this.qD.push([a,d,c]);return!1}x5(a,d,c){let f=null;const l=new Promise(g=>f=g);this.pD.push([a,d,c,f]);return l}*Tca(){if(this.b.Pr())throw Error("should not be in breakpoint");const a=this.b.cb;for(;this.pD.length;){const [d,
c,f,l]=this.pD.shift(),g=yield*this.ys(a,d,c,f);l(g)}}async uQ(){for(const a of this.Tca())await this.b.Cr(a)}Tz(){return 0<this.jm}Sv(){return++this.jm}Ov(){--this.jm}j3(){return 0<this.Hm}Sz(){return this.j3()||this.Tz()}Uca(a){for(const [d,c,f]of this.qD)this.jw(a,d,c,f);e.G(this.qD)}Te(a){a?this.ZI++:this.ZI--}ZO(){return 0<this.ZI}Br(a){for(let d=0,c=a.length;d<c;++d)a[d].Co.Tc()}Xg(a){for(let d=0,c=a.length;d<c;++d)a[d].Co.t5()}bf(a){for(let d=0,c=a.length;d<c;++d)a[d].Co.u5()}Wb(a){for(let d=
0,c=a.length;d<c;++d)a[d].Co.Pa()}HE(){const a=e.C(e.HG,this);this.Cg.push(a);return a}e6(){if(this.Cg.length){var a=this.If(),d=!1;this.Hm++;for(let c=0,f=this.Cg.length;c<f;++c){const l=this.Cg[c];l.JT()&&l.Lca(a);l.Kx&&(d=!0)}d&&this.YR();this.Hm--}}async GZ(){if(this.Cg.length){var a=this.If(),d=!1;this.Hm++;for(let c=0,f=this.Cg.length;c<f;++c){const l=this.Cg[c];l.JT()&&await l.N9(a);l.Kx&&(d=!0)}d&&this.YR();this.Hm--}}YR(){const a=e.vga(this.Cg,d=>d.Kx);for(const d of a)d.j()}Qy(){for(const a of this.Cg)a.j();
e.G(this.Cg)}F5(a){for(const d of this.Cg)d.Gp(a)}DE(a){this.pB.push(a)}Sy(){e.G(this.pB)}l1(){const a=Promise.all(this.pB);this.pB=[];return a}ua(){return{groups:this.ada(),cnds:this.$ca(),acts:this.Zca(),vars:this.lda(),waits:this.hda()}}Aa(a){this.Uaa(a.groups);this.Oaa(a.cnds);this.Naa(a.acts);this.fba(a.vars);this.bba(a.waits)}ada(){const a={};for(const d of this.KI)a[d.pb.toString()]=d.Sr();return a}Uaa(a){for(const [d,c]of Object.entries(a))(a=this.y0(parseInt(d,10)))&&a.Lp(c)}$ca(){const a=
{};for(const [d,c]of this.fJ){const f=c.ua();f&&(a[d.toString()]=f)}return a}Oaa(a){const d=new Map;for(const [c,f]of Object.entries(a))d.set(parseInt(c,10),f);for(const [c,f]of this.fJ)f.Aa(d.get(c)||null)}Zca(){const a={};for(const [d,c]of this.hB){const f=c.ua();f&&(a[d.toString()]=f)}return a}Naa(a){const d=new Map;for(const [c,f]of Object.entries(a))d.set(parseInt(c,10),f);for(const [c,f]of this.hB)f.Aa(d.get(c)||null)}lda(){const a={};for(const [d,c]of this.uJ)c.Eb||!c.Wg()&&!c.ji||(a[d.toString()]=
c.eb());return a}fba(a){for(const [d,c]of Object.entries(a))(a=this.sF(parseInt(d,10)))&&a.ah(c)}hda(){return this.Cg.filter(a=>!a.h3()).map(a=>a.ua())}bba(a){this.Qy();for(const d of a)(a=e.HG.s9(this,d))&&this.Cg.push(a)}gF(a){for(;a;)if(a=a.Nr(),a instanceof e.Ju)return a;return null}OA(a,d){Array.isArray(d)||(d=[]);a=this.wz(a.toLowerCase());if(!a)return null;if(!a.lk())return a.Pu();var c=a.ph;if(d.length<c.length){d=d.slice(0);do d.push(c[d.length].rb);while(d.length<c.length)}c=a.Xe();return c.FG(c.Nd(),
a.Fm,a.Pu(),...d)}}}
{"use strict";const e=self.B;e.U_=class extends e.oa{constructor(b,a){super();this.ya=b;this.b=b.I();this.Ja=a[0];this.UB=[];this.UD=new Map;this.EU=new Map;this.jfa=new Map;this.Kw=!1;this.sW=[];this.IB=[];this.bU=new Set;for(const d of a[1])this.KR(d,null,this.UB);this.Jj=this.b.Cb?{type:"sheet",name:this.Ja,Fy:0,children:[]}:null}j(){this.b=this.ya=null}KR(b,a,d){switch(b[0]){case 0:case 3:this.q9(b,a,d);break;case 1:this.r9(b,a,d);break;case 2:this.v9(b,a,d);break;case 4:this.t9(b,a);break;case 5:this.A9(b,
a,d);break;default:throw Error("invalid event type");}}q9(b,a,d){b=e.wl.Ya(this,a,b);if(b.fe){d.push(b);d=b.mc;for(let c=0,f=d.length;c<f;++c)d[c].Cp()&&this.zS(b,c)}else b.Cp()?this.zS(b,0):d.push(b)}t9(b,a){b=e.Ju.Ya(this,a,b);this.ya.tca(b)}r9(b,a,d){b=e.fz.Ya(this,a,b);d.push(b)}v9(b,a,d){b=e.KN.Ya(this,a,b);d.push(b)}A9(b,a,d){b=e.ez.Ya(this,a,b);d.push(b)}zS(b,a){b.fe||this.ya.V8(b);var d=b.YN(a),c=d.Ma,f=d.J();if(d.hV){var l=this.EU.get(f);l||(l=new Map,this.EU.set(f,l));d=d.C0().toLowerCase();
f=l.get(c);f||(f=new Map,l.set(c,f));c=f.get(d);c||(c=[],f.set(d,c));c.push([b,a])}else l=this.UD.get(f),l||(l={uM:new Map,iy:new Map},this.UD.set(f,l)),(f=d.Mh())?(d=l.iy.get(f),d||(d=new Map,l.iy.set(f,d))):d=l.uM,l=d.get(c),l||(l=[],d.set(c,l)),l.push([b,a])}Xb(){const b=this.UB;for(let a=0,d=b.length;a<d;++a)b[a].Xb(a<d-1&&b[a+1]instanceof e.wl&&b[a+1].Rz())}T8(b){this.sW.push(b)}xI(){e.G(this.IB);this.vR(this);this.bU.clear()}vR(b){const a=b.IB,d=b.bU;for(const c of this.sW){const f=c.Rw;c.Rb&&
b!==f&&!d.has(f)&&(d.add(f),f.vR(b),a.push(f))}}qa(){return this.ya}I(){return this.b}Da(){return this.Ja}$S(b,a){this.jfa.set(a,b)}Jca(){this.Kw=!1}xa(){if(!this.Kw){var b=this.b,a=b.bG(),d=a?performance.now():0;this.Kw=!0;var c=this.qa(),f=c.If();for(const l of this.UB)l.xa(f),c.Br(l.Md()),c.Sy(),b.ne();f.Vc(null);a&&(this.Jj.Fy+=performance.now()-d)}}*wb(){if(!this.Kw){this.Kw=!0;var b=this.b,a=this.qa(),d=a.If();for(const c of this.UB)yield*c.wb(d),a.Br(c.Md()),a.Sy(),b.ne();d.Vc(null)}}jw(b,
a,d){if(a){const c=a.J();this.vI(b,a,c,d);for(const f of c.fi)this.vI(b,a,f,d)}else return this.vI(b,a,null,null)}vI(b,a,d,c){d=this.UD.get(d);if(!d)return!1;c=c?d.iy.get(c):d.uM;if(!c)return!1;c=c.get(b);if(!c)return!1;b=!1;for(const [f,l]of c)c=this.XR(a,f,l),b=b||c;return b}*ys(b,a,d){if(a){const c=a.J();yield*this.EH(b,a,c,d);for(const f of c.fi)yield*this.EH(b,a,f,d)}else return yield*this.EH(b,a,null,null)}*EH(b,a,d,c){d=this.UD.get(d);if(!d)return!1;c=c?d.iy.get(c):d.uM;if(!c)return!1;c=c.get(b);
if(!c)return!1;b=!1;for(const [f,l]of c)c=f.Ue()?this.XR(a,f,l):yield*this.H9(a,f,l),b=b||c;return b}XR(b,a,d){const c=this.b,f=this.ya,l=f.Ob(),g=f.wd(),k=f.jm;let n=!1;l&&f.Xg(l.Nd());f.Xg(a.Nd());const q=1<k;q&&f.Hd.Ua();const t=g.Ua(a);b&&(a.mc[d].J().aa().yk(b),b.lc()&&b.Zi());b=!0;if(a.Fa()){const p=a.kr;for(let v=0,u=p.length;v<u;++v)if(!p[v].tQ(t)){b=!1;break}}b&&(c.Jl(),a.fe?a.d6(t,d):a.xa(t),n=t.Hq);g.Pa();q&&f.Hd.Pa();f.Wb(a.Nd());l&&f.Wb(l.Nd());l||1!==k||(f.Sy(),f.ZO()||c.ne());return n}*H9(b,
a,d){const c=this.b,f=this.ya,l=f.Ob(),g=f.wd(),k=f.jm;let n=!1;l&&f.Xg(l.Nd());f.Xg(a.Nd());const q=1<k;q&&f.Hd.Ua();const t=g.Ua(a);b&&(a.mc[d].J().aa().yk(b),b.lc()&&b.Zi());b=!0;if(a.Fa()){const p=a.kr;for(let v=0,u=p.length;v<u;++v)if(!(yield*p[v].DN(t))){b=!1;break}}b&&(c.Jl(),a.fe?yield*a.FZ(t,d):yield*a.wb(t),n=t.Hq);g.Pa();q&&f.Hd.Pa();f.Wb(a.Nd());l&&f.Wb(l.Nd());l||1!==k||(f.Sy(),f.ZO()||c.ne());return n}}}
{"use strict";const e=self.B,b=[];function a(){return!0}function*d(){return!0}e.wl=class extends e.oa{constructor(c,f,l){super();this.od=c;this.b=c.I();this.Pc=f;this.ue=null;this.de=this.b.qa().wd();this.wf=[];this.Ot=[];this.Hw=this.GC=this.EC=this.UU=!1;this.fe=!!l[2];this.uC=!1;this.kr=null;this.mc=[];this.hh=[];this.wi=[];this.ej=a;this.Rp=d;this.cK=this.Dj=!1;this.OU="";this.wC=!1;this.Jj=this.GB=null;this.pb=l[4];this.Us=l[5];this.od.$S(this,this.Us);this.Va=this.b.Cb?{td:l[3][0],pM:l[3][1],
WW:!1,aM:!1,bM:!1,XW:!1}:null;this.qa().rca(this);3===l[0]&&this.vaa(l[1]);c=0;for(var g of l[6])f=e.tN.Ya(this,g,c++),this.mc.push(f),this.AR(f.J());c=0;for(const k of l[7])g=e.Ky.Ya(this,k,c++),this.hh.push(g);if(9===l.length){l=l[8];for(const k of l)this.od.KR(k,this,this.wi)}this.mc.length&&(this.uC=null===this.mc[0].J()&&this.mc[0].Ma===e.g.Ea.F.JN);0===this.mc.length&&(this.mc=b);0===this.hh.length&&(this.hh=b);0===this.wi.length&&(this.wi=b)}static Ya(c,f,l){return e.C(e.wl,c,f,l)}vaa(c){this.Dj=
!0;this.wC=this.cK=!!c[0];this.OU=c[1].toLowerCase();this.GB=[];this.qa().uca(this);this.b.Cb&&(this.Jj={type:"group",name:c[1],Fy:0,children:[]})}K8(c){this.GB.push(c)}uR(c,f){for(const l of c.kh.Am)f.includes(l)||f.push(l)}BR(c,f){if(c)if(f.includes(c)||f.push(c),c.bb)for(const l of c.sq)l.lc()&&this.uR(l,f);else c.lc()&&this.uR(c,f)}AR(c){this.BR(c,this.wf)}O8(c){this.BR(c,this.Ot)}k6(){this.wf=this.b.md}Xb(c){this.Hw=!!c;this.paa();this.qaa();for(const l of this.mc)l.Xb();if(0<this.hh.length){c=
!1;for(var f of this.hh)f.Xb(),f.J1()&&(c=!0);c?(this.ej=this.Nca,this.Rp=this.P9):(this.ej=this.Mca,this.Rp=this.O9)}f=this.wi;for(let l=0,g=f.length;l<g;++l)f[l].Xb(l<g-1&&f[l+1]instanceof e.wl&&f[l+1].Rz());this.Va&&this.vea();this.Jj&&this.gaa().Jj.children.push(this.Jj)}gaa(){let c=this.Fa();for(;c;){if(c.Dj)return c;c=c.Fa()}return this.od}vea(){const c=this.Va;c.WW=this.mc.every(f=>f.Ue());c.aM=this.hh.every(f=>f.Ue());c.bM=this.wi.every(f=>f.Ue());c.XW=c.WW&&c.aM&&c.bM}paa(){if(this.Dj){var c=
this.Fa();for(this.GC=!0;c;){if(!c.Dj){this.GC=!1;break}c=c.Fa()}}}oaa(){var c=this.b.md;if(this.wf===c)this.Ot=c;else{this.Ot=e.cE(this.wf);for(c=this.Fa();c;){for(var f of c.wf)this.O8(f);c=c.Fa()}f=this.qa();this.wf=f.DA(this.wf);this.Ot=f.DA(this.Ot)}}qaa(){if(this.C1()){this.kr=[];for(var c=this.Fa();c;)this.kr.push(c),c=c.Fa();this.kr.reverse()}}Fv(){this.EC=!0;this.Pc&&this.Pc.Fv()}Md(){return this.wf}Nd(){this.UU||(this.UU=!0,this.oaa());return this.Ot}L1(c){return this.wf.includes(c)}qa(){return this.od.qa()}I(){return this.b}Fa(){return this.Pc}Uda(c){this.ue=
c}Nr(){return this.ue||this.Pc}cG(){return this.Va&&this.Va.pM}Ap(){return this.cG()&&this.Va.td}Rz(){return this.uC}Sr(){return this.wC}S5(){this.Lp(this.cK)}Lp(c){c=!!c;if(!this.Dj)throw Error("not a group");if(this.wC!==c){this.wC=c;for(const f of this.GB)f.mR();this.GB.length&&(c=this.b.Oa().od)&&c.xI()}}Cp(){return this.mc.length&&this.mc[0].Cp()}a3(){return this.ue&&this.ue instanceof e.Ju}C1(){return this.a3()||this.mc.some(c=>c.Cp())}YN(c){c=Math.floor(c);if(0>c||c>=this.mc.length)throw new RangeError("invalid condition index");
return this.mc[c]}Z2(c){let f=c.La();if(0===f)return!0;for(--f;0<=f;--f)if(this.mc[f].J()===c.J())return!1;return!0}RN(c){c=Math.floor(c);if(0>c||c>=this.hh.length)throw new RangeError("invalid action index");return this.hh[c]}naa(c){c=Math.floor(c);return 0<=c&&c<this.hh.length}bS(){return this.wi.filter(c=>c instanceof e.fz)}tQ(c){c.$g(this);let f=!1;const l=this.mc;for(let g=0,k=l.length;g<k;++g){const n=l[g];c.Gn(g);if(n.xC)throw Error("trigger cannot be used as sub-event to a loop");if(n.xa())f=
!0;else if(!this.fe)return!1}return this.fe?f:!0}d6(c,f){c.$g(this);this.mc[f].xa()&&(this.ej(c,0)&&this.$l(),c.Kn(!0))}*DN(c){c.$g(this);let f=!1;const l=this.mc;for(let g=0,k=l.length;g<k;++g){const n=l[g];c.Gn(g);if(n.xC)throw Error("trigger cannot be used as sub-event to a loop");if(n.Ue()?n.xa():yield*n.wb())f=!0;else if(!this.fe)return!1}return this.fe?f:!0}*FZ(c,f){c.$g(this);f=this.mc[f];if(f.Ue()?f.xa():yield*f.wb())(this.$y()?this.ej(c,0):yield*this.Rp(c,0))&&(this.az()?this.$l():yield*this.Nv()),
c.Kn(!0)}xa(c){c.$g(this);this.uC||c.ks(!1);this.fe?this.Sca(c):this.VA(c)}*wb(c){if(this.Ap()||this.b.zc())yield this;c.$g(this);this.uC||c.ks(!1);this.fe?yield*this.a$(c):yield*this.BH(c)}Sca(c){const f=this.mc;let l=0===f.length;for(let k=0,n=f.length;k<n;++k){var g=f[k];g.Cp()||(c.Gn(k),g=g.xa(),l=l||g)}c.Kn(l);l&&(this.ej(c,0)&&this.$l(),this.Hw&&c.ks(!0))}*a$(c){const f=this.mc;let l=0===f.length;for(let k=0,n=f.length;k<n;++k){var g=f[k];g.Cp()||(c.Gn(k),g=g.Ue()?g.xa():yield*g.wb(),l=l||g)}c.Kn(l);
l&&((this.$y()?this.ej(c,0):yield*this.Rp(c,0))&&(this.az()?this.$l():yield*this.Nv()),this.Hw&&c.ks(!0))}VA(c){const f=this.mc;for(let l=0,g=f.length;l<g;++l){const k=f[l];c.Gn(l);if(!k.xa()){c.Kn(!1);return}}c.Kn(!0);this.ej(c,0)&&this.$l();c.Hq&&this.Hw&&c.ks(!0)}*BH(c){const f=this.mc;for(let l=0,g=f.length;l<g;++l){const k=f[l];c.Gn(l);if(k.Ue()?!k.xa():!(yield*k.wb())){c.Kn(!1);return}}c.Kn(!0);(this.$y()?this.ej(c,0):yield*this.Rp(c,0))&&(this.az()?this.$l():yield*this.Nv());c.Hq&&this.Hw&&
c.ks(!0)}Mca(c,f){const l=this.hh;for(let g=f,k=l.length;g<k;++g)f=l[g],c.jA(g),f.xa();return!0}*O9(c,f){const l=this.hh;for(let g=f,k=l.length;g<k;++g)f=l[g],c.jA(g),f.Ue()?f.xa():yield*f.wb();return!0}Nca(c,f){const l=this.qa(),g=this.hh;for(let k=f,n=g.length;k<n;++k){f=g[k];c.jA(k);const q=f.xa();if(f.mN()&&!0===q)return!1;f.Vg()&&q instanceof Promise&&l.DE(q)}return!0}*P9(c,f){const l=this.qa(),g=this.hh;for(let k=f,n=g.length;k<n;++k){f=g[k];c.jA(k);let q;q=f.Ue()?f.xa():yield*f.wb();if(f.mN()&&
!0===q)return!1;f.Vg()&&q instanceof Promise&&l.DE(q)}return!0}Kca(c){this.ej(c,c.qg)&&this.$l()}*M9(c){if(yield*this.Rp(c,c.qg))yield*this.Nv()}$l(){if(this.wi.length){var c=this.Dj&&this.b.bG(),f=c?performance.now():0,l=this.de,g=l.Ua(this);this.EC?this.Xca(g):this.Wca(g);l.Pa();c&&(this.Jj.Fy+=performance.now()-f)}}Xca(c){const f=this.Dj,l=this.GC,g=this.qa(),k=this.wi;for(let n=0,q=k.length,t=q-1;n<q;++n){const p=k[n],v=p.Md(),u=!l||!f&&n<t;u&&g.bf(v);p.xa(c);u?g.Wb(v):g.Br(v)}}Wca(c){const f=
this.wi;for(let l=0,g=f.length;l<g;++l)f[l].xa(c)}*Nv(){if(this.wi.length){var c=this.de,f=c.Ua(this);this.EC?yield*this.d$(f):yield*this.c$(f);c.Pa()}}*d$(c){const f=this.Dj,l=this.GC,g=this.qa(),k=this.wi;for(let n=0,q=k.length,t=q-1;n<q;++n){const p=k[n],v=p.Md(),u=!l||!f&&n<t;u&&g.bf(v);yield*p.wb(c);u?g.Wb(v):g.Br(v)}}*c$(c){const f=this.wi;for(let l=0,g=f.length;l<g;++l)yield*f[l].wb(c)}Zg(c,f){this.b.Jl();f.sQ();const l=this.mc;if(!this.fe)for(let g=c.fm+1,k=l.length;g<k;++g)if(c=l[g],f.Gn(g),
!c.xa())return!1;this.ej(f,0)&&this.$l();return!0}*Ig(c,f){this.b.Jl();f.sQ();const l=this.mc;if(!this.fe)for(let g=c.fm+1,k=l.length;g<k;++g)if(c=l[g],f.Gn(g),c.Ue()?!c.xa():!(yield*c.wb()))return!1;(this.$y()?this.ej(f,0):yield*this.Rp(f,0))&&(this.az()?this.$l():yield*this.Nv());return!0}Ue(){return!this.Ap()&&!this.b.zc()&&this.Va.XW}$y(){return!this.b.zc()&&this.Va.aM}az(){return!this.b.zc()&&this.Va.bM}uH(c){if(this.Fa()){const f=this.kr;for(let l=0,g=f.length;l<g;++l)if(!f[l].tQ(c))return!1}return!0}*LR(c){if(this.Fa()){const f=
this.kr;for(let l=0,g=f.length;l<g;++l)if(!(yield*f[l].DN(c)))return!1}return!0}WR(c,f,l){0<f.length?l?(f=f.map(g=>g.ea(0)),c.Hd.Ua(),this.ue.yv(f)):this.ue.T_(f):l&&c.Hd.Ua()}a6(c,f){let l,g;const k=0<c.length;var n=this.b;const q=this.de,t=n.qa(),p=1<t.Sv();this.WR(t,f,p);k&&t.Xg(c);f=q.Ua(this);this.uH(f)&&(n.Jl(),f.$g(this),(n=this.ue.Vg())&&([g,l]=this.ue.gH()),this.VA(f),n&&this.ue.hv(g));q.Pa();p&&t.Hd.Pa();k&&t.Wb(c);t.Ov();return l}*CZ(c,f){let l,g;if(this.Ap()||this.b.zc())yield this;const k=
0<c.length;var n=this.b;const q=this.de,t=n.qa(),p=1<t.Sv();this.WR(t,f,p);k&&t.Xg(c);f=q.Ua(this);if(yield*this.LR(f))n.Jl(),f.$g(this),(n=this.ue.Vg())&&([g,l]=this.ue.gH()),yield*this.BH(f),n&&this.ue.hv(g);q.Pa();p&&t.Hd.Pa();k&&t.Wb(c);t.Ov();return l}b6(c){const f=this.Nd(),l=0<f.length,g=this.b,k=this.de,n=g.qa(),q=1<n.Sv();q&&n.Hd.Ua();this.ue.yv(c);l&&n.Xg(f);c=k.Ua(this);this.uH(c)&&(g.Jl(),c.$g(this),this.VA(c));k.Pa();q&&n.Hd.Pa();l&&n.Wb(f);n.Ov()}*DZ(c){if(this.Ap()||this.b.zc())yield this;
const f=this.Nd(),l=0<f.length,g=this.b,k=this.de,n=g.qa(),q=1<n.Sv();q&&n.Hd.Ua();this.ue.yv(c);l&&n.Xg(f);c=k.Ua(this);if(yield*this.LR(c))g.Jl(),c.$g(this),yield*this.BH(c);k.Pa();q&&n.Hd.Pa();l&&n.Wb(f);n.Ov()}FG(c,f,l,...g){let k,n;const q=0<c.length,t=this.b,p=this.de,v=t.qa(),u=1<v.Sv();u&&v.Hd.Ua();0<g.length&&this.ue.yv(g);q&&v.Xg(c);g=p.Ua(this);g.l2(f,l);p.v5(g);t.mA(!1);this.uH(g)&&(t.Jl(),g.$g(this),(f=this.ue.Vg())&&([n,k]=this.ue.gH()),this.VA(g),f&&this.ue.hv(n));t.mA(!0);p.Pa();p.l5();
u&&v.Hd.Pa();q&&v.Wb(c);v.Ov();return k||g.DJ}}}
{"use strict";const e=self.B,b=[];let a=!1;e.ez=class extends e.oa{constructor(d,c,f){super();const l=d.I(),g=d.qa();this.od=d;this.ya=g;this.b=d.I();this.Pc=c;this.Ma=l.Oh(f[1]);this.Us=f[2];this.od.$S(this,this.Us);this.Va=l.Cb?{td:f[3][0],pM:f[3][1]}:null}static Ya(d,c,f){return e.C(e.ez,d,c,f)}Xb(){const d=this.Ma,c=this.b.qa().lS(this);this.Ma=d.bind(null,this.b.Bj,c)}Fa(){return this.Pc}Nr(){return this.Pc}cG(){return this.Va&&this.Va.pM}Ap(){return this.cG()&&this.Va.td}Rz(){return!1}Md(){return b}Nd(){return this.Pc?
this.Pc.Nd():b}xa(d){d.$g(this);this.ya.DE(this.Yca())}async Yca(){try{await this.Ma()}catch(d){console.error(`Unhandled exception running script %c${this.od.Da()}, event ${this.Us}:`,"font-size: 1.2em; font-weight: bold;",d),self.Gg&&self.Gg.Jda(this),a||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),a=!0)}}*wb(d){d.$g(this);if(this.Ap()||this.b.zc())yield this;
this.xa(d)}Ue(){return!this.Ap()&&!this.b.zc()}static x1(){return a}static J6(){a=!0}}}
{"use strict";const e=self.B;e.Ju=class extends e.oa{constructor(b,a,d){super();this.od=b;this.b=b.I();this.Pc=a;const c=d[1];this.eC=c[0];this.Fm=c[1];this.ph=c[2].map(f=>e.fz.Ya(b,this,f));this.qd=c[3];this.RJ=[];this.Uw=c[4];this.Nfa=0;this.yw=-1;this.pw=new Map;this.pe=e.wl.Ya(b,a,d);this.pe.Uda(this)}static Ya(b,a,d){return e.C(e.Ju,b,a,d)}Xb(){for(const b of this.ph)b.Xb();this.pe.Xb(!1)}bS(){return this.ph}vca(b){this.RJ.push(b)}T_(b){const a=this.ph;for(let d=0,c=a.length;d<c;++d)a[d].ah(b[d].ea(0))}yv(b){const a=
this.ph;for(let d=0,c=a.length;d<c;++d)a[d].ah(b[d])}SY(){return this.ph.map(b=>b.eb())}Fa(){return this.Pc}Nr(){return this.Pc}lk(){return this.qd}Pu(){switch(this.Fm){case 0:return null;case 2:return"";default:return 0}}Xe(){return this.pe}Vg(){return this.Uw}gH(){const b=this.Nfa++;this.yw=b;let a;const d=new Promise(c=>a=c);this.pw.set(b,{resolve:a,DM:0});return[b,d]}hv(b){const a=this.pw.get(b);0===a.DM&&(a.resolve(),this.pw.delete(b));this.yw=-1}i5(){this.pw.get(this.yw).DM++;return this.yw}Z5(b){this.yw=
b;this.pw.get(b).DM--}}}
{"use strict";const e=self.B,b=[];e.fz=class extends e.oa{constructor(a,d,c){super();const f=a.qa();this.od=a;this.ya=f;this.b=a.I();this.Pc=d;this.Hd=f.Hd;this.Ja=c[1];this.Ca=c[2];this.rb=c[3];this.ji=!!c[4];this.Eb=!!c[5];this.wfa=d instanceof e.Ju;this.pb=c[6];this.ix=this.b.Pi(c[8]);this.bga=l=>this.ah(l);this.$fa=()=>this.eb();this.WU=!this.Pc||this.ji||this.Eb;this.Jd=this.rb;this.AK=-1;this.TO()&&(this.Jd=this.Jd?1:0);!this.jG()||this.ji||this.Eb||(this.AK=f.faa(this));f.sca(this)}static Ya(a,
d,c){return e.C(e.fz,a,d,c)}Xb(){if(this.jG()&&!this.ji&&!this.Eb&&!this.wfa){const a=this.ya.gF(this);a&&a.vca(this)}}Da(){return this.Ja}Pi(){return this.ix}Fa(){return this.Pc}Nr(){return this.Fa()}Wg(){return!this.Fa()}jG(){return!this.Wg()}vn(){return 0===this.Ca}Ui(){return 1===this.Ca}TO(){return 2===this.Ca}Rz(){return!1}Md(){return b}xa(){!this.jG()||this.ji||this.Eb||this.ah(this.rb)}Ue(){return!0}*wb(a){this.xa(a)}ah(a){this.vn()?"number"!==typeof a&&(a=parseFloat(a)):this.Ui()?"string"!==
typeof a&&(a=a.toString()):this.TO()&&(a=a?1:0);this.WU?this.Jd=a:this.Hd.Fr()[this.AK]=a}eb(){return this.WU?this.Jd:this.Hd.Fr()[this.AK]}V5(){this.Jd=this.rb}oS(){return{configurable:!1,enumerable:!0,get:this.$fa,set:this.bga}}}}
{"use strict";const e=self.B,b=[];e.KN=class extends e.oa{constructor(a,d,c){super();const f=a.qa();this.od=a;this.ya=f;this.b=a.I();this.Pc=d;this.Rw=null;this.pfa=c[1];this.Rb=!0}static Ya(a,d,c){return e.C(e.KN,a,d,c)}Xb(){this.Rw=this.ya.bO(this.pfa);this.od.T8(this);let a=this.Fa();for(;a;)a instanceof e.wl&&a.Dj&&a.K8(this),a=a.Fa();this.mR();this.b.Cb&&this.od.Jj.children.push(this.Rw.Jj)}Fa(){return this.Pc}Md(){return b}xa(){const a=!!this.Fa(),d=this.b.md;a&&this.ya.Xg(d);this.Rw.xa();a&&
this.ya.Wb(d)}*wb(){const a=!!this.Fa(),d=this.b.md;a&&this.ya.Xg(d);yield*this.Rw.wb();a&&this.ya.Wb(d)}Ue(){return!1}mR(){let a=this.Fa();for(;a;){if(a instanceof e.wl&&a.Dj&&!a.Sr()){this.Rb=!1;return}a=a.Fa()}this.Rb=!0}}}
{"use strict";const e=self.B;e.mp=class extends e.oa{constructor(k){super();this.dc=k;this.b=k.I()}Xb(){}static vZ(k,n){return e.C([l,c,f,g,b,a][n[0]],k,n)}};class b extends e.mp{constructor(k,n){super(k);this.Sd=this.b.Vu();this.Ma=this.b.Oh(n[1]);this.Ma!==e.g.Ea.ob.random&&this.Ma!==e.g.Ea.ob.zga||this.dc.cH()}N(){return this.Sd.Bk(this.Ma,this.Sd)}}class a extends e.mp{constructor(k,n){super(k);this.$s=null;this.eC=n[1];this.dc.cH()}Xb(){const k=this.b.qa();this.$s=k.wz(this.eC);this.eC=null;
const n=this.$s.Xe();this.gm=[...new Set([...this.dc.Xe().Nd(),...n.Nd()])];this.gm=k.DA(this.gm)}N(){const k=this.$s;if(k.lk())return e.wl.prototype.FG.bind(k.Xe(),this.gm,k.Fm,k.Pu());{const n=k.Pu();return()=>n}}}function d(k,n){if(k>=n)return k%n;0>k&&(k<=-n&&(k%=n),0>k&&(k+=n));return k}class c extends e.mp{constructor(k,n){super(k);this.K=this.b.Kf(n[1]);this.Ma=this.b.Oh(n[2]);this.Ex=!!n[3];this.de=this.b.qa().wd();this.dc.YH(this.K)}N(){return this.K.Pb().Bk(this.Ma,this.K.gk().ra)}qb(){const k=
this.K,n=k.aa().tF();var q=n.length;if(0===q)return this.Ex?"":0;q=d(this.dc.Nt,q);this.de.Jf().C6(k);return this.Ma.apply(n[q].ra,[])}}class f extends e.mp{constructor(k,n){super(k);this.K=this.b.Kf(n[1]);this.OW=n[3];this.Ex=!!n[2];this.dc.YH(this.K)}Xj(){const k=this.K.aa().tF();var n=k.length;if(0===n)return this.Ex?"":0;n=d(this.dc.Nt,n);return k[n].kS(this.OW)}Er(){var k=this.K,n=k.aa().tF(),q=n.length;if(0===q)return this.Ex?"":0;q=d(this.dc.Nt,q);n=n[q];k=n.J().uF(k.gi);return n.kS(this.OW+
k)}}class l extends e.mp{constructor(k,n){super(k);this.K=this.b.Kf(n[1]);this.$c=this.K.jz(n[2]);this.kj=this.K.Mu(n[2]);this.Ma=this.b.Oh(n[3]);this.Ex=!!n[4];this.de=this.b.qa().wd();this.dc.YH(this.K)}}class g extends e.mp{constructor(k,n){super(k);this.Qb=null;this.tJ=n[1]}Xb(){this.Qb=this.b.qa().sF(this.tJ)}}}
{"use strict";const e=self.B;e.$e=class extends e.oa{constructor(z,E,G){super();this.dc=z;this.Za=G;this.Ca=E;this.ea=null;this.Eb=this.Bf=!1}static Ya(z,E,G){const P=E[0];return e.C([a,d,q,f,g,c,k,a,f,f,t,p,q,u,d,n,l,v,w,y][P],z,P,G,E)}Xb(){}cH(){this.Bf=!0}YH(z){this.Bf||!z||z.Pb().ko||(this.Bf=!0)}La(){return this.Za}I(){return this.dc.I()}Xe(){return this.dc.Xe()}};function b(z){z=self.IY[z];if(!z)throw Error("invalid expression number");return z}class a extends e.$e{constructor(z,E,G,P){super(z,
E,G);this.Nt=0;z=P[1];this.vJ=z[0];this.Ct=[];this.WB=null;for(let D=1,H=z.length;D<H;++D)this.Ct.push(e.mp.vZ(this,z[D]));this.Ct.length?this.ea=this.A0:(this.ea=b(this.vJ),this.Eb=!0)}D(z){if(0>z||z>=this.Ct.length)throw new RangeError("invalid numbered node");return this.Ct[z]}Xb(){for(var z of this.Ct)z.Xb();z=b(this.vJ);this.WB=this.Ct.length?z(this):z}A0(z){this.Nt=z;return this.WB()}}class d extends a{constructor(z,E,G,P){super(z,E,G,P);this.ea=this.n1;14===E&&(this.Xe().k6(),this.dc instanceof
e.Ky&&this.Xe().Fv())}n1(z){this.Nt=z;z=this.WB();return"string"===typeof z?z:""}$$(){return b(this.vJ)()}}class c extends a{constructor(z,E,G,P){super(z,E,G,P);this.ea=this.ka;this.Eb=!1}ka(z){this.Nt=z;z=this.WB();return this.I().Oa().ka(z)}}class f extends e.$e{constructor(z,E,G,P){super(z,E,G);this.bfa=P[1];this.ea=this.r0;this.Eb=!0}r0(){return this.bfa}}class l extends e.$e{constructor(z,E,G,P){super(z,E,G);this.Sea=P[1];this.ea=this.p0;this.Eb=!0}p0(){return this.Sea}}class g extends e.$e{constructor(z,
E,G,P){super(z,E,G);this.K=this.I().Kf(P[1]);this.ea=this.J;z=this.Xe();z.AR(this.K);this.dc instanceof e.Ky?z.Fv():z.Fa()&&z.Fa().Fv();this.Eb=!0}J(){return this.K}}class k extends e.$e{constructor(z,E,G,P){super(z,E,G);this.Hj=this.I().cb.Ir(P[1]);this.ea=this.Ac;this.Eb=!0}Ac(){return this.Hj}}class n extends e.$e{constructor(z,E,G,P){super(z,E,G);this.Ho=this.I().Nb.Gz(P[1]);this.ea=this.Bc;this.Eb=!0}Bc(){return this.Ho}}class q extends e.$e{constructor(z,E,G,P){super(z,E,G);this.kfa=P[1];this.ea=
this.D0;this.Eb=!0}D0(){return this.kfa}}class t extends e.$e{constructor(z,E,G,P){super(z,E,G);this.dV=P[1];(z=this.dc.J())&&z.bb?(this.ea=this.B0,this.cH()):(this.ea=this.S0,this.Eb=!0)}S0(){return this.dV}B0(z){z=z||0;const E=this.dc.J();var G=E.aa();const P=G.ta();if(P.length)z=P[z%P.length].J();else if(G.B1())G=G.uc,z=G[z%G.length].J();else if(0<E.H.length)G=E.ta(),z=G[z%G.length].J();else return 0;return this.dV+z.uF(E.gi)}}class p extends e.$e{constructor(z,E,G,P){super(z,E,G);this.tJ=P[1];
this.Qb=null;this.ea=this.z0;this.Eb=!0}Xb(){this.Qb=this.I().qa().sF(this.tJ)}z0(){return this.Qb}}class v extends e.$e{constructor(z,E,G,P){super(z,E,G);this.JU=P[1];this.$s=null;this.ea=this.M0;this.Eb=!0}Xb(){this.$s=this.I().qa().wz(this.JU);this.JU=null}M0(){return this.$s}}class u extends e.$e{constructor(z,E,G,P){super(z,E,G);this.yL=[];this.PW=[];this.Eb=!0;for(let D=1,H=P.length;D<H;++D)z=e.$e.Ya(this.dc,P[D],0),this.yL.push(z),this.PW.push(0),z.Eb||(this.Eb=!1);this.ea=this.s1}Xb(){for(const z of this.yL)z.Xb()}s1(){const z=
this.yL,E=this.PW;for(let G=0,P=z.length;G<P;++G)E[G]=z[G].ea(0);return E}}class w extends e.$e{constructor(z,E,G,P){super(z,E,G);this.gfa=P[1];this.ea=this.jn;this.Eb=!0}jn(){return this.gfa}}class y extends e.$e{constructor(z,E,G,P){super(z,E,G);this.Yea=P[1];this.ea=this.o1;this.Eb=!0}o1(){return this.Yea}}}
{"use strict";const e=self.B;function b(c,f){for(let l=0,g=c.length;l<g;++l)f[l]=c[l].ea(0)}const a=[],d=function(){};e.tN=class extends e.oa{constructor(c,f,l){super();this.pe=c;this.b=c.I();this.Za=l;this.Ma=this.b.Oh(f[1]);this.jK=0<f[3];this.hV=2===f[3];this.xC=!!f[4];this.ii=!!f[5];this.ji=!!f[6];this.pb=f[7];this.iV=this.pe.fe;this.$c=this.K=null;this.kj=-1;this.Sd=null;this.wb=this.xa=d;this.Na=[];this.Fb=[];this.cm=!1;this.yi=this.Mb=null;this.Va=this.b.Cb?{td:f[8][0],ag:f[8][1]}:null;-1===
f[0]?this.Sd=this.b.Vu():(this.K=this.b.Kf(f[0]),f[2]&&(this.$c=this.K.jz(f[2]),this.kj=this.K.Mu(f[2])),this.pe.Fa()&&this.pe.Fa().Fv());if(10===f.length){c=f[9];for(let g of c)this.Na.push(e.$e.Ya(this,g,this.Na.length)),this.Fb.push(0)}0===this.Na.length&&(this.Fb=this.Na=a);this.pe.qa().qca(this)}static Ya(c,f,l){return e.C(e.tN,c,f,l)}Xb(){for(const c of this.Na)c.Xb(),c.Bf&&(this.cm=!0);this.hV?(this.xa=this.Oca,this.wb=this.U9):this.Sd?(this.sI(),this.wb=this.DH):this.K.Pb().ko?(this.rI(),
this.wb=this.CH):this.ji?(this.xa=this.Vca,this.wb=this.b$):(this.xa=this.mT,this.wb=this.V9)}sI(){this.gw(this.Sd,this.Sd,this.mI)}rI(){const c=this.K.Pb(),f=this.K.gk().ra;this.gw(c,f,this.lI)}gw(c,f,l){const g=this.Ma,k=this.ii,n=this.Na;if(0===n.length){const q=c.Bk(g,f);this.xa=k?function(){return e.xor(q(),k)}:q}else if(1===n.length){const q=n[0];if(!k&&q.Eb)this.xa=c.dS(g,f,q.ea(0));else{const t=c.Bk(g,f);this.xa=function(){return e.xor(t(q.ea(0)),k)}}}else if(2===n.length){const q=n[0],t=
n[1];if(!k&&q.Eb&&t.Eb)this.xa=c.eS(g,f,q.ea(0),t.ea(0));else{const p=c.Bk(g,f);this.xa=function(){return e.xor(p(q.ea(0),t.ea(0)),k)}}}else if(3===n.length){const q=n[0],t=n[1],p=n[2];if(!k&&q.Eb&&t.Eb&&p.Eb)this.xa=c.fS(g,f,q.ea(0),t.ea(0),p.ea(0));else{const v=c.Bk(g,f);this.xa=function(){return e.xor(v(q.ea(0),t.ea(0),p.ea(0)),k)}}}else this.xa=l}J(){return this.K}Mh(){return this.$c}Xe(){return this.pe}I(){return this.b}La(){return this.Za}ZN(){return this.La()}Cp(){return this.jK}Ue(){return!this.Va.td&&
!this.b.zc()&&!this.Va.ag}fk(){this.Mb||(this.Mb=new Map);return this.Mb}Xu(){this.yi||(this.yi=new Map);return this.yi}mI(){const c=this.Fb;b(this.Na,c);return e.xor(this.Ma.apply(this.Sd,c),this.ii)}*DH(){if(this.Va.td||this.b.zc())yield this;if(this.Va.ag){var c=this.Fb;b(this.Na,c);c=this.Ma.apply(this.Sd,c);e.un(c)&&(c=yield*c);return e.xor(c,this.ii)}return this.xa()}lI(){const c=this.Fb;b(this.Na,c);const f=this.K.gk().ra;return e.xor(this.Ma.apply(f,c),this.ii)}*CH(){if(this.Va.td||this.b.zc())yield this;
if(this.Va.ag){var c=this.Fb;b(this.Na,c);const f=this.K.gk().ra;c=this.Ma.apply(f,c);e.un(c)&&(c=yield*c);return e.xor(c,this.ii)}return this.xa()}Oca(){return!0}*U9(){if(this.Va.td||this.b.zc())yield this;return!0}Vca(){var c=this.Fb;b(this.Na,c);c=this.Ma.apply(this.$c||this.K,c);this.K.qc();return c}*b$(){if(this.Va.td||this.b.zc())yield this;if(this.Va.ag){var c=this.Fb;b(this.Na,c);c=this.Ma.apply(this.$c||this.K,c);e.un(c)&&(c=yield*c);this.K.qc();return c}return this.xa()}mT(){const c=this.Na,
f=this.Fb,l=this.K.aa();for(let g=0,k=c.length;g<k;++g){const n=c[g];n.Bf||(f[g]=n.ea(0))}return l.fc?this.Pca(l):this.Qca(l)}*V9(){if(this.Va.td||this.b.zc())yield this;return this.mT()}LH(c){const f=this.Na,l=this.Fb;for(let g=0,k=f.length;g<k;++g){const n=f[g];n.Bf&&(l[g]=n.ea(c))}}Pca(c){const f=this.K,l=f.bb,g=f.gi,k=this.kj,n=0<=k,q=f.ta(),t=this.cm,p=this.Fb,v=this.Ma,u=this.ii,w=this.iV&&!this.jK;c.Ry();for(let z=0,E=q.length;z<E;++z){const G=q[z];t&&this.LH(z);var y=void 0;n?(y=l?G.J().pp(g):
0,y=v.apply(G.yd[k+y].ra,p)):y=v.apply(G.ra,p);e.xor(y,u)?c.Xp(G):w&&c.Sn(G)}f.Iu(!0);c.Ee(!1);f.qc();return c.SF()}Qca(c){const f=this.K;var l=f.bb;const g=f.gi,k=f.lc(),n=this.kj,q=0<=n,t=this.cm,p=this.Fb,v=this.Ma,u=this.ii,w=this.iV&&!this.jK,y=c.H,z=c.uc,E=w&&!this.pe.Z2(this),G=E?z:y;let P=0,D=!1;for(let J=0,M=G.length;J<M;++J){const Q=G[J];t&&this.LH(J);var H=void 0;q?(H=l?Q.J().pp(g):0,H=v.apply(Q.yd[n+H].ra,p)):H=v.apply(Q.ra,p);e.xor(H,u)?(D=!0,E?(y.push(Q),k&&Q.nca()):(G[P]=Q,k&&Q.Wda(P),
++P)):E?(G[P]=Q,k&&Q.Vda(P),++P):w&&(z.push(Q),k&&Q.mca())}e.Ef(G,P);k&&f.sea(E,P);l=D;E&&!D&&(D=this.eca(y));f.Iu(l||w);return w?D:c.SF()}eca(c){var f=this.K;const l=f.bb;f=f.gi;const g=this.cm,k=this.kj,n=0<=k,q=this.Fb,t=this.Ma,p=this.ii;for(let u=0,w=c.length;u<w;++u){var v=c[u];g&&this.LH(u);if(n){const y=l?v.J().pp(f):0;v=t.apply(v.yd[k+y].ra,q)}else v=t.apply(v.ra,q);if(e.xor(v,p))return!0}return!1}pv(c,f){return this.Na[c].ea(f)}C0(){const c=this.Na;if(!c.length)throw Error("no parameters");
return c[0].$$()}ua(){if(!this.Mb||!this.Mb.size)return null;const c={};for(const [f,l]of this.Mb.entries()){let g=l;"collmemory"===f&&(g=[...l.entries()].map(k=>[k[0].ic,k[1].ic,k[2]]));c[f]=g}return{ex:c}}Aa(c){this.Mb&&(this.Mb.clear(),this.Mb=null);if(c){var f=this.b,l=c.ex;if(l){c=this.fk();c.clear();for(const [g,k]of Object.entries(l))l=k,"collmemory"===g&&(l=e.C(e.jv,k.map(n=>[f.Og(n[0]),f.Og(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(g,l)}}}}}
{"use strict";const e=self.B;function b(f,l){for(let g=0,k=f.length;g<k;++g)l[g]=f[g].ea(0)}const a=[],d=function(){},c=function*(){};e.Ky=class extends e.oa{constructor(f,l,g){super();this.pe=f;this.b=f=f.I();this.Za=g;this.pb=4<=l.length?l[3]:-1;this.fB=5<=l.length?l[4]:0;this.$c=this.K=this.Ma=null;this.kj=-1;this.Sd=null;this.zB="";this.gm=this.yB=null;this.wb=this.xa=d;this.Na=[];this.Fb=[];this.cm=!1;this.yi=this.Mb=null;const k=(g=-3===l[0])?l[2]:l[5];this.Va=f.Cb||g?{td:k[0],ag:k[1],index:k[2]}:
null;-1===l[0]?(this.Sd=f.Vu(),this.Ma=f.Oh(l[1])):-2===l[0]?this.zB=l[1]:g?(this.Ma=f.Oh(l[1]),this.xa=this.GG,this.wb=this.HZ,this.fB=1):(this.Ma=f.Oh(l[1]),this.K=f.Kf(l[0]),l[2]&&(this.$c=this.K.jz(l[2]),this.kj=this.K.Mu(l[2])));if(7===l.length){l=l[6];for(const n of l)this.Na.push(e.$e.Ya(this,n,this.Na.length)),this.Fb.push(0)}0===this.Na.length&&(this.Fb=this.Na=a);this.pe.qa().pca(this)}static Ya(f,l,g){return e.C(e.Ky,f,l,g)}Xb(){for(var f of this.Na)f.Xb(),f.Bf&&(this.cm=!0);if(this.Sd)this.sI(),
this.wb=this.DH;else if(this.zB)this.tda(),this.zB="";else if(this.xa===this.GG){f=this.Ma;const l=this.b.qa().lS(this.pe);this.Ma=f.bind(null,this.b.Bj,l)}else this.$c?this.Vg()?(this.xa=this.kT,this.wb=this.R9):(this.xa=this.jT,this.wb=this.Q9):this.K.Pb().ko?(this.rI(),this.wb=this.CH):this.Vg()?(this.xa=this.oT,this.wb=this.X9):this.Na.length?this.Na.every(l=>l.Bf)?(this.xa=this.nT,this.wb=this.W9):this.cm?(this.xa=this.qT,this.wb=this.Z9):this.Na.every(l=>l.Eb)?(b(this.Na,this.Fb),this.xa=this.kI,
this.wb=this.MR):(this.xa=this.pT,this.wb=this.Y9):(this.xa=this.kI,this.wb=this.MR)}sI(){this.gw(this.Sd,this.Sd,this.mI)}rI(){const f=this.K.Pb(),l=this.K.gk().ra;this.gw(f,l,this.lI)}tda(){const f=this.pe.qa(),l=f.wz(this.zB);l.lk()?(this.yB=l.Xe(),this.gm=[...new Set([...this.pe.Nd(),...this.yB.Nd()])],this.gm=f.DA(this.gm),this.xa=e.wl.prototype.a6.bind(this.yB,this.gm,this.Na),this.wb=this.S9):(this.xa=d,this.wb=c)}gw(f,l,g){const k=this.Ma,n=this.Na;if(0===n.length)this.xa=f.Bk(k,l);else if(1===
n.length){const q=n[0];if(q.Eb)this.xa=f.dS(k,l,q.ea(0));else{const t=f.Bk(k,l);this.xa=function(){return t(q.ea(0))}}}else if(2===n.length){const q=n[0],t=n[1];if(q.Eb&&t.Eb)this.xa=f.eS(k,l,q.ea(0),t.ea(0));else{const p=f.Bk(k,l);this.xa=function(){return p(q.ea(0),t.ea(0))}}}else if(3===n.length){const q=n[0],t=n[1],p=n[2];if(q.Eb&&t.Eb&&p.Eb)this.xa=f.fS(k,l,q.ea(0),t.ea(0),p.ea(0));else{const v=f.Bk(k,l);this.xa=function(){return v(q.ea(0),t.ea(0),p.ea(0))}}}else this.xa=g}Vg(){return 1===this.fB}mN(){return 2===
this.fB}J1(){return 0!==this.fB}J(){return this.K}Xe(){return this.pe}I(){return this.b}La(){return this.Za}ZN(){return this.Va.index}Ue(){return!this.Va.td&&!this.b.zc()&&!this.Va.ag}fk(){this.Mb||(this.Mb=new Map);return this.Mb}Xu(){this.yi||(this.yi=new Map);return this.yi}mI(){const f=this.Fb;b(this.Na,f);return this.Ma.apply(this.Sd,f)}*DH(){if(this.Va.td||this.b.zc())yield this;if(this.Va.ag){const f=this.Fb;b(this.Na,f);return yield*this.Ma.apply(this.Sd,f)}return this.xa()}*S9(){if(this.Va.td||
this.b.zc())yield this;return yield*this.yB.CZ(this.gm,this.Na)}lI(){const f=this.Fb;b(this.Na,f);return this.Ma.apply(this.K.gk().ra,f)}*CH(){if(this.Va.td||this.b.zc())yield this;if(this.Va.ag){const f=this.Fb;b(this.Na,f);return yield*this.Ma.apply(this.K.gk().ra,f)}return this.xa()}kI(){const f=this.Fb,l=this.K.aa().ta();for(let g=0,k=l.length;g<k;++g)this.Ma.apply(l[g].ra,f)}*MR(){if(this.Va.td||this.b.zc())yield this;if(this.Va.ag){const f=this.Fb,l=this.K.aa().ta();for(let g=0,k=l.length;g<
k;++g)yield*this.Ma.apply(l[g].ra,f)}else this.kI()}pT(){const f=this.Fb;b(this.Na,f);const l=this.K.aa().ta();for(let g=0,k=l.length;g<k;++g)this.Ma.apply(l[g].ra,f)}*Y9(){if(this.Va.td||this.b.zc())yield this;if(this.Va.ag){const f=this.Fb;b(this.Na,f);const l=this.K.aa().ta();for(let g=0,k=l.length;g<k;++g)yield*this.Ma.apply(l[g].ra,f)}else this.pT()}nT(){const f=this.Na,l=this.Fb,g=this.Ma,k=this.K.aa().ta();for(let n=0,q=k.length;n<q;++n){const t=k[n];for(let p=0,v=f.length;p<v;++p)l[p]=f[p].ea(n);
g.apply(t.ra,l)}}*W9(){if(this.Va.td||this.b.zc())yield this;if(this.Va.ag){const f=this.Na,l=this.Fb,g=this.Ma,k=this.K.aa().ta();for(let n=0,q=k.length;n<q;++n){const t=k[n];for(let p=0,v=f.length;p<v;++p)l[p]=f[p].ea(n);yield*g.apply(t.ra,l)}}else this.nT()}qT(){const f=this.Na,l=this.Fb,g=this.Ma,k=this.K.aa().ta();for(let q=0,t=f.length;q<t;++q){var n=f[q];n.Bf||(l[q]=n.ea(0))}for(let q=0,t=k.length;q<t;++q){n=k[q];for(let p=0,v=f.length;p<v;++p){const u=f[p];u.Bf&&(l[p]=u.ea(q))}g.apply(n.ra,
l)}}*Z9(){if(this.Va.td||this.b.zc())yield this;if(this.Va.ag){const l=this.Na,g=this.Fb,k=this.Ma,n=this.K.aa().ta();for(let q=0,t=l.length;q<t;++q){var f=l[q];f.Bf||(g[q]=f.ea(0))}for(let q=0,t=n.length;q<t;++q){f=n[q];for(let p=0,v=l.length;p<v;++p){const u=l[p];u.Bf&&(g[p]=u.ea(q))}yield*k.apply(f.ra,g)}}else this.qT()}jT(){var f=this.K;const l=f.bb,g=f.gi,k=this.Na,n=this.cm,q=this.Fb,t=this.Ma,p=this.kj;f=f.aa().ta();for(let w=0,y=k.length;w<y;++w){var v=k[w];v.Bf||(q[w]=v.ea(0))}for(let w=
0,y=f.length;w<y;++w){v=f[w];if(n)for(let z=0,E=k.length;z<E;++z){var u=k[z];u.Bf&&(q[z]=u.ea(w))}u=l?v.J().pp(g):0;t.apply(v.yd[p+u].ra,q)}}*Q9(){if(this.Va.td||this.b.zc())yield this;if(this.Va.ag){var f=this.K;const k=f.bb,n=f.gi,q=this.Na,t=this.cm,p=this.Fb,v=this.Ma,u=this.kj;f=f.aa().ta();for(let w=0,y=q.length;w<y;++w){var l=q[w];l.Bf||(p[w]=l.ea(0))}for(let w=0,y=f.length;w<y;++w){l=f[w];if(t)for(let z=0,E=q.length;z<E;++z){var g=q[z];g.Bf&&(p[z]=g.ea(w))}g=k?l.J().pp(n):0;yield*v.apply(l.yd[u+
g].ra,p)}}else this.jT()}oT(){const f=this.Na,l=this.Fb,g=this.Ma,k=this.K.aa().ta(),n=[];for(let q=0,t=k.length;q<t;++q){const p=k[q];for(let v=0,u=f.length;v<u;++v)l[v]=f[v].ea(q);n.push(g.apply(p.ra,l))}return Promise.all(n)}*X9(){if(this.Va.td||this.b.zc())yield this;if(this.Va.ag){const f=this.Na,l=this.Fb,g=this.Ma,k=this.K.aa().ta(),n=[];for(let q=0,t=k.length;q<t;++q){const p=k[q];for(let v=0,u=f.length;v<u;++v)l[v]=f[v].ea(q);n.push(yield*g.apply(p.ra,l))}return Promise.all(n)}return this.oT()}kT(){var f=
this.K;const l=f.bb,g=f.gi,k=this.Na,n=this.Fb,q=this.Ma,t=this.kj;f=f.aa().ta();const p=[];for(let v=0,u=f.length;v<u;++v){const w=f[v];for(let z=0,E=k.length;z<E;++z)n[z]=k[z].ea(v);const y=l?w.J().pp(g):0;p.push(q.apply(w.yd[t+y].ra,n))}return Promise.all(p)}*R9(){if(this.Va.td||this.b.zc())yield this;if(this.Va.ag){var f=this.K;const l=f.bb,g=f.gi,k=this.Na,n=this.Fb,q=this.Ma,t=this.kj;f=f.aa().ta();const p=[];for(let v=0,u=f.length;v<u;++v){const w=f[v];for(let z=0,E=k.length;z<E;++z)n[z]=k[z].ea(v);
const y=l?w.J().pp(g):0;p.push(yield*q.apply(w.yd[t+y].ra,n))}return Promise.all(p)}return this.kT()}async GG(){try{await this.Ma()}catch(f){console.error(`Unhandled exception running script %c${this.pe.od.Da()}, event ${this.pe.Us}, action ${this.ZN()+1}:`,"font-size: 1.2em; font-weight: bold;",f),self.Gg&&self.Gg.Jda(this),e.ez.x1()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline",
"","font-weight: bold"),e.ez.J6())}}*HZ(){if(this.Va.td||this.b.zc())yield this;return this.GG()}ua(){return this.Mb&&this.Mb.size?{ex:e.mH(this.Mb)}:null}Aa(f){this.Mb&&(this.Mb.clear(),this.Mb=null);f&&(f=f.ex)&&(this.Mb=e.hF(f))}}}
{"use strict";const e=self.B,b=new e.lb;function a(K,N){return e.compare(this.A().O(),K,N)}function d(K,N){return e.compare(this.A().P(),K,N)}function c(){const K=this.A(),N=K.ka();return N.Or()?K.Tr(N.Rv()):K.aP(N.Xf,K.Ac().LO(),K.Ac().Qf)}function f(){var K=this.A();const N=K.Ac();K=K.hd();return 0>K.ca||0>K.Z||K.X>N.L()||K.S>N.M()}function l(K,N,U){const ba=this.aa(),ia=ba.ta();if(!ia.length)return!1;let ja=ia[0];var la=ja.A();let va=ja,na=e.dX(la.O(),la.P(),N,U);for(let wa=1,xa=ia.length;wa<xa;++wa)if(ja=
ia[wa],la=ja.A(),la=e.dX(la.O(),la.P(),N,U),0===K&&la<na||1===K&&la>na)na=la,va=ja;ba.Cn(va);return!0}function g(K){const N=this.A();N.O()!==K&&(N.hf(K),N.ab())}function k(K){const N=this.A();N.P()!==K&&(N.jf(K),N.ab())}function n(K,N){const U=this.A();U.fF(K,N)||(U.$i(K,N),U.ab())}function q(K,N){if(K&&(K=K.h1(this.R))){var [U,ba]=K.ln(N);N=this.A();if(N.O()!==U||N.P()!==ba)N.$i(U,ba),N.ab()}}function t(K){if(0!==K){var N=this.A();N.cA(N.oF()*K,N.NF()*K);N.ab()}}function p(K,N){if(0!==N){var U=this.A();
K=e.Ia(K);U.cA(Math.cos(K)*N,Math.sin(K)*N);U.ab()}}function v(){return this.A().O()}function u(){return this.A().P()}function w(){return this.b.Al(this.R)}function y(K,N){return e.compare(this.A().L(),K,N)}function z(K,N){return e.compare(this.A().M(),K,N)}function E(K){const N=this.A();N.L()!==K&&(N.Zd(K),N.ab())}function G(K){const N=this.A();N.M()!==K&&(N.Be(K),N.ab())}function P(K,N){const U=this.A();if(U.L()!==K||U.M()!==N)U.rc(K,N),U.ab()}function D(){return this.A().L()}function H(){return this.A().M()}
function J(){return this.A().hd().X}function M(){return this.A().hd().S}function Q(){return this.A().hd().ca}function R(){return this.A().hd().Z}function V(K,N){return e.$t(this.A().na(),e.Ia(N))<=e.Ia(K)}function Z(K){return e.$f(this.A().na(),e.Ia(K))}function ca(K,N){K=e.Ia(K);N=e.Ia(N);const U=this.A().na();return e.$f(N,K)?e.$f(U,K)&&!e.$f(U,N):!(!e.$f(U,K)&&e.$f(U,N))}function Y(K){const N=this.A();K=e.Vd(e.Ia(K));isNaN(K)||N.na()===K||(N.Wc(K),N.ab())}function ha(K){if(!isNaN(K)&&0!==K){var N=
this.A();N.Wc(N.na()+e.Ia(K));N.ab()}}function ka(K){if(!isNaN(K)&&0!==K){var N=this.A();N.Wc(N.na()-e.Ia(K));N.ab()}}function za(K,N){const U=this.A(),ba=U.na();K=e.ZL(ba,e.Ia(N),e.Ia(K));isNaN(K)||ba===K||(U.Wc(K),U.ab())}function Oa(K,N,U){const ba=this.A(),ia=ba.na();N-=ba.O();U-=ba.P();K=e.ZL(ia,Math.atan2(U,N),e.Ia(K));isNaN(K)||ia===K||(ba.Wc(K),ba.ab())}function ab(K,N){const U=this.A(),ba=U.na();K-=U.O();N-=U.P();N=Math.atan2(N,K);isNaN(N)||ba===N||(U.Wc(N),U.ab())}function Ua(){return e.le(this.A().na())}
function bb(K,N){return e.compare(e.FX(100*this.A().Ld()),K,N)}function mb(){return this.A().jd()}function Va(K){const N=this.A();K=2===K?!N.jd():0!==K;N.jd()!==K&&(N.Od(K),this.b.U())}function Pa(K){K=e.fa(K/100,0,1);const N=this.A();N.Ld()!==K&&(N.df(K),this.b.U())}function fb(K){b.Dy(K);K=this.A();K.Bb.Xo(b)||(K.ZQ(b),this.b.U())}function cb(){const K=this.A().Bb;return e.fA(K.fb,K.ib,K.hb,K.$a)}function ub(){return e.FX(100*this.A().Ld())}function vb(K){return K?this.A().ka()===K:!1}function wb(K){const N=
this.aa(),U=N.ta();if(!U.length)return!1;let ba=U[0];for(let ia=1,ja=U.length;ia<ja;++ia){const la=U[ia],va=la.A(),na=ba.A(),wa=va.ka().La(),xa=na.ka().La();if(0===K){if(wa>xa||wa===xa&&va.jk()>na.jk())ba=la}else if(wa<xa||wa===xa&&va.jk()<na.jk())ba=la}N.Cn(ba);return!0}function gb(K,N,U){const ba=this.A();K=0===K?ba.Sa():ba.lg();return e.compare(K,N,U)}function xb(){this.A().G8()}function yb(){this.A().E8()}function zb(K){K&&this.A().F8(K)}function Ab(K,N){K=0===K;N&&(N=N.Dl(this.Ga()))&&this.A().D8(N,
K)}function Bb(K){const N=this.A();N.Sa()!==K&&(N.Ce(K),this.b.U())}function Cb(){return this.A().ka().La()}function Db(){return this.A().ka().Da()}function hb(){return this.A().jk()}function Eb(){return this.A().Sa()}function Fb(){return this.A().lg()}function Gb(K,N){if(N=this.J().Wa.Bl(N)){N=N.La();K=1===K;var U=this.A().Ie;U.cv(N)!==K&&(U.HQ(N,K),U.On(),this.b.U())}}function Hb(K,N,U){var ba=this.J().Wa.Bl(K);if(ba){K=ba.La();var ia=this.A().Ie,ja=ia.Mg(K);N=Math.floor(N);if(!(0>N||N>=ja.length)){ba=
ba.sb.Az(N);if("color"===ba){b.Dy(U);N=ja[N];if(b.Xo(N))return;N.Wm(b)}else{"percent"===ba&&(U/=100);if(ja[N]===U)return;ja[N]=U}ia.cv(K)&&this.b.U()}}}const ib=e.C(e.Rect),Sa=[],jb=[];let kb=!1,Wa=null,lb=!1;const Ma=new Set;function nb(K,N,U,ba){N.ic<U.ic?K.Set(N,U,ba):K.Set(U,N,ba)}function qa(K,N,U){N.ic<U.ic?K.kp(N,U):K.kp(U,N)}function Ka(K,N,U){return N.ic<U.ic?K.ea(N,U):K.ea(U,N)}function Ib(K,N,U,ba){if(!N)return!1;K=K.Ga();const ia=0!==U||0!==ba,ja=K.A(),la=K.I(),va=la.jh;var na=la.Hf();
const wa=na.Xe().fe;var xa=na.J();na=na.ii;const Ha=N.aa();xa=xa!==N;Wa=N;kb=xa&&!na;lb=!1;let La=0,Ca=0,ma=!1;Ha.fc?(ib.za(ja.hd()),ib.offset(U,ba),va.nF(ja.ka(),N,ib,jb),N=jb):wa?la.X2()&&!Ha.uc.length&&Ha.H.length?N=Ha.H:(N=Ha.uc,lb=!0):N=Ha.H;ia&&(La=ja.O(),Ca=ja.P(),ja.cA(U,ba),ja.ab());for(const ea of N)if(va.kH(K,ea)){ma=!0;if(na)break;xa&&Ma.add(ea)}ia&&(ja.$i(La,Ca),ja.ab());e.G(jb);return ma}function Ob(K,N){if(kb){if(N){{K=K.I().Ob().fe;N=Wa.aa();const U=N.H,ba=N.uc;N.fc?(N.Ev(Ma),K&&(e.G(ba),
N.aN(Ma,Wa.ta()))):K?lb?N.b8(Ma):(N.aN(Ma,U),N.Ev(Ma)):N.Ev(Ma);Wa.qc()}}Ma.clear();Wa=null;kb=!1}}function Pb(K){if(this.b.Ke)return Qb.call(this,K);if(!K)return!1;var N=this.b;const U=N.jh,ba=N.qa(),ia=ba.wd();var ja=ba.Hf();const la=ja.J();var va=ja.fk(),na=ja.Xu();ja=ia.Jf();const wa=N.al,xa=wa-1,Ha=ja.Ob(),La=ia.Ua(Ha);let Ca=va.get("collmemory");Ca||(Ca=e.C(e.jv),va.set("collmemory",Ca));na.get("collisionCreatedDestroyCallback")||(na.set("collisionCreatedDestroyCallback",!0),N.Ib().addEventListener("instancedestroy",
Na=>{Ca.FN(Na.instance)}));N=K.aa();va=la.aa().ta();na=null;for(let Na=0;Na<va.length;++Na){const Ba=va[Na];N.fc?(U.nF(Ba.A().ka(),K,Ba.A().hd(),Sa),na=Sa,U.cN(Ba,K,na)):na=N.ta();for(let eb=0;eb<na.length;++eb){const Ja=na[eb];if(U.kH(Ba,Ja)||U.qN(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<xa;nb(Ca,Ba,Ja,wa);ma&&(ma=Ha.Md(),ba.bf(ma),oa=la.aa(),ea=K.aa(),oa.Ee(!1),ea.Ee(!1),la===K?(ea=oa.H,e.G(ea),ea.push(Ba),ea.push(Ja),la.qc()):(oa=oa.H,ea=ea.H,e.G(oa),
e.G(ea),oa.push(Ba),ea.push(Ja),la.qc(),K.qc()),Ha.Zg(ja,La),ba.Wb(ma))}else qa(Ca,Ba,Ja)}e.G(Sa)}ia.Pa();return!1}function*Qb(K){if(!K)return!1;var N=this.b;const U=N.jh,ba=N.qa(),ia=ba.wd(),ja=ia.Jf(),la=N.al,va=la-1,na=ja.Ob(),wa=ia.Ua(na);var xa=ba.Hf();const Ha=xa.J();var La=xa.fk();xa=xa.Xu();let Ca=La.get("collmemory");Ca||(Ca=e.C(e.jv),La.set("collmemory",Ca));xa.get("collisionCreatedDestroyCallback")||(xa.set("collisionCreatedDestroyCallback",!0),N.Ib().addEventListener("instancedestroy",
Na=>{Ca.FN(Na.instance)}));N=K.aa();La=Ha.aa().ta();xa=null;for(let Na=0;Na<La.length;++Na){const Ba=La[Na];N.fc?(U.nF(Ba.A().ka(),K,Ba.A().hd(),Sa),xa=Sa,U.cN(Ba,K,xa)):xa=N.ta();for(let eb=0;eb<xa.length;++eb){const Ja=xa[eb];if(U.kH(Ba,Ja)||U.qN(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<va;nb(Ca,Ba,Ja,la);ma&&(ma=na.Md(),ba.bf(ma),oa=Ha.aa(),ea=K.aa(),oa.Ee(!1),ea.Ee(!1),Ha===K?(ea=oa.H,e.G(ea),ea.push(Ba),ea.push(Ja),Ha.qc()):(oa=oa.H,ea=ea.H,e.G(oa),
e.G(ea),oa.push(Ba),ea.push(Ja),Ha.qc(),K.qc()),yield*na.Ig(ja,wa),ba.Wb(ma))}else qa(Ca,Ba,Ja)}e.G(Sa)}ia.Pa();return!1}function Rb(K){return Ib(this,K,0,0)}function Sb(K,N,U){return Ib(this,K,N,U)}function ob(){return this.A().kk()}function pb(){return this.A().Lf()}function qb(K,N){const U=this.aa().ta();if(0===U.length)return!1;const ba=K.aa();var ia=ba.ta();if(0===ia.length)return!1;ia=new Set(ia);const ja=new Set;for(let va=0,na=U.length;va<na;++va){var la=U[va];if(1===N)for(const wa of la.xy())wa.Ar(K)&&
ia.has(wa)&&ja.add(wa);else{if(0===N){if(la=la.Fa(),null===la)continue}else la=la.Hz();la.Ar(K)&&ia.has(la)&&ja.add(la)}}if(0===ja.size)return!1;ba.Ev(ja);K.qc();return!0}function rb(K,N){const U=this.aa().ta();if(0===U.length)return!1;const ba=K.aa();var ia=ba.ta();if(ba.fc){var ja=[...this.b.nM(K)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=new Set;for(let la=0,va=U.length;la<va;++la){const na=U[la];2===N&&!na.Lf()&&na.Ar(K)&&ia.has(na)&&ja.add(na);for(const wa of 0===
N?na.children():na.kl())2===N&&wa.Lf()||wa.Ar(K)&&ia.has(wa)&&ja.add(wa)}if(0===ja.size)return!1;ba.Ev(ja);K.qc();return!0}function db(K,N){const U=this.aa().ta();if(0===U.length)return!1;const ba=K.aa();var ia=ba.ta();if(ba.fc){var ja=[...this.b.nM(K)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=[];for(let la=0,va=U.length;la<va;++la){const na=U[la].mF(N);null!==na&&na.Ar(K)&&ia.has(na)&&ja.push(na)}if(0===ja.length)return!1;ba.uv(ja);K.qc();return!0}function h(K,
N){return e.compare(this.R.nz(),K,N)}function m(K,N,U,ba,ia,ja,la,va){const na=this.R,wa=this.b.Nu().J();for(const xa of K.UW(na,wa)){if(!xa.Pb().EW)break;na.fn(xa,{su:N,tu:U,xr:ba,wr:ia,ru:ja,uu:la,ky:va})}}function r(K){const N=this.R,U=this.b.Nu().J();for(const ba of K.UW(N,U))N.rk(ba)}function x(){this.R.kk()&&this.R.Fa().rk(this.R)}function A(){return this.R.nz()}function C(K,N){K=Math.floor(K);N=Math.floor(N);const U=this.A();2>K||2>N||!isFinite(K)||!isFinite(N)?(U.iA(),U.ab()):U.XE(K,N)}function F(K,
N,U,ba,ia,ja,la,va){const na=this.A();na.OQ(K,N,{mode:0===U?"absolute":"relative",x:ba,y:ia,Jy:ja,RX:la,SX:va})&&na.ab()}function I(){const K=this.A();return K.Sg()?K.hk().Pk:0}function L(){const K=this.A();return K.Sg()?K.hk().el:0}function O(K){const N=this.A();K=2===K?!N.jd():0!==K;N.jd()!==K&&N.Od(K)}function S(K,N){this.A6(K,N)}function T(K,N){this.z6(K,""+N)}function X(K){this.E5(K)}function W(){this.QN()}function fa(){this.hN()}function da(){return this.qJ}function aa(K){this.Tn(0!==K)}function ua(){return this.qd}
function pa(K,N,U){return e.compare(this.Ga().Ye(K),N,U)}function sa(K){return!!this.Ga().Ye(K)}function ta(K,N){const U=this.aa(),ba=U.ta();if(!ba.length)return!1;let ia=ba[0],ja=ia,la=ia.Ye(N);for(let va=1,na=ba.length;va<na;++va){ia=ba[va];const wa=ia.Ye(N);if(0===K&&wa<la||1===K&&wa>la)la=wa,ja=ia}U.Cn(ja);return!0}function ra(K){if(this.b.Hf().ii){{const ba=this.aa();if(ba.fc){ba.Ee(!1);ba.Ry();var N=this.ta();for(let ia=0,ja=N.length;ia<ja;++ia){var U=N[ia];U.ic===K?ba.Sn(U):ba.Xp(U)}this.qc();
K=!!ba.H.length}else{N=ba.H;U=0;for(let ia=0,ja=N.length;ia<ja;++ia){const la=N[ia];N[U]=la;la.ic===K?ba.Sn(la):++U}e.Ef(N,U);this.qc();K=!!N.length}}}else K=Da(this,K);return K}function Da(K,N){N=K.I().Og(N);if(!N)return!1;const U=K.aa();if(!U.fc&&!U.H.includes(N))return!1;if(K.bb){if(N.J().ME(K))return U.Cn(N),K.qc(),!0}else if(N.J()===K)return U.Cn(N),K.qc(),!0;return!1}function Ea(){this.b.sl(this.R)}function Fa(){return!0}function Ga(){return!0}function Ia(K,N){this.Ga().Jn(K,N)}function Qa(K,
N){const U=this.Ga(),ba=U.Ye(K);"number"===typeof ba&&"number"!==typeof N?N=parseFloat(N):"string"===typeof ba&&"string"!==typeof N&&(N=N.toString());U.Jn(K,ba+N)}function Ra(K,N){const U=this.Ga(),ba=U.Ye(K);"number"===typeof ba&&("number"!==typeof N&&(N=parseFloat(N)),U.Jn(K,ba-N))}function Aa(K,N){this.Ga().Jn(K,N?1:0)}function Jb(K){const N=this.Ga();N.Jn(K,0===N.Ye(K)?1:0)}function Kb(K){let N;try{N=JSON.parse(K)}catch(U){console.error("Failed to load from JSON string: ",U);return}K=this.Ga();
K.QA("state");K.Dc(N,"state")}function pc(){return JSON.stringify(this.Ga().Kc("state"))}function qc(){return this.Ga().J().Da()}function rc(){const K=this.b.If().wJ;let N=K.H.length;for(const U of this.b.nM(K))++N;return N}function sc(){return this.b.If().wJ.aa().ta().length}function tc(){return this.R.qp()}function uc(){return this.R.ic}e.bY=function(K,N){const U=K[1],ba=K[4],ia=K[5],ja=K[6],la=K[7],va=K[8],na=K[10],wa=K[11],xa=K[12],Ha=K[13],La=K[14],Ca=K[15],ma=N.F,ea=N.ja,oa=N.ob;K[3]&&(ma.SE=
a,ma.jZ=d,ma.Koa=c,ma.Moa=f,ma.Aqa=l,ea.hf=g,ea.jf=k,ea.UG=n,ea.UQ=q,ea.Gpa=t,ea.Fpa=p,oa.yA=v,oa.zA=u,oa.fX=w);ba&&(ma.ula=y,ma.hla=z,ea.Zd=E,ea.Be=G,ea.rc=P,oa.qH=D,oa.MO=H,oa.Eja=J,oa.Gja=M,oa.Fja=Q,oa.Dja=R);ia&&(ma.tY=V,ma.U2=Z,ma.R2=ca,ea.Wc=Y,ea.Hsa=ha,ea.Isa=ka,ea.Jsa=za,ea.Ksa=Oa,ea.pua=ab,oa.rja=Ua);ja&&(ma.jd=mb,ma.lla=bb,ea.Od=Va,ea.df=Pa,ea.nta=fb,oa.Opacity=ub,oa.cla=cb);la&&(ma.Ioa=vb,ma.Iqa=wb,ma.vla=gb,ea.Ipa=xb,ea.tP=yb,ea.Hpa=zb,ea.swa=Ab,ea.Ce=Bb,oa.hpa=Cb,oa.gpa=Db,oa.rwa=hb,
oa.qwa=Eb,oa.ova=Fb);va&&(ea.pta=Gb,ea.qta=Hb);Ha&&(ma.kk=ob,ma.Lf=pb,ma.Gqa=qb,ma.zqa=rb,ma.Eqa=db,ma.gla=h,ea.fn=m,ea.rk=r,ea.Ira=x,oa.Qka=A);La&&(ea.dua=C,ea.OQ=F,oa.Bpa=I,oa.Cpa=L);na&&(ma.jd=mb,ea.Od=O,ea.ita=S,ea.sta=T,ea.Hra=X);wa&&(ma.woa=da,ea.xta=W,ea.gta=fa);xa&&(ma.lk=ua,ea.OG=aa);Ca&&(ma.l4=Pb,ma.f3=Rb,ma.Noa=Sb,N.c0=Ob);U||(ma.Vy=pa,ma.S2=sa,ma.Bqa=ta,ma.yqa=ra,ea.QG=Ia,ea.gY=Qa,ea.U7=Ra,ea.q6=Aa,ea.kva=Jb,ma.IP=Fa,ma.JP=Ga,ea.$E=Ea,ea.nG||(ea.nG=Kb),oa.AY||(oa.AY=pc),oa.Bla=rc,oa.Jqa=
sc,oa.Pna=tc,oa.Dva=uc,oa.Upa=qc)}}
{"use strict";const e=self.B;e.HG=class extends e.oa{constructor(b){super();this.ya=b;this.Ca="";this.fd=-1;this.Lx="";this.DC=!1;this.vj=null;this.qg=0;this.wf=[];this.br=new Map;this.em=null;this.ow=-1;this.CJ=this.ph=null;this.Kx=!1}j(){this.Ca="";this.fd=-1;this.Lx="";this.CJ=this.ph=this.em=this.vj=null;this.ow=-1;e.G(this.wf);for(const b of this.br.values())b.j();this.br.clear()}dj(){var b=this.ya,a=b.I().md;const d=b.If();this.vj=d.Ob();this.qg=d.qg+1;if(b=b.gF(this.vj))this.em=b,this.ph=b.SY(),
this.CJ=b.RJ.map(c=>c.eb()),b.Vg()&&(this.ow=b.i5());for(const c of a)if(a=c.aa(),!a.fc||this.vj.L1(c))this.wf.push(c),this.br.set(c,e.C(e.cR,a))}K2(b){this.Ca="timer";this.dj();this.fd=this.ya.I().Ng()+b}I2(b){this.Ca="signal";this.dj();this.Lx=b.toLowerCase()}x2(b){this.Ca="promise";this.dj();b.then(()=>this.WG()).catch(a=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",a);this.WG()})}n3(){return"timer"===this.Ca}l3(){return"signal"===this.Ca}h3(){return"promise"===
this.Ca}WG(){this.DC=!0}JT(){return this.n3()?this.fd<=this.ya.I().Ng():this.DC}iT(b){b.jI(this.vj,this.qg);for(const [a,d]of this.br.entries())d.jI(a.aa());if(b=this.em)b.yv(this.ph),b.RJ.map((a,d)=>a.ah(this.CJ[d])),b.Vg()&&b.Z5(this.ow)}Lca(b){this.iT(b);this.vj.Kca(b);this.em&&this.em.Vg()&&this.em.hv(this.ow);this.ya.Br(this.wf);this.Kx=!0}async N9(b){this.iT(b);for(const a of this.vj.M9(b))await this.ya.I().Cr(a);this.em&&this.em.Vg()&&this.em.hv(this.ow);this.ya.Br(this.wf);this.Kx=!0}Gp(b){for(const a of this.br.values())a.Gp(b)}ua(){const b=
{},a={t:this.fd,st:this.Lx,s:this.DC,ev:this.vj.pb,sm:this.wf.map(d=>d.pb),sols:b};this.vj.naa(this.qg)&&(a.act=this.vj.RN(this.qg).pb);for(const [d,c]of this.br)b[d.pb.toString()]=c.ua();return a}static s9(b,a){const d=b.I();var c=b.x0(a.ev);if(!c)return null;let f=0;if(a.hasOwnProperty("act")){var l=b.i0(a.act);if(!l)return null;f=l.La()}l=e.C(e.HG,b);l.fd=a.t;l.Ca=-1===l.fd?"signal":"timer";l.Lx=a.st;l.DC=a.s;l.vj=c;l.qg=f;for(var g of a.sm)(c=d.zz(g))&&l.wf.push(c);for(const [k,n]of Object.entries(a.sols))if(a=
d.zz(parseInt(k,10)))g=e.C(e.cR,null),g.Aa(b,n),l.br.set(a,g);return l}}}{"use strict";const e=self.B;e.cR=class extends e.oa{constructor(b){super();this.K=null;this.CC=!0;this.H=[];b&&(this.K=b.J(),this.CC=b.fc,e.Cd(this.H,b.H))}j(){this.K=null;e.G(this.H)}jI(b){b.Ee(this.CC);e.Cd(b.H,this.H)}Gp(b){e.Gh(this.H,b)}ua(){return{sa:this.CC,insts:this.H.map(b=>b.ic)}}Aa(b,a){b=b.I();this.CC=!!a.sa;e.G(this.H);for(const d of a.insts)(a=b.Og(d))&&this.H.push(a)}}}
{"use strict";const e=self.B;function b(a,d){let c=a.get(d);c||(c=new Map,a.set(d,c));return c}e.Th=class extends e.oa{constructor(a){super();this.b=a.Sc;this.ko=!!a.nX;this.Rf=!!a.pha;this.Bfa=!!a.oha;this.Lfa=!!a.Iha;this.mfa=!!a.dha;this.EW=!!a.iia;this.ega=!!a.hia;this.tW=null;this.hU=new Map;this.Tea=new Map;this.Uea=new Map;this.Vea=new Map}j(){this.b=null}I(){return this.b}Zb(){}Wr(){return this.Bfa}Bn(){return this.Lfa}TF(){return this.mfa}Bk(a,d){if(!d)throw Error("missing 'this' binding");
let c=this.hU.get(a);if(c)return c;c=a.bind(d);this.hU.set(a,c);return c}dS(a,d,c){if(!d)throw Error("missing 'this' binding");const f=b(this.Tea,a);let l=f.get(c);if(l)return l;l=a.bind(d,c);f.set(c,l);return l}eS(a,d,c,f){if(!d)throw Error("missing 'this' binding");var l=b(this.Uea,a);l=b(l,c);let g=l.get(f);if(g)return g;g=a.bind(d,c,f);l.set(f,g);return g}fS(a,d,c,f,l){if(!d)throw Error("missing 'this' binding");var g=b(this.Vea,a);g=b(g,c);g=b(g,f);let k=g.get(l);if(k)return k;k=a.bind(d,c,f,
l);g.set(l,k);return k}Xda(a){if(!this.ko)throw Error("must be single-global plugin");this.tW=a}gk(){if(!this.ko)throw Error("must be single-global plugin");return this.tW.gk()}}}
{"use strict";const e=self.B;e.Nsa=class extends e.Th{constructor(b,a){super(b);this.eo=a;this.Pfa=0;this.SJ=new Map;this.$M("elem-focused",d=>d.Fba());this.$M("elem-blurred",d=>{d&&d.Eba()})}j(){super.j()}M8(b){const a=this.Pfa++;this.SJ.set(a,b);return a}Bca(b){this.SJ.delete(b)}$M(b,a){this.b.Gi(this.eo,b,d=>{const c=this.SJ.get(d.elementId);a(c,d)})}}}{"use strict";const e=self.B;e.uk=class extends e.oa{constructor(b){super();this.K=b;this.b=b.I();this.ni=b.Pb()}j(){this.ni=this.b=this.K=null}J(){return this.K}I(){return this.b}Pb(){return this.ni}Jc(){return this.K.Jc()}Iu(){}An(){}qk(){}dA(){}tG(){}Rg(){return null}}}
{"use strict";const e=self.B;e.Fn=class extends e.oa{constructor(b,a){super();this.R=b;this.eo=a;this.b=b.I();this.K=this.R.J();this.Qa=this.K.Qa;this.Jm=this.Km=null;this.tm=this.rm=!1;this.ae=null;this.Rm=!1}j(){this.Rm=!0;this.aq();this.bB();this.Jm=this.Km=null;this.ae&&(this.ae.j(),this.ae=null);this.Qa=this.K=this.b=this.R=null}Qp(){return this.Rm}Ga(){return this.R}I(){return this.b}J(){return this.K}Pb(){return this.Qa.Pb()}Ez(){return this.R.Nh()}ia(b){return this.b.ia(b,this.R,null)}Bu(b){return this.b.Bu(b,
this.R,null)}mb(b){return this.b.mb(b,this.R,null)}vk(b){return this.b.vk(b)}EE(b,a){this.b.Gi(this.eo,b,a)}FE(b){for(const [a,d]of b)this.EE(a,d)}Ta(b,a){this.b.Ol(this.eo,b,a)}pk(b,a){return this.b.Ep(this.eo,b,a)}Ck(b,a){this.b.Le?this.Ta(b,a):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.eo,handler:b,data:a,responseId:null})}Gd(){}Iv(){}Of(){this.rm||(this.Km||(this.Km=()=>this.Gd()),this.b.Ib().addEventListener("tick",this.Km),this.rm=!0)}aq(){this.rm&&(this.b.Ib().removeEventListener("tick",
this.Km),this.rm=!1)}MT(){this.tm||(this.Jm||(this.Jm=()=>this.Iv()),this.b.Ib().addEventListener("tick2",this.Jm),this.tm=!0)}bB(){this.tm&&(this.b.Ib().removeEventListener("tick2",this.Jm),this.tm=!1)}Kc(){return null}Dc(){}kc(){}ef(){}qG(b,a){if(0!==a){var d=this.kc(b);if("number"!==typeof d)throw Error("expected number");this.ef(b,d+a)}}Rg(){return null}}}
{"use strict";const e=self.B;e.tv=class extends e.Fn{constructor(b,a){super(b,a);this.ub=b.A();this.$D=this.Zt=null}j(){if(this.Zt){const b=this.b.Ib();b.removeEventListener("webglcontextlost",this.Zt);b.removeEventListener("webglcontextrestored",this.$D);this.$D=this.Zt=null}this.ub=null;super.j()}y1(){if(!this.Zt){this.Zt=()=>this.$r();this.$D=()=>this.$P();var b=this.b.Ib();b.addEventListener("webglcontextlost",this.Zt);b.addEventListener("webglcontextrestored",this.$D)}}$r(){}$P(){}A(){return this.ub}wn(){return!1}ck(){if(!this.wn())throw Error("original size not known");
const b=this.Kd();if(b)return b.L()}bk(){if(!this.wn())throw Error("original size not known");const b=this.Kd();if(b)return b.M()}Kd(){return null}oz(){var b=this.Kd();return b&&(b=b.Ub())?[b.L(),b.M()]:[100,100]}pz(){const b=this.Kd();return b?b.Ph():null}ln(){const b=this.R.A();return[b.O(),b.P()]}ds(){return!0}}}
{"use strict";const e=self.B,b=e.C(e.Rect);e.Msa=class extends e.tv{constructor(a,d){super(a,d);this.SB=this.Pb().M8(this);this.gV=!0;this.Pea=this.qJ=!1;this.ot=e.C(e.Rect,0,0,-1,-1);a=this.b.Y;this.yV=a.il;this.xV=a.hl;this.Of()}j(){this.Pb().Bca(this.SB);this.bs("destroy");this.SB=-1;super.j()}bs(a,d){d||(d={});d.elementId=this.SB;this.Ta(a,d)}YS(a){a||(a={});a.elementId=this.SB;this.Ck("focus",a)}oA(a){a=!!a;this.gV!==a&&(this.gV=a,this.bs("set-visible",{isVisible:a}))}Gd(){this.yea()}cea(){const a=
this.b.Y.vz();return"Android"===e.kd.Zr&&("scale-inner"===a||"scale-outer"===a||"crop"===a)}yea(){var a=this.A();const d=a.ka();var c=a.O(),f=a.P();let [l,g]=d.Dp(c,f),[k,n]=d.Dp(c+a.L(),f+a.M());c=this.b.Y;f=c.nd;const q=c.ad;if(a.jd()&&d.jd()){if(!this.cea()){if(0>=k||0>=n||l>=f||g>=q){this.oA(!1);return}1>l&&(l=1);1>g&&(g=1);k>=f&&(k=f-1);n>=q&&(n=q-1)}b.set(l,g,k,n);a=c.il;f=c.hl;b.gd(this.ot)&&this.yV===a&&this.xV===f?this.oA(!0):(this.ot.za(b),this.yV=a,this.xV=f,this.oA(!0),a=null,this.Pea&&
(a=d.zl()-.2),this.bs("update-position",{left:Math.round(this.ot.X)+c.np(),top:Math.round(this.ot.S)+c.op(),width:Math.round(this.ot.width()),height:Math.round(this.ot.height()),fontSize:a}))}else this.oA(!1)}QN(){this.YS({focus:!0})}hN(){this.YS({focus:!1})}Fba(){this.qJ=!0}Eba(){this.qJ=!1}A6(a,d){this.bs("set-css-style",{prop:e.KY(a),val:d})}z6(a,d){this.bs("set-attribute",{name:a,val:d})}E5(a){this.bs("remove-attribute",{name:a})}}}
{"use strict";const e=self.B,b=self.Q1;e.qv=class extends e.oa{constructor(a){super();this.b=a.Sc;this.KK=e.C(e.KE);this.bD=e.C(e.KE);this.Lw=null;this.aga=a.Pya||null}j(){this.bD.j();this.KK.j();this.b=null}I(){return this.b}Zb(){}N8(a){this.KK.yc(a)}nO(){return this.KK.jF()}fh(a){this.bD.yc(a)}Yp(a){this.bD.kp(a)}ta(){return this.bD.jF()}N0(){if(null===this.Lw){const a=this.aga;if(a){if(this.Lw=new a(this),!(this.Lw instanceof b))throw new TypeError("script interface class must derive from IBehavior");
}else this.Lw=new b(this)}return this.Lw}}}{"use strict";const e=self.B;e.sv=class extends e.oa{constructor(b){super();this.b=b.I();this.$c=b;this.K=b.J();this.jj=b.gn();this.jj.N8(this.K)}j(){this.jj=this.K=this.$c=this.b=null}Mh(){return this.$c}J(){return this.K}I(){return this.b}gn(){return this.jj}}}
{"use strict";const e=self.B;e.rv=class extends e.oa{constructor(b,a){super();this.tB=b;this.eo=a;this.R=b.R;this.b=b.I();this.$c=b.Mh();this.Qa=this.$c.Qa;this.kV=this.tm=this.rm=!1;this.ae=null}j(){this.aq();this.bB();this.kea();this.ae&&(this.ae.j(),this.ae=null);this.Qa=this.$c=this.b=this.R=this.tB=null}gn(){return this.$c.gn()}J(){return this.R.J()}A(){return this.R.A()}I(){return this.b}Mh(){return this.$c}Ez(){return this.tB.Ez()}ia(b){return this.b.ia(b,this.R,this.$c)}Bu(b){return this.b.Bu(b,
this.R,this.$c)}mb(b){return this.b.mb(b,this.R,this.$c)}Gd(){}Iv(){}Of(){this.rm||(this.b.H8(this),this.rm=!0)}aq(){this.rm&&(this.b.yca(this),this.rm=!1)}MT(){this.tm||(this.b.I8(this),this.tm=!0)}bB(){this.tm&&(this.b.zca(this),this.tm=!1)}kea(){this.kV&&(this.b.xca(this),this.kV=!1)}EE(b,a){this.b.Gi(this.eo,b,a)}Kc(){return null}Dc(){}kc(){}ef(){}qG(b,a){if(0!==a){var d=this.kc(b);if("number"!==typeof d)throw Error("expected number");this.ef(b,d+a)}}Rg(){return null}}}
{"use strict";const e=self.B;e.g={};e.Ka={};e.j5=class extends e.oa{constructor(b){super();this.b=b;this.Oea=[];this.WV=new Map;this.Sd=null;this.Lea=[];this.WI=new Map;this.qV=this.wW=null}wZ(b){const a=this.b.Oh(b[0]);if(!a)throw Error("missing plugin");e.bY(b,a);b=e.C(a,{Sc:this.b,nX:b[1],pha:b[2],oha:b[5],dha:b[8],Iha:b[9],iia:b[13],hia:b[14]});b.Zb();this.Oea.push(b);this.WV.set(a,b)}yZ(){this.Sd=e.C(e.g.Ea,{Sc:this.b,nX:!0});this.Sd.Zb()}sZ(b){b=this.b.Oh(b[1]);if(!b)throw Error("missing behavior");
const a=e.C(b,{Sc:this.b});a.Zb();this.Lea.push(a);this.WI.set(b,a);!this.wW&&e.Ka.fia&&a instanceof e.Ka.fia?this.wW=a:!this.qV&&e.Ka.rha&&a instanceof e.Ka.rha&&(this.qV=a)}j1(b){return this.WV.get(b)||null}E1(b){return this.WI.has(b)}n0(b){return this.WI.get(b)||null}Vu(){return this.Sd}}}
{"use strict";const e=self.B,b=new Set;e.bv=class extends e.oa{constructor(){super();this.Qj="";this.T=this.W=this.Et=this.Dt=this.Mt=0;this.Iw=this.BC=!1;this.uf=null;this.Im="";this.Ag=e.C(e.Rect);this.Wq=e.C(e.ld);b.add(this)}j(){this.Yg();this.uf=null;b.delete(this)}static $r(){for(const a of b)a.Im="",a.Ag.set(0,0,0,0),a.Wq.Uj(a.Ag)}lP(a){this.Qj=a[0];this.Mt=a[1];this.Dt=a[2];this.Et=a[3];this.W=a[4];this.T=a[5];this.BC=a[6];this.Iw=!0}mP(a,d){if(this.uf)throw Error("already loaded asset");
this.Qj=d;const c={};e.aG(d)&&(c.uy="remote");this.gv(a,c);return this.uf.kP()}O5(a){if(a===this)throw Error("cannot replace with self");this.Yg();this.Qj=a.Qj;this.Mt=a.Mt;this.Dt=a.Dt;this.Et=a.Et;this.W=a.W;this.T=a.T;this.Iw=a.Iw;this.uf=a.uf;this.Im=a.Im;this.Ag=a.Ag;this.Wq=a.Wq}pn(){return this.Mt}L(){return this.W}M(){return this.T}gv(a,d){if(this.uf)throw Error("already got asset");d=Object.assign({},d,{url:this.Qj,size:this.pn()});this.uf=a.bA(d)}Uz(){return this.uf&&this.uf.Uz()}async zn(a,
d){if(!this.uf)throw Error("no asset");if(this.Im)throw Error("already loaded texture");this.Im="loading";a=await this.uf.zn(a,d);if(!a)return this.Im="",null;this.Im="loaded";this.Iw||(this.W=a.L(),this.T=a.M(),this.Iw=!0);this.Ag.set(this.Dt,this.Et,this.Dt+(this.BC?this.T:this.W),this.Et+(this.BC?this.W:this.T));this.Ag.ml(a.L(),a.M());this.Wq.Uj(this.Ag);this.BC&&this.Wq.Zha();return a}Yg(){this.Im&&(this.uf&&this.uf.Yg(),this.Im="",this.Ag.set(0,0,0,0),this.Wq.Uj(this.Ag))}Ub(){return this.uf?
this.uf.Ub():null}Ph(){return this.Ag}Fz(){return this.Wq}async MN(){const a=await this.uf.F3(),d=e.Ff(this.W,this.T);d.getContext("2d").drawImage(a,this.Dt,this.Et,this.W,this.T,0,0,this.W,this.T);return d}}}
{"use strict";const e=self.B;e.vY=class extends e.oa{constructor(b){super();this.Ja=b[0];this.zh=b[1];this.xC=!!b[2];this.Lt=b[3];this.iW=b[4];this.Afa=!!b[5];this.pb=b[6];this.ee=b[7].map(a=>e.C(e.uY,a))}j(){for(const b of this.ee)b.j();e.G(this.ee)}z3(b){for(const a of this.ee)a.Jc().gv(b)}A3(b,a){return Promise.all(this.ee.map(d=>d.Jc().zn(b,a)))}B5(){for(const b of this.ee)b.Jc().Yg()}Da(){return this.Ja}kn(b){b=Math.floor(b);if(0>b||b>=this.ee.length)throw new RangeError("invalid frame");return this.ee[b]}Gl(){return this.zh}nn(){return this.Lt}}}
{"use strict";const e=self.B;e.uY=class extends e.oa{constructor(b){super();this.vg=e.C(e.bv);this.vg.lP(b);this.vU=b[7];this.TV=e.C(e.Jv,b[8],b[9]);this.kC=b[10].map(a=>e.C(e.f2,this,a));this.$U=new Map;for(const a of this.kC)this.$U.set(a.Da().toLowerCase(),a);this.kq=null;b=b[11];6<=b.length&&(this.kq=e.C(e.hp,b))}j(){this.kq&&(this.kq.j(),this.kq=null);this.vg.j();this.vg=null}Jc(){return this.vg}$j(){return this.TV.$}ak(){return this.TV.V}P0(b){return this.$U.get(b.toLowerCase())||null}O0(b){b=
Math.floor(b);return 0>b||b>=this.kC.length?null:this.kC[b]}AF(){return this.kC.length}}}{"use strict";const e=self.B;e.f2=class extends e.oa{constructor(b,a){super();this.Ja=a[0];this.aL=e.C(e.Jv,a[1],a[2])}j(){}Da(){return this.Ja}O(){return this.aL.$}P(){return this.aL.V}}}
{"use strict";const e=self.B,b=self.Gg,a=self.$u;e.pG=class extends e.oa{constructor(d,c,f){super();const l=d.Oh(f[1]);this.b=d;this.ni=d.Sq.j1(l);this.Qa=null;this.oC=l.Instance;this.Za=c;this.pb=f[11];this.Ja=f[0];this.ix=this.b.Pi(f[14]);this.xfa=!!f[9];this.bb=!!f[2];this.gK=!!f[10];this.Cj=f[3].map(g=>({JX:g[0],type:g[1],name:g[2],qha:d.Pi(g[3])}));this.Rea=f[4];this.hfa=f[5];this.Rf=this.ni.Rf;this.Wa=null;this.DB=e.C(e.K7,d.wh,d.vh);this.NI=!0;this.OI=!1;this.zJ=this.sq=null;this.gi=-1;this.yJ=
this.XB=this.YB=this.xJ=this.fi=null;this.aK=!1;this.kh=null;this.fU=f[8].map(g=>e.eN.Ya(this,g));this.uB=[];this.XI=new Map;this.VI=new Map;this.MW=new Set;this.Co=e.C(e.H7,this);this.nB=this.mB=this.$d=this.vg=this.kh=this.Ts=null;this.Tt=0;this.Mb=new Map;this.yi=new Map;this.H=[];this.OJ=!0;this.ni.TF()&&(this.Wa=e.C(e.ul,this,f[12]));f[6]&&(this.vg=e.C(e.bv),this.vg.lP(f[6]));if(f[7]){this.$d=f[7].map(g=>e.C(e.vY,g));this.mB=new Map;this.nB=new Map;for(const g of this.$d)this.mB.set(g.Da().toLowerCase(),
g),this.nB.set(g.pb,g)}this.bb?(this.sq=[],this.zJ=new Set,this.gi=this.b.eaa()):(this.fi=[],this.xJ=new Set,this.YB=[],this.XB=[],this.yJ=[]);this.Qa=e.C(l.De,this,f[15]);this.eV=this.Nw=null;this.xe=e.C(e.Event.Ib);if(c=this.Qa.Rg()){if(this.Nw=new c(this),!(this.Nw instanceof a))throw new TypeError("script interface class must derive from IObjectClass");}else this.Nw=new a(this);this.b.WD&&!this.bb&&!this.gK&&this.Rf||this.Zb();this.ni.ko&&(this.ni.Xda(this),this.B9(f))}static Ya(d,c,f){return e.C(e.pG,
d,c,f)}j(){this.vg&&(this.vg.j(),this.vg=null);if(this.$d){for(const d of this.$d)d.j();e.G(this.$d);this.mB.clear();this.nB.clear()}this.Co.j();this.Co=null;this.Mb.clear();this.yi.clear();this.b=this.kh=null}Saa(d){for(let c=1,f=d.length;c<f;++c){const l=this.b.Kf(d[c]);this.sq.push(l);this.zJ.add(l);l.fi.push(this);l.xJ.add(this)}}vda(d){this.aK=!0;this.kh=d}lc(){return this.aK}xba(){var d=0;if(!this.bb)for(var c of this.fi)for(var f of c.fU){const k=f.Da().toLowerCase();this.XI.set(k,f);this.VI.set(k,
d);this.uB.push(f);++d}for(var l of this.fU)c=l.Da().toLowerCase(),this.XI.set(c,l),this.VI.set(c,d),this.uB.push(l),++d;for(var g of this.uB)this.MW.add(g.gn().constructor);if(!this.bb&&this.fi.length){d=this.b.CU;e.hE(this.YB,d,0);e.hE(this.XB,d,0);e.hE(this.yJ,d,0);d=[];c=g=l=0;for(const k of this.fi)if(f=k.gi,this.YB[f]=l,l+=k.Cj.length,this.XB[f]=g,g+=k.Rea,this.yJ[f]=c,c+=k.hfa,(f=k.Wa)&&this.Wa)for(const n of f.Jg())d.push(n.bZ(this.Wa));this.Wa&&this.Wa.q5(d)}}B9(d){const c=this.b.daa(),f=
e.C(e.Instance,{Sc:this.b,zM:this,uid:c});f.BA(d[16],[]);this.b.kba(c,f);this.H.push(f)}Zb(){this.bb||this.Qa.Zb()}I1(){return 0<this.Tt}An(d){if(this.bb)return Promise.resolve();this.Tt++;return 1===this.Tt?this.Qa.An(d)||Promise.resolve():Promise.resolve()}qk(){if(!this.bb){this.Tt--;if(0>this.Tt)throw Error("released textures too many times");0===this.Tt&&this.Qa.qk()}}dA(){if(this.bb)throw Error("not applicable to family");this.Qa.dA()}tG(d){return this.bb?Promise.resolve():this.Qa.tG(d)}I(){return this.b}Pb(){return this.ni}Da(){return this.Ja}Pi(){return this.ix}La(){return this.Za}Wg(){return this.xfa}oR(d){return d&&
this.MW.has(d)}V0(){return this.Cj.map(d=>d.JX)}U0(d){return this.Cj.findIndex(c=>c.JX===d)}T0(d){return this.Cj.findIndex(c=>c.name===d)}U$(){return this.Cj.map(d=>d.qha)}Ru(d){d=Math.floor(d);if(0>d||d>=this.Cj.length)throw new RangeError("invalid instance variable index");return this.Cj[d].type}fO(d){d=Math.floor(d);if(0>d||d>=this.Cj.length)throw new RangeError("invalid instance variable index");return this.Cj[d].name}jz(d){return this.XI.get(d.toLowerCase())||null}Mu(d){d=this.VI.get(d.toLowerCase());
return"undefined"===typeof d?-1:d}TF(){return this.ni.TF()}pR(){return this.Wa&&this.Wa.A1()}aa(){return this.Co.aa()}Jc(){return this.vg}DQ(d){this.Ts=d}ME(d){return this.xJ.has(d)}NN(d){return this.zJ.has(d)}pp(d){return this.XB[d]}uF(d){return this.YB[d]}SN(d){if(!this.$d)throw Error("no animations");return this.mB.get(d.toLowerCase())||null}l0(d){if(!this.$d)throw Error("no animations");return this.nB.get(d)||null}F0(){if(!this.$d)throw Error("no animations");return this.$d[0].kn(0)}t0(){if(this.$d){const d=
this.F0().Jc();return[d.L(),d.M()]}return this.vg?[this.vg.L(),this.vg.M()]:[100,100]}gk(){if(!this.ni.ko)throw Error("not a single-global plugin");return this.H[0]}ta(){return this.H}*lX(){yield*this.H}*hha(){yield*this.H;for(const d of this.b.om)d.J()===this&&(yield d)}fh(d){this.H.push(d)}aw(){this.OJ=!0}eB(){if(this.OJ&&!this.bb){var d=this.H,c=0;for(let f=d.length;c<f;++c)d[c].vT(c);d=this.b.om;for(const f of d)f.J()===this&&f.vT(c++);this.OJ=!1}}eO(d){var c=this.H;if(d<c.length)return c[d];
d-=c.length;c=this.b.om;for(const f of c)if(f.J()===this){if(0===d)return f;--d}return null}Dl(d){if(d&&d.lc()&&d.J()!==this)for(const c of d.Rd)if(c.J()===this)return c;d=this.aa().ta();return d.length?d[0]:null}h1(d){const c=this.aa().ta();return 0<c.length?c[d.qp()%c.length]:null}*UW(d,c){const f=this.aa().ta();var l=f.length;const g=c.aa(),k=c.aa().ta(),n=k.length;var q=d.qp();if(c.bb||!g.fc)q=k.indexOf(d);d=Math.ceil(l/n);l%=n;0===l||q<l?(q*=d,l=d):(q=l*d+(q-l)*(d-1),l=d-1);for(let t=q,p=q+l;t<
p;++t)yield f[t]}Iu(d){this.Qa.Iu(d)}qc(){if(this.aK&&!this.bb){this.eB();var d=this.aa(),c=d.H,f=d.fc,l=this.b.If();l=l&&l.Ob()&&l.Ob().fe;for(const n of this.kh.Am)if(n!==this){n.eB();var g=n.aa();g.Ee(f);if(!f){var k=g.H;e.G(k);for(const q of c)k.push(n.eO(q.qp()));if(l){k=d.uc;g=g.uc;e.G(g);for(const q of k)g.push(n.eO(q.qp()))}}}}}sea(d,c){for(const f of this.kh.Am){const l=f.aa();d?e.Ef(l.uc,c):e.Ef(l.H,c)}}sT(){this.NI=!0}nI(d){this.OI=!!d}RT(){if(this.NI&&this.Rf){for(const d of this.H)d.A().UT();
for(const d of this.b.om)d.J()===this&&d.A().UT();this.NI=!1}}fk(){this.Mb||(this.Mb=new Map);return this.Mb}Xu(){this.yi||(this.yi=new Map);return this.yi}JO(){return this.oR(e.Ka.Qpa)}UF(){return this.oR(e.Ka.tqa)}ua(){const d={instances:this.H.map(c=>c.Kc())};this.Mb&&this.Mb.size&&(d.ex=e.mH(this.Mb));return d}Aa(d){this.Mb&&(this.Mb.clear(),this.Mb=null);var c=d.ex;c&&(this.Mb=e.hF(c));c=this.H;d=d.instances;for(let f=0,l=Math.min(c.length,d.length);f<l;++f)c[f].Dc(d[f]);for(let f=d.length,l=
c.length;f<l;++f)this.b.sl(c[f]);for(let f=c.length,l=d.length;f<l;++f){c=d[f];let g=null;if(this.Rf&&(g=this.b.Tb().yz(c.w.l),!g))continue;this.b.Ki(this.Ts||this,g,!1,0,0,!0).Dc(c)}this.aw()}Kh(d){var c=this.b;(c=c.Cb&&!c.qa().Sz())&&b.hH();this.xe.dispatchEvent(d);c&&b.IE()}}}{"use strict";const e=self.B;e.mZ=class extends e.oa{constructor(b,a){super();this.b=b;this.Am=a;for(const d of this.Am)d.vda(this)}j(){this.b=null}I(){return this.b}D1(){return this.Am.some(b=>b.Rf)}}}
{"use strict";const e=self.B,b=self.Gg,a=self.Qr,d=[];let c=0;const f=new WeakMap,l=new WeakMap;e.Instance=class extends e.oa{constructor(g){super();this.b=g.Sc;this.re=g.zM;this.He=this.ra=this.ub=null;this.ZU=0;this.ic=g.uid;this.bW=c++;this.Ba=0;this.yd=this.vf=d;var k=this.re.uB;0<k.length&&(this.yd=k.map((n,q)=>e.C(e.Ly,{Sc:this.b,$L:n,instance:this,index:q})));this.Rd=this.re.lc()?[]:null;this.he=-1;this.cc=null;k=this.Pb();k.Bn()&&(this.Ba|=4);if(k.Rf)if(this.ub=e.C(e.A8,this,g.ke),g.TX)this.ub.Tg(g.TX);
else{this.ub.w2();const [n,q]=this.re.t0();this.ub.rc(n,q);this.J().pR()&&this.ub.Ie.B3()}g.kX?this.Waa(g.kX):this.Qaa()}j(){this.He&&(this.He.$v(),this.He=null);if(0<this.yd.length){for(var g of this.yd)g.j();e.G(this.yd)}this.ra.j();this.ra=null;if(g=f.get(this))g.clear(),f.delete(this);if(g=l.get(this))g.clear(),l.delete(this);this.Rd&&e.G(this.Rd);this.cc&&(this.cc.j(),this.cc=null);this.re=this.b=null;0<this.vf.length&&e.G(this.vf);this.ub&&(this.ub.j(),this.ub=null)}Waa(g){0<g.length&&(this.vf=
[],e.Cd(this.vf,g))}Qaa(){const g=this.re.Cj.length;if(0!==g){this.vf=[];var k=[0,0,""];for(let n=0;n<g;++n)this.vf.push(k[this.re.Ru(n)])}}BA(g,k){if(this.ra)throw Error("already got sdk instance");for(let n=0,q=this.yd.length;n<q;++n)this.yd[n].BA(k?k[n]:null);this.ra=e.C(this.re.oC,this,g);if(!(this.ra instanceof e.Fn))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,q=this.yd.length;n<q;++n);this.re.eV&&this.AS()}A(){return this.ub}I(){return this.b}j0(){const g=this.he;return-1===
g?this.I().he:g}$G(g){g=+g;if(0>g||!isFinite(g))g=0;this.he=g}Y5(){this.he=-1}Ib(){this.cc||(this.cc=e.C(e.Event.Ib));return this.cc}me(g){this.ra.me(g)}Zb(g){this.ra.Zb(g)}Fda(){this.Ba|=2}Il(){return 0!==(this.Ba&2)}WH(){this.Ba|=1}VO(){return 0!==(this.Ba&1)}Bn(){return 0!==(this.Ba&4)}X6(){this.Ba|=32}uP(){return 0!==(this.Ba&32)}xv(g,k){g<<=16;this.Ba=k?this.Ba|g:this.Ba&~g}xF(g){return 0!==(this.Ba&g<<16)}Kd(){return this.ra.Kd()}oz(){return this.ra.oz()}pz(){return this.ra.pz()}ln(g){return this.ra.ln(g)}J(){return this.re}ds(){return this.ra.ds()}Ar(g){return g.bb?
g.NN(this.J()):this.J()===g}qR(){if(!this.Pb().EW)throw Error("object does not support scene graph");}kk(){return null!==this.Fa()}Fa(){var g=this.A();return g?(g=g.Fa())?g.Ga():null:null}Hz(){var g=this.A();return g?(g=g.Hz())?g.Ga():null:null}*xy(){const g=this.A();if(g)for(const k of g.xy())yield k.Ga()}Lf(){const g=this.A();return g?g.Lf():!1}Gf(){const g=this.A();return g?g.Gf().map(k=>k.Ga()):[]}*children(){const g=this.A();if(g)for(const k of g.children())yield k.Ga()}*kl(){const g=this.A();
if(g)for(const k of g.kl())yield k.Ga()}nz(){const g=this.A();return g?g.nz():0}mF(g){const k=this.A();return k?(g=k.mF(g))?g.Ga():null:null}fn(g,k){this.qR();g.qR();this.A().fn(g.A(),k||{})}rk(g){const k=this.A();k&&k.rk(g.A())}rz(){const g=this.A();return g?g.rz():!1}B7(){var g=this.A();if(g&&(g=g.lL))for(const k of g)if(g=this.b.Og(k[2])){const n=k[3];this.fn(g,{su:!!(n>>0&1),tu:!!(n>>1&1),xr:!!(n>>2&1),wr:!!(n>>3&1),ru:!!(n>>4&1),ky:!!(n>>5&1),uu:!!(n>>6&1)})}}lc(){return null!==this.Rd}xs(g){this.Rd.push(g)}K1(g){return!!this.zO(g)}zO(g){const k=
this.Rd;if(null===k||0===k.length)return!1;for(const n of k)if(n.J()===g)return n;return null}Zi(){for(const g of this.Rd)g.J().aa().yk(g)}nca(){for(const g of this.Rd)g.J().aa().Xp(g)}Wda(g){for(const k of this.Rd)k.J().aa().H[g]=k}mca(){for(const g of this.Rd)g.J().aa().Sn(g)}Vda(g){for(const k of this.Rd)k.J().aa().uc[g]=k}Pb(){return this.re.Pb()}vT(g){this.ZU=g}qp(){this.re.eB();return this.ZU}TN(g){const k=this.yd;for(let n=0,q=k.length;n<q;++n)if(k[n].Mh().pb===g)return n;return-1}Ye(g){g|=
0;const k=this.vf;if(0>g||g>=k.length)throw new RangeError("invalid instance variable");return k[g]}kS(g){return this.vf[g]}baa(g){const k=this.vf[g];return 0===this.re.Ru(g)?!!k:k}Jn(g,k){g|=0;const n=this.vf;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");switch(this.re.Ru(g)){case 0:n[g]=k?1:0;break;case 1:n[g]="number"===typeof k?k:parseFloat(k);break;case 2:n[g]="string"===typeof k?k:k.toString();break;default:throw Error("unknown instance variable type");}}P6(g,k){if(0!==
k){g|=0;var n=this.vf;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");var q=n[g];if("number"===typeof q)n[g]="number"===typeof k?n[g]+k:n[g]+parseFloat(k);else{if("boolean"===typeof q)throw Error("can not set offset of boolean variable");if("string"===typeof q)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}fk(){let g=f.get(this);if(g)return g;g=new Map;f.set(this,g);return g}Xu(){let g=l.get(this);if(g)return g;g=new Map;
l.set(this,g);return g}uS(g){const k=this.J();if(k.xe.RF(g))return!0;for(const n of k.fi)if(n.xe.RF(g))return!0;return this.b.xe.RF(g)?!0:!1}dB(){const g=new Set;g.add(this);const k=this.A();if(k&&k.Lf())for(const n of this.kl())if(g.add(n),n.lc())for(const q of n.Rd)g.add(q);if(this.lc())for(const n of this.Rd)g.add(n);for(const n of g.values())n.OT()}OT(){if(this.uS("instancecreate")){const g=this.J(),k=new e.Event("instancecreate");k.instance=this.Nh();g.Kh(k);for(const n of g.fi)n.Kh(k);this.b.Kh(k)}this.b.ia(this.Pb().constructor.F.IP,
this,null)}qea(){this.b.ia(this.Pb().constructor.F.JP,this,null)}M$(g){if(this.He){var k=new e.Event("destroy");k.lha=g;this.Kh(k)}if(this.uS("instancedestroy")){k=this.J();var n=new e.Event("instancedestroy");n.instance=this.Nh();n.lha=g;k.Kh(n);for(const q of k.fi)q.Kh(n);this.b.Kh(n)}}Kc(g="full"){const k={};"full"===g?k.uid=this.ic:k.c3=!0;if("visual-state"!==g){var n=f.get(this);n&&n.size&&(k.ex=e.mH(n));-1!==this.he&&(k.mts=this.he);if(0<this.re.Cj.length){n={};var q=this.re.V0();for(let t=
0,p=this.vf.length;t<p;++t)n[q[t].toString()]=this.vf[t];k.ivs=n}if(this.yd.length){n={};for(const t of this.yd)(q=t.Kc())&&(n[t.Mh().pb.toString()]=q);k.behs=n}}this.ub&&(k.w=this.ub.ua(g));(g=this.ra.Kc())&&(k.data=g);return k}QA(g="full"){this.ub&&this.ub.QA(g)}Dc(g,k="full"){if("full"===k)this.ic=g.uid;else if(!g.c3)return;if("visual-state"!==k){var n=f.get(this);n&&(n.clear(),f.delete(this));if(n=g.ex)n=e.hF(n),f.set(this,n);this.he=g.hasOwnProperty("mts")?g.mts:-1;if(n=g.ivs)for(const [p,v]of Object.entries(n))if(n=
this.re.U0(parseInt(p,10)),!(0>n||n>=this.vf.length)){var q=v;null===q&&(q=NaN);this.vf[n]=q}}if(this.Pb().Rf){n=g.w;var t=n.l;this.ub.ka().pb!==t&&(q=this.ub.ka(),(t=q.Ac().yz(t))?(this.ub.bw(t),q.Yp(this,!0),t.fh(this,!0),t.bh(),this.ub.ab()):"full"===k&&this.b.sl(this));this.ub.Aa(n,k)}if("visual-state"!==k&&(k=g.behs))for(const [p,v]of Object.entries(k))k=this.TN(parseInt(p,10)),0>k||k>=this.yd.length||this.yd[k].Dc(v);(g=g.data)&&this.ra.Dc(g)}Nh(){return this.He||this.AS()}AS(){var g=this.ub?
self.av:a;const k=this.ra.Rg(),n=this.re.eV,q=n||k||g;a.dj(this);this.He=new q;a.dj(null);if(k&&!(this.He instanceof g))throw new TypeError(`script interface class '${k.name}' does not extend the right base class '${g.name}'`);if(n&&(g=k||g,!(this.He instanceof g)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${g.name}'`);return this.He}aaa(g){if(0!==this.vf.length){var k={},n=this.re.U$();for(let q=0,t=n.length;q<t;++q)k[n[q]]={configurable:!1,
enumerable:!0,get:e.Instance.prototype.baa.bind(this,q),set:e.Instance.prototype.Jn.bind(this,q)};k=Object.create(Object.prototype,k);g.Cxa={value:k,writable:!1}}}V$(g){var k=this.yd;if(0!==k.length){var n={};for(const q of k)n[q.Mh().Pi()]={value:q.Ez(),writable:!1};k=Object.create(Object.prototype,n);g.iy={value:k,writable:!1}}}Kh(g){g.instance=this.Nh();var k=this.b;(k=k.Cb&&!k.qa().Sz())&&b.hH();this.Nh().dispatchEvent(g);k&&b.IE()}}}
{"use strict";const e=self.B;e.h6=class extends e.oa{constructor(b){super();this.dc=b;this.Pc=null;this.BB=[];this.FD=b.L();this.ED=b.M();this.xL=this.wL=1;this.gD=0}j(){this.Pc=null;e.G(this.BB)}SQ(b){this.gD=(this.Pc=b)?b.na():0}Fa(){return this.Pc}Lf(){return 0<this.BB.length}Gf(){return this.BB}h7(b){this.wL=b}i7(b){this.xL=b}dk(){return this.dc.up()?this.Pc.L()/this.Pc.Sb.FD:1}ek(){return this.dc.tp()?this.Pc.M()/this.Pc.Sb.ED:1}ua(){return{sw:this.FD,sh:this.ED,sx:this.wL,sy:this.xL,psa:this.gD,
c:this.BB.map(b=>{let a="";b.vp()&&(a+="x");b.wp()&&(a+="y");b.up()&&(a+="w");b.tp()&&(a+="h");b.Jz()&&(a+="a");b.Kz()&&(a+="z");b.rz()&&(a+="d");return{uid:b.Ga().ic,f:a}})}}Aa(b){this.FD=b.sw;this.ED=b.sh;this.wL=b.sx;this.xL=b.sy;this.gD=b.psa}Wp(b){const a=this.dc,d=a.I();for(const c of b.c){b=d.Og(c.uid).A();const f=c.f,l={};l.su=f.includes("x");l.tu=f.includes("y");l.xr=f.includes("w");l.wr=f.includes("h");l.ru=f.includes("a");l.uu=f.includes("z");l.ky=f.includes("d");a.fn(b,l)}}}}
{"use strict";const e=self.B,b=e.C(e.Rect),a=e.C(e.ld),d=e.C(e.Event,"bboxchange",!1),c=e.C(e.lb,0,0,0,0),f=e.C(e.hp),l=e.C(e.lb,1,1,1,1),g=e.C(e.Rect,0,0,-1,-1),k=e.C(e.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),q=[];let t=!0;e.A8=class extends e.oa{constructor(p,v){super();this.R=p;this.K=p.J();this.b=p.I();this.Uk=v;this.jl=-1;this.Ba=196635;this.K.Pb().Wr()&&(this.Ba|=128);this.Gt=this.Ft=this.gJ=this.nL=this.$a=this.sf=this.Aj=this.Rj=this.rd=this.V=this.$=NaN;this.aJ=e.C(e.Rect);this.bJ=
e.C(e.ld);this.CB=k;this.Dx=g;this.Mj=this.Vt=this.BD=null;this.mq=this.Bb=l;this.Ie=this.er=null;this.R.J().pR()&&(this.Ie=e.C(e.M2,this.R,this));this.lL=this.Sb=null;this.$q=this.nW=NaN;this.mi=null}WH(){this.Ba|=256}j(){this.er&&(this.b.zb().hQ(this.er),this.er=null);this.BD=null;this.Vt&&(this.Vt.BX.j(),this.Vt=null);this.Mj&&(this.Mj.clear(),this.Mj=null);this.iA();this.kk()&&this.Fa().rk(this);if(this.Lf()){const p=[...this.Gf()];for(const v of p)this.rk(v)}this.UA();this.Uk=this.b=this.K=this.R=
null}Tg(p){t=!1;this.$i(p[0],p[1]);this.Ce(p[2]);this.rc(p[3],p[4]);this.sf=0;this.Wr()?this.Wc(p[6]):this.$a=0;c.cp(p[7]);this.WA(c);this.ms(p[8]);this.ns(p[9]);this.cf(p[10]);this.Ie&&this.Ie.Raa(p[12]);p[14]&&(this.lL=p[14][1],this.nW=p[14][2]);if(p[15]){var v=p[15];this.XE(v[0],v[1]);p=this.hk();v=v[2];for(let u=0,w=v.length;u<w;++u){const y=v[u];for(let z=0,E=y.length;z<E;++z){const G=y[z],P=p.Kr(z,u);P.hf(G[0]);P.jf(G[1]);P.Ce(G[2]);P.aH(G[3]);P.bH(G[4])}}}t=!0;this.Fs()}w2(){this.nL=this.$a=
this.sf=this.Aj=this.Rj=this.rd=this.V=this.$=0;this.gJ=1;this.Gt=this.Ft=0;this.Fs()}I(){return this.b}J(){return this.K}Ga(){return this.R}Qv(){return this.Jz()?this.Fa().na()-this.Sb.gD:0}hf(p){p=+p;if(this.vp()){const v=this.Sb;p-=this.O();const u=-this.Qv();0===u?this.$+=p/v.dk():(this.$+=Math.cos(u)*p/v.dk(),this.wp()&&(this.V+=Math.sin(u)*p/v.ek()))}else this.$=p}c4(p){p=+p;this.vp()?this.hf(this.O()+p):this.$+=p}O(){if(this.vp()){let p=this.$;const v=this.Sb,u=this.Fa(),w=this.Qv();0===w?
p*=v.dk():(p=p*v.dk()*Math.cos(w),this.wp()&&(p-=this.V*v.ek()*Math.sin(w)));return u.O()+p}return this.$}jf(p){p=+p;if(this.wp()){const v=this.Sb;p-=this.P();const u=-this.Qv();0===u?this.V+=p/v.ek():(this.vp()&&(this.$-=Math.sin(u)*p/v.dk()),this.V+=Math.cos(u)*p/v.ek())}else this.V=p}d4(p){p=+p;this.wp()?this.jf(this.P()+p):this.V+=p}P(){if(this.wp()){let p=this.V;const v=this.Sb,u=this.Fa(),w=this.Qv();0===w?p*=v.ek():(p=p*v.ek()*Math.cos(w),this.vp()&&(p+=this.$*v.dk()*Math.sin(w)));return u.P()+
p}return this.V}$i(p,v){p=+p;v=+v;if(this.GO()){const w=this.vp(),y=this.wp(),z=this.Sb,E=p-this.O(),G=v-this.P();var u=-this.Qv();if(0===u)this.$=w?this.$+E/z.dk():p,this.V=y?this.V+G/z.ek():v;else{const P=Math.sin(u);u=Math.cos(u);this.$=w?y?this.$+(u*E-P*G)/z.dk():this.$+u*E/z.dk():p;this.V=y?w?this.V+(P*E+u*G)/z.ek():this.V+u*G/z.ek():v}}else this.$=p,this.V=v}cA(p,v){p=+p;v=+v;this.GO()?this.$i(this.O()+p,this.P()+v):(this.$+=p,this.V+=v)}fF(p,v){return this.O()===p&&this.P()===v}Ce(p){p=+p;
this.Kz()&&(p-=this.Fa().Sa());this.rd!==p&&(this.rd=p,this.$T(),p=this.ka(),0!==this.rd&&p.tT(),p.bh())}$T(){this.Fs();if(this.Lf()){const p=this.Gf();for(let v=0,u=p.length;v<u;v++){const w=p[v];w.Kz()&&w.$T()}}}e4(p){this.Ce(this.Sa()+p)}Sa(){return this.Kz()?this.Fa().Sa()+this.rd:this.rd}lg(){return this.ka().Sa()+this.Sa()}Zd(p){p=+p;this.Rj=this.up()?this.Rj*(p/this.L()):p}xP(p){p=+p;this.up()?this.Zd(this.L()+p):this.Rj+=p}L(){return this.up()?this.Fa().L()*this.Rj:this.Rj}Be(p){p=+p;this.Aj=
this.tp()?this.Aj*(p/this.M()):p}wP(p){p=+p;this.tp()?this.Be(this.M()+p):this.Aj+=p}M(){return this.tp()?this.Fa().M()*this.Aj:this.Aj}rc(p,v){p=+p;v=+v;this.Rj=this.up()?this.Rj*(p/this.L()):p;this.Aj=this.tp()?this.Aj*(v/this.M()):v}sO(){if(this.kk()){const p=this.Sb;return Math.min(p.dk(),p.ek())}return 1}Wr(){return 0!==(this.Ba&128)}Wc(p){p=+p;this.Wr()&&(this.Jz()&&(p-=this.Fa().na()),p=e.Vd(p),this.$a!==p&&(this.$a=p,this.XH()))}Y3(p){p=+p;0!==p&&this.Wr()&&(this.$a=e.Vd(this.$a+p),this.XH())}XH(){this.Ba|=
262144;if(this.Lf()){const p=this.Gf();for(let v=0,u=p.length;v<u;v++)p[v].XH()}}na(){return this.Jz()?e.Vd(this.Fa().na()+this.$a):this.$a}QS(){const p=this.Ba;if(0!==(p&262144)){var v=this.na();this.nL=Math.sin(v);this.gJ=Math.cos(v);this.Ba=p&-262145}}NF(){this.QS();return this.nL}oF(){this.QS();return this.gJ}ms(p){this.Ft=+p}a4(p){this.Ft+=+p}$j(){return this.Ft}ns(p){this.Gt=+p}b4(p){this.Gt+=+p}ak(){return this.Gt}WA(p){this.Bb.gd(p)||(this.Bb===l?(this.Bb=e.C(e.lb,p),this.mq=e.C(e.lb,p),this.mq.qE()):
p.my(1,1,1,1)?this.mq=this.Bb=l:(this.Bb.set(p),this.mq.set(p),this.mq.qE()),this.Fs())}df(p){p=e.fa(+p,0,1);this.Bb.So!==p&&(c.Wm(this.Bb),c.So=p,this.WA(c))}Z3(p){this.df(this.Ld()+p)}Ld(){return this.Bb.So}ZQ(p){this.Bb.Xo(p)||(c.Wm(p),c.So=this.Bb.So,this.WA(c))}v7(p,v,u){c.vE(p,v,u);this.ZQ(c)}GF(){return this.mq}rz(){return 0!==(this.Ba&512)}w6(p){this.nf(512,p)}vp(){return 0!==(this.Ba&1024)}q7(p){this.nf(1024,p)}wp(){return 0!==(this.Ba&2048)}GO(){return 0!==(this.Ba&3072)}r7(p){this.nf(2048,
p)}up(){return 0!==(this.Ba&4096)}p7(p){this.nf(4096,p)}tp(){return 0!==(this.Ba&8192)}o7(p){this.nf(8192,p)}Jz(){return 0!==(this.Ba&16384)}n7(p){this.nf(16384,p)}Kz(){return 0!==(this.Ba&32768)}s7(p){this.nf(32768,p)}FR(){this.Ba&=-65025}fn(p,v){if(p!==this&&!p.kk()&&!this.wS(p)&&!this.vS(p)){var u=p.O(),w=p.P(),y=p.L(),z=p.M(),E=p.na(),G=p.Sa();p.DT(this);p.q7(v.su);p.r7(v.tu);p.p7(v.xr);p.o7(v.wr);p.n7(v.ru);p.s7(v.uu);p.w6(v.ky);v.su&&(p.$=u-this.O(),v.xr&&(p.$/=this.L()/this.Sb.FD));v.tu&&(p.V=
w-this.P(),v.wr&&(p.V/=this.M()/this.Sb.ED));v.xr&&(p.Rj=y/this.L(),p.Sb.h7(p.Rj));v.wr&&(p.Aj=z/this.M(),p.Sb.i7(p.Aj));v.ru&&(p.$a=E-this.na());v.uu&&(p.rd=G-this.Sa());this.J8(p);this.ab()}}rk(p){if(p.Fa()===this){var v=p.O(),u=p.P(),w=p.L(),y=p.M(),z=p.na(),E=p.Sa();p.DT(null);p.FR();p.$i(v,u);p.rc(w,y);p.Wc(z);p.Ce(E);this.Aca(p);this.ab()}}Ica(){for(var p of this.children())this.rk(p);(p=this.Fa())&&p.rk(this);this.FR()}kk(){return null!==this.Fa()}Fa(){const p=this.Sb;return null!==p?p.Fa():
null}Hz(){let p=this;for(;p.kk();)p=p.Fa();return p}*xy(){let p=this.Fa();for(;p;)yield p,p=p.Fa()}F1(p){return this.Gf().includes(p)}Lf(){const p=this.Sb;return null!==p?p.Lf():!1}Gf(){const p=this.Sb;return null!==p?p.Gf():q}children(){return this.Gf()}*kl(){for(const p of this.children())yield p,yield*p.kl()}nz(){return this.Gf().length}mF(p){const v=this.Gf();p=Math.floor(+p);return 0>p||p>=v.length?null:v[p]}zH(p){this.Sb||(this.Sb=e.C(e.h6,this));p&&this.Sb.SQ(p)}UA(){this.Sb&&(this.Sb.j(),
this.Sb=null)}DT(p){p?(p.zH(null),this.zH(p)):(this.Sb&&this.Sb.SQ(null),this.Lf()||this.UA())}vS(p){if(!this.kk())return!1;const v=this.Fa();return v===p?!0:v.vS(p)}wS(p){if(this.F1(p))return!0;for(const v of this.Gf())if(v.wS(p))return!0;return!1}J8(p){this.Sb.Gf().push(p)}Aca(p){const v=this.Sb.Gf(),u=v.indexOf(p);-1!==u&&v.splice(u,1);0!==v.length||this.kk()||this.UA();p.Lf()||p.UA()}VG(p){this.$q=p}Fs(){if(t){var p=this.b.zb();this.er&&p.hQ(this.er);this.er=p.$X(0!==(this.Ba&524288)?p.CD||"<point>":
p.DD||"<default>",this.Ni(),this.mq,this.Sa())}}qn(){return this.Bb===l}cf(p){p|=0;if(0>p||31<p)throw new RangeError("invalid blend mode");this.Ni()!==p&&(this.Ba=this.Ba&-2080374785|p<<26,this.Fs())}Ni(){return(this.Ba&2080374784)>>26}bw(p){this.Uk=p;0!==this.Sa()&&this.Uk.tT()}ka(){return this.Uk}Ac(){return this.ka().Ac()}aB(p){this.jl=p|0}jk(){this.Uk.kw();return this.jl}nf(p,v){this.Ba=v?this.Ba|p:this.Ba&~p}jd(){return 0!==(this.Ba&1)}Od(p){this.nf(1,p)}Ti(){return 0!==(this.Ba&8)}wv(p){p=!!p;
this.Ti()!==p&&(this.nf(8,p),p?this.ab():this.dT())}XG(p,v){this.nf(32,p);this.Mj&&this.Mj.clear();if(v.trim()){this.Mj||(this.Mj=new Set);for(const u of v.split(" "))u&&this.Mj.add(u.toLowerCase())}else this.Mj=null}ab(){this.Ba|=65554;this.K.sT();this.b.U();this.Uk.Pp()&&(this.Oy(this.aJ,this.bJ,!0),this.Ba&=-3,this.zea());0!==(this.Ba&4)&&this.R.Ib().dispatchEvent(d);if(null!==this.Sb){const p=this.Sb.Gf();for(let v=0,u=p.length;v<u;++v)p[v].ab()}}Oy(p,v,u){const w=this.O(),y=this.P(),z=this.L(),
E=this.M(),G=this.na();p.Fi(w-this.Ft*z,y-this.Gt*E,z,E);u&&this.Sg()&&this.G$(p);0===G?v.Uj(p):(p.offset(-w,-y),v.tE(p,this.NF(),this.oF()),v.offset(w,y),v.lM(p));p.normalize()}TT(){const p=this.Ba;0!==(p&2)&&(this.Oy(this.aJ,this.bJ,!0),this.Ba=p&-3)}hd(){this.TT();return this.aJ}Kg(){this.TT();return this.bJ}kv(p){var v=this.O(),u=this.P();v=Math.round(v)-v;u=Math.round(u)-u;if(0===v&&0===u)return p;a.za(p);a.offset(v,u);return a}p6(p){this.nf(4,p)}SO(){return 0!==(this.Ba&4)}aP(p,v,u){return v&&
0!==this.sf?this.Tr(this.ka().Rv()):0===this.Sa()||u?p.lE(this.hd()):this.Haa()}Haa(){const p=this.ka(),v=this.lg();if(v>=p.lz())return!1;p.IO(v,b);return b.lE(this.hd())}Tr(p){var v=this.hd();const u=v.X,w=v.ca,y=v.S;v=v.Z;const z=this.lg();return p.nZ(u,y,z,w,v,z+this.sf)}XA(p){this.nf(1048576,p)}ZA(p){this.nf(2097152,p)}YG(p){this.BD=p;this.GH();this.Sg()&&(this.mi.tM=null)}Nz(){return null!==this.BD||this.Sg()}Hl(){return this.X$(this.L(),this.M(),this.na(),this.NF(),this.oF())}X$(p,v,u,w,y){let z=
this.Vt;null===z&&(this.Vt=z={BX:e.C(e.hp),width:NaN,height:NaN,angle:NaN});const E=z.BX;if(z.width===p&&z.height===v&&z.angle===u)return E;const G=this.BD;if(this.Sg()){const P=this.$j(),D=this.ak(),H=this.hk();let J=this.mi.tM;J||(G?(f.za(G),f.offset(P,D)):f.cia(),J=H.L2(f),this.mi.tM=J);H.c8(J,E);E.offset(-P,-D);E.YM(p,v,w,y)}else G?(E.za(G),E.YM(p,v,w,y)):E.QM(this.Kg(),-this.O(),-this.P());z.width=p;z.height=v;z.angle=u;return E}GH(){this.b7();const p=this.Vt;null!==p&&(p.width=NaN)}XE(p,v){p=
Math.floor(p);v=Math.floor(v);if(!this.Ga().Pb().ega)throw Error("object does not support mesh");this.iA();this.mi={TM:e.C(e.ga.sP,p,v),NX:e.C(e.ga.sP,p,v),tM:null}}Sg(){return null!==this.mi}hk(){if(!this.Sg())throw Error("no mesh");return this.mi.TM}HO(){if(!this.Sg())throw Error("no mesh");return this.mi.NX}rA(p){this.nf(65536,p)}dP(){return 0!==(this.Ba&65536)}b7(){this.nf(131072,!0)}G$(p){const v=this.mi.TM,u=Math.min(v.f1(),0),w=Math.min(v.g1(),0),y=Math.max(v.c1(),1),z=Math.max(v.d1(),1),E=
p.width(),G=p.height();p.offsetLeft(u*E);p.offsetTop(w*G);p.Lha((y-1)*E);p.Kha((z-1)*G);this.sf=v.e1()}iA(){this.mi&&(this.mi.TM.j(),this.mi.NX.j(),this.mi=null,this.GH())}OQ(p,v,u){p=Math.floor(p);v=Math.floor(v);var w=u.mode||"absolute";if(!n.has(w))throw Error("invalid mode");w="relative"===w;let y=u.x,z=u.y;const E=u.Jy;let G="number"===typeof u.RX?u.RX:w?0:-1;u="number"===typeof u.SX?u.SX:w?0:-1;if(!this.Sg())return!1;const P=this.hk(),D=P.Kr(p,v);if(null===D)return!1;let H=!1;"number"===typeof E&&
D.Sa()!==E&&(D.Ce(E),H=!0);w&&(y+=p/(P.Pk-1),z+=v/(P.el-1));-1!==G||w?(w&&(G+=p/(P.Pk-1)),G=e.fa(G,0,1)):G=D.Dh;-1!==u||w?(w&&(u+=v/(P.el-1)),u=e.fa(u,0,1)):u=D.Fh;if(D.O()===y&&D.P()===z&&D.Dh===G&&D.Fh===u)return H;D.hf(y);D.jf(z);D.aH(G);D.bH(u);this.GH();return!0}Il(){return this.R.Il()}Au(p,v){return this.hd().bg(p,v)&&this.Kg().bg(p,v)?this.Il()?void 0:this.Nz()?this.Hl().bg(p-this.O(),v-this.P()):!0:!1}Eaa(){return 0!==(this.Ba&16)}UT(){if(this.Eaa()&&this.Ti()&&0===(this.Ba&256)){var p=this.hd(),
v=this.K.DB,u=this.CB;b.set(v.aj(p.X),v.bj(p.S),v.aj(p.ca),v.bj(p.Z));u.gd(b)||(p=this.R,u===k?(v.Ul(p,null,b),this.CB=e.C(e.Rect,b)):(v.Ul(p,u,b),u.za(b)),this.Ba&=-17)}}dT(){const p=this.CB;p!==k&&(this.K.DB.Ul(this.R,p,null),this.CB=k)}zea(){const p=this.ka();if(p.Pp()&&0===(this.Ba&256)){var v=p.Kt,u=this.hd(),w=this.Dx;b.set(v.aj(u.X),v.bj(u.S),v.aj(u.ca),v.bj(u.Z));w.gd(b)||(u=this.R,w===g?(v.Ul(u,null,b),this.Dx=e.C(e.Rect,b)):(v.Ul(u,w,b),w.za(b)),p.d7())}}eT(){const p=this.Dx;p!==g&&(this.ka().Kt.Ul(this.R,
p,null),this.Dx=g)}G8(){const p=this.R,v=this.Uk,u=v.H;u.length&&u.Se(-1)===p||(v.Yp(p,!1),v.fh(p,!1),this.b.U())}E8(){const p=this.R,v=this.Uk,u=v.H;u.length&&u[0]===p||(v.Yp(p,!1),v.jca(p),this.b.U())}F8(p){const v=this.R,u=this.Uk;if(u.Ac()!==p.Ac())throw Error("layer from different layout");p!==u&&(u.Yp(v,!0),this.bw(p),p.fh(v,!0),this.b.U())}D8(p,v){const u=this.R;let w=!1;const y=this.Uk;if(p.ic!==u.ic){var z=p.A();if(!z)throw Error("expected world instance");z=z.ka();y.La()!==z.La()&&(y.Yp(u,
!0),this.bw(z),z.fh(u,!0),w=!0);p=z.Q3(u,p,!!v);(w||p)&&this.b.U()}}Eda(p){this.nf(64,p)}Zu(){return 0!==(this.Ba&64)}ua(p){const v={x:this.O(),y:this.P(),w:this.L(),h:this.M(),l:this.ka().pb,zi:this.jk()};0!==this.Sa()&&(v.ze=this.Sa());0!==this.na()&&(v.a=this.na());this.qn()||(v.c=this.Bb.toJSON());.5!==this.$j()&&(v.oX=this.$j());.5!==this.ak()&&(v.oY=this.ak());0!==this.Ni()&&(v.bm=this.Ni());this.jd()||(v.v=this.jd());this.Ti()||(v.ce=this.Ti());this.SO()&&(v.be=this.SO());this.Ie&&(v.fx=this.Ie.ua());
const u=0!==(this.Ba&32);u&&(v.sfi=u);this.Mj&&(v.sft=[...this.Mj].join(" "));this.Sb&&"visual-state"!==p&&(v.sgi=this.Sb.ua());this.Sg()&&(v.mesh=this.hk().Kc());return v}QA(p){"visual-state"!==p&&this.Ica()}Aa(p,v){t=!1;this.hf(p.x);this.jf(p.y);this.Zd(p.w);this.Be(p.h);this.aB(p.zi);this.Ce(p.hasOwnProperty("ze")?p.ze:0);this.Wc(p.hasOwnProperty("a")?p.a:0);p.hasOwnProperty("c")?c.cp(p.c):p.hasOwnProperty("o")?(c.Wm(this.Bb),c.So=p.o):c.ep(1,1,1,1);this.WA(c);this.ms(p.hasOwnProperty("oX")?p.oX:
.5);this.ns(p.hasOwnProperty("oY")?p.oY:.5);this.cf(p.hasOwnProperty("bm")?p.bm:0);this.Od(p.hasOwnProperty("v")?p.v:!0);this.wv(p.hasOwnProperty("ce")?p.ce:!0);this.p6(p.hasOwnProperty("be")?p.be:!1);this.XG(p.hasOwnProperty("sfi")?p.sfi:!1,p.hasOwnProperty("sft")?p.sft:"");this.Ie&&p.hasOwnProperty("fx")&&this.Ie.Aa(p.fx);if(p.hasOwnProperty("sgi")&&"visual-state"!==v){this.zH(null);const u=this.Sb,w=p.sgi;u.Aa(w);const y=this.I().Ib(),z=()=>{y.removeEventListener("afterload",z);0===(this.Ba&256)&&
u.Wp(w)};y.addEventListener("afterload",z)}p.hasOwnProperty("mesh")?(p=p.mesh,this.XE(p.cols,p.rows),this.hk().Dc(p)):this.iA();this.ab();t=!0;this.Fs()}}}
{"use strict";const e=self.B;e.eN=class extends e.oa{constructor(b,a){super();const d=b.I(),c=d.Sq,f=d.Oh(a[1]);c.E1(f)||c.sZ(a);this.b=d;this.K=b;this.jj=c.n0(f);this.Qa=null;this.oC=f.Instance;this.pb=a[2];this.Ja=a[0];this.ix=this.b.Pi(a[3]);this.Qa=e.C(f.De,this);this.Zb()}static Ya(b,a){return e.C(e.eN,b,a)}j(){this.jj=this.b=null;this.Qa.j();this.oC=this.Qa=null}Zb(){this.Qa.Zb()}I(){return this.b}J(){return this.K}gn(){return this.jj}Da(){return this.Ja}Pi(){return this.ix}}}
{"use strict";const e=self.B,b=self.NO;e.Ly=class extends e.oa{constructor(a){super();this.b=a.Sc;this.$c=a.$L;this.jj=this.$c.gn();this.R=a.instance;this.Za=a.index;this.He=this.ra=null;this.jj.fh(this.R)}j(){this.He&&(this.He.$v(),this.He=null);this.jj.Yp(this.R);this.ra.j();this.R=this.jj=this.$c=this.b=this.He=this.ra=null}BA(a){if(this.ra)throw Error("already got sdk instance");this.ra=e.C(this.$c.oC,this,a);this.waa()}I(){return this.b}Mh(){return this.$c}gn(){return this.jj}Xh(){return this.Za}Kc(){return this.ra.Kc()}Dc(a){return this.ra.Dc(a)}static fH(a,
d){var c=a.R,f=d.R;const l=c.J().La(),g=f.J().La();if(l!==g)return l-g;c=c.bW;f=f.bW;return c!==f?c-f:a.tB.Xh()-d.tB.Xh()}waa(){const a=this.ra.Rg(),d=a||b;b.dj(this);this.He=new d;b.dj(null);if(a&&!(this.He instanceof b))throw new TypeError(`script interface class '${a.name}' does not extend the right base class '${b.name}'`);}Ez(){return this.He}}}
{"use strict";const e=self.B;e.ul=class extends e.oa{constructor(b,a){super();this.dc=b;this.ih=[];this.fj=[];this.RB=new Map;this.ei=[];this.Ht=!0;for(const d of a)b=e.C(e.IN,this,d,this.ih.length),this.ih.push(b),this.RB.set(b.Da().toLowerCase(),b),3<=d.length&&this.ei.push(this.UH(d[2]));this.I().L8(this)}j(){e.G(this.ih);e.G(this.fj);this.RB.clear();e.G(this.ei);this.dc=null}q5(b){if(b.length){this.ih=b.concat(this.ih);for(const a of b)this.RB.set(a.Da().toLowerCase(),a);for(let a=0,d=this.ih.length;a<
d;++a)this.ih[a].Hda(a)}}UH(b){b=b.slice(0);for(let a=0,d=b.length;a<d;++a){const c=b[a];if(Array.isArray(c)){const f=e.C(e.lb);f.cp(c);b[a]=f}}return b}I(){return this.dc.I()}On(){e.G(this.fj);let b=!0;for(const a of this.ih)a.Rb&&(this.fj.push(a),a.sb.Ht||(b=!1));this.Ht=b}Jg(){return this.ih}A1(){return 0<this.ih.length}Bl(b){return this.RB.get(b.toLowerCase())||null}$N(b){b=Math.floor(+b);if(0>b||b>=this.ih.length)throw new RangeError("invalid effect type index");return this.ih[b]}cv(b){return this.$N(b).Rb}HQ(b,
a){this.$N(b).kA(a)}Zu(){return 0<this.fj.length}Mg(b){return this.ei[b]}static f6(b){return b&&b instanceof e.lb?{t:"color",v:b.toJSON()}:b}static D3(b){if("object"===typeof b){if("color"===b.t){const a=e.C(e.lb);a.cp(b.v);return a}throw Error("invalid effect parameter type");}return b}static wQ(b){return b.map(e.ul.f6)}static nP(b){return b.map(e.ul.D3)}Kc(){return this.ih.map(b=>({name:b.Da(),active:b.Rb,params:e.ul.wQ(this.ei[b.La()])}))}Dc(b){for(const a of b)if(b=this.Bl(a.name))b.kA(a.active),
this.ei[b.La()]=e.ul.nP(a.params);this.On()}}}
{"use strict";const e=self.B;e.IN=class extends e.oa{constructor(b,a,d){super();this.Wa=b;this.tf=a[0];this.Ja=a[1];this.Za=d;this.sb=null;this.Rb=!0}j(){this.sb=this.Wa=null}bZ(b){b=e.C(e.IN,b,[this.tf,this.Ja],-1);b.sb=this.sb;b.Rb=this.Rb;return b}yS(b){b=b.yO(this.tf);if(!b)throw Error("failed to find shader program '"+this.tf+"'");this.sb=b}Da(){return this.Ja}Hda(b){this.Za=b}La(){return this.Za}I(){return this.Wa.I()}kA(b){this.Rb=!!b}u0(){const b=[];for(let a=0,d=this.sb.nr.length;a<d;++a){const c=
this.sb.Az(a);if("float"===c||"percent"===c)b.push(0);else if("color"===c)b.push(e.C(e.lb,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return b}}}
{"use strict";const e=self.B;e.M2=class extends e.oa{constructor(b,a){super();this.R=b;this.kga=a;this.Wa=b.J().Wa;this.bq=[];this.fj=[];this.Ht=!0;this.ei=[];for(const d of this.Wa.Jg())this.bq.push(!0);this.On()}j(){e.G(this.bq);e.G(this.fj);e.G(this.ei);this.Wa=this.R=null}Raa(b){for(const a of b)this.ei.push(this.UH(a))}UH(b){b=b.slice(0);for(let a=0,d=b.length;a<d;++a){const c=b[a];if(Array.isArray(c)){const f=e.C(e.lb);f.cp(c);b[a]=f}}return b}B3(){for(const b of this.Wa.Jg())this.ei.push(b.u0())}I(){return this.R.I()}On(){e.G(this.fj);
const b=this.Wa.Jg(),a=this.fj,d=this.bq;let c=!0;for(let f=0,l=b.length;f<l;++f)if(d[f]){const g=b[f];a.push(g);g.sb.Ht||(c=!1)}this.Ht=c;this.kga.Eda(!!a.length)}Mg(b){return this.ei[b]}cv(b){return this.bq[b]}HQ(b,a){this.bq[b]=!!a}Jg(){return this.Wa.Jg()}ua(){return this.Wa.Jg().map(b=>({name:b.Da(),active:this.bq[b.La()],params:e.ul.wQ(this.ei[b.La()])}))}Aa(b){for(const a of b)if(b=this.Wa.Bl(a.name))this.bq[b.La()]=a.active,this.ei[b.La()]=e.ul.nP(a.params);this.On()}}}
{"use strict";const e=self.B,b=[],a=e.C(e.hp),d=e.C(e.hp),c=e.C(e.ld);e.C(e.Rect);e.C(e.Rect);let f=null,l=null,g=null;e.dZ=class extends e.oa{constructor(k){super();this.b=k;this.sD=[]}j(){this.b=null}cN(k,n,q){for(const [t,p]of this.sD){let v;if(k===t)v=p;else if(k===p)v=t;else continue;v.Ar(n)&&(q.includes(v)||q.push(v))}}qN(k,n){if(!this.sD.length)return!1;for(const [q,t]of this.sD)if(k===q&&n===t||k===t&&n===q)return!0;return!1}rN(){e.G(this.sD)}kH(k,n){if(!k||!n||k===n)return!1;k=k.A();n=n.A();
if(!k.Ti()||!n.Ti())return!1;const q=k.ka(),t=n.ka();return q.p3(t)?this.nea(k,n):this.mea(k,n)}nea(k,n){if(!k.hd().lE(n.hd())||!k.Kg().oM(n.Kg())||k.Il()&&n.Il())return!1;if(k.Il())return this.lH(k,n);if(n.Il())return this.lH(n,k);if(!k.Nz()&&!n.Nz())return!0;const q=k.Hl(),t=n.Hl();return q.qy(t,n.O()-k.O(),n.P()-k.P())}mea(k,n){var q=k.Il(),t=n.Il();if(q&&!t)return this.fR(k,n);if(t&&!q)return this.fR(n,k);if(t||q)return!1;t=k.ka();q=n.ka();a.za(k.Hl());d.za(n.Hl());var p=a.ge;for(let v=0,u=p.length;v<
u;v+=2){const w=v+1,y=p[w],[z,E]=t.Dp(p[v]+k.O(),y+k.P());p[v]=z;p[w]=E}k=d.ge;for(let v=0,u=k.length;v<u;v+=2){t=v+1;p=k[t];const [w,y]=q.Dp(k[v]+n.O(),p+n.P());k[v]=w;k[t]=y}a.PM();d.PM();return a.qy(d,0,0)}fR(k,n){var q=k.ka(),t=n.ka();f||(f=e.C(e.hp));l||(l=e.C(e.Rect));g||(g=e.C(e.ld));var p=n.O(),v=n.P();const [u,w]=t.Dp(p,v),[y,z]=q.Hg(u,w);q=y-p;v=z-v;l.za(n.hd());l.offset(q,v);if(!k.hd().lE(l))return!1;g.za(n.Kg());g.offset(q,v);if(!k.Kg().oM(g))return!1;f.za(n.Hl());t=f.ge;for(let E=0,G=
t.length;E<G;E+=2)p=E+1,t[E]+=q,t[p]+=v;f.PM();return this.lH(k,n,y,z,f,l,g)}lH(k,n,q,t,p,v,u){v=void 0!==v?v:n.hd();const w=k.O(),y=k.P();var z=k.Ga().ra;q=void 0!==q?q:n.O();t=void 0!==t?t:n.P();k=n.Nz();u=void 0!==u?u:n.Kg();z.jna(v,b);for(let P=0,D=b.length;P<D;++P){var E=b[P];z=E.nna();if(v.iha(z,w,y)&&(c.Uj(z),c.offset(w,y),c.oM(u)))if(k){var G=void 0!==p?p:n.Hl();if(E=E.k1()){if(E.qy(G,q-(w+z.X),t-(y+z.S)))return e.G(b),!0}else if(a.QM(c,0,0),a.qy(G,q,t))return e.G(b),!0}else if(G=E.k1()){if(a.QM(u,
0,0),G.qy(a,-(w+z.X),-(y+z.S)))return e.G(b),!0}else return e.G(b),!0}e.G(b);return!1}us(k,n,q,t){const p=k.aa();var v=this.b.Ob();if(!v)throw Error("cannot call outside event");v=v.fe;if(p.fc){t||(p.Ee(!1),e.G(p.H));for(var u of k.ta()){var w=u.A(),y=w.ka();const [z,E]=y.Hg(n,q,w.lg());if(w.Au(z,E)){if(t)return!1;p.Xp(u)}else v&&p.Sn(u)}}else{u=v?p.uc:p.H;w=0;for(let z=0,E=u.length;z<E;++z){y=u[z];const G=y.A(),P=G.ka(),[D,H]=P.Hg(n,q,G.lg());if(G.Au(D,H)){if(t)return!1;v?p.Xp(y):u[w++]=y}else v&&
(u[w++]=y)}t||(u.length=w)}k.qc();return t?!0:p.SF()}nF(k,n,q,t){k=k?1!==k.se||1!==k.te:!1;if(n.bb)for(const p of n.sq)k||p.OI?e.Vm(t,p.ta()):(p.RT(),p.DB.hA(q,t));else k||n.OI?e.Vm(t,n.ta()):(n.RT(),n.DB.hA(q,t))}}}
{"use strict";const e=self.B;e.K7=class extends e.oa{constructor(b,a){super();this.dJ=b;this.cJ=a;this.lj=e.C(e.jv)}j(){this.lj.j();this.lj=null}hn(b,a,d){let c=this.lj.ea(b,a);return c?c:d?(c=e.C(e.w1,this,b,a),this.lj.Set(b,a,c),c):null}aj(b){b=Math.floor(b/this.dJ);return isFinite(b)?b:0}bj(b){b=Math.floor(b/this.cJ);return isFinite(b)?b:0}Ul(b,a,d){if(a)for(let c=a.X,f=a.ca;c<=f;++c)for(let l=a.S,g=a.Z;l<=g;++l){if(d&&d.bg(c,l))continue;const k=this.hn(c,l,!1);k&&(k.Sh(b),k.Bp()&&this.lj.kp(c,
l))}if(d)for(let c=d.X,f=d.ca;c<=f;++c)for(let l=d.S,g=d.Z;l<=g;++l)a&&a.bg(c,l)||this.hn(c,l,!0).ZF(b)}hA(b,a){let d=this.aj(b.X);const c=this.bj(b.S),f=this.aj(b.ca);b=this.bj(b.Z);if(isFinite(f)&&isFinite(b))for(;d<=f;++d)for(let l=c;l<=b;++l){const g=this.hn(d,l,!1);g&&g.bF(a)}}}}
{"use strict";const e=self.B;e.w1=class extends e.oa{constructor(b,a,d){super();this.$=a;this.V=d;this.H=e.C(e.KE)}j(){this.H.j();this.H=null}Bp(){return this.H.Bp()}ZF(b){this.H.yc(b)}Sh(b){this.H.kp(b)}bF(b){e.Vm(b,this.H.jF())}}}{"use strict";const e=self.B;e.Bra=class{constructor(){this.rect=new e.Rect;this.ly=0}Set(b,a,d,c){this.rect.set(b,a,d,c);this.rect.normalize();this.ly=0;return this}}}
{"use strict";const e=self.B,b=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),a=new Set(["high","low"]),d=self.ol.Zo,c=d.create(),f=e.C(e.ld),l=e.C(e.Rect);e.PE=class extends e.oa{constructor(g){super();this.b=g;this.Jk=null;this.nV=!1;this.Sj=this.kb=null;this.GJ="high-performance";this.ao=this.$n=this.ai=this.bi=this.ad=this.nd=this.hl=this.il=0;this.Ws=!0;this.sj=this.Mk=this.BL=0;this.uU=this.IU="letterbox-scale";this.ffa=this.efa=0;this.KB=d.create();
this.zj=this.TL="high";this.Cq=!1;this.qw=[];this.VD=new Set;this.wD=self.C3_Shaders;this.ug=this.io=0;this.bt=NaN;this.gC=null;this.sK=new Map;this.Gw=NaN;this.aE=new Map;this.zD="";this.oL=1;this.uW=e.C(e.Rect);this.pL="";this.vW=this.Mx=null;this.ox=0;this.Qe=-1;this.so=0;this.yK=k=>this.so=k.progress;this.Vf=null;this.Wf={vy:null,yy:null,Iy:null};this.sL=this.yW=this.tL=0;this.Oj="fade-in";this.rL=null;this.xW=new Promise(k=>this.rL=k)}Cda(g){this.GJ=g}aea(g){this.nV=!!g}async Ff(g){this.Jk=g.canvas;
this.b.Gi("runtime","window-resize",q=>this.gI(q));this.b.Gi("runtime","fullscreenchange",q=>this.Gba(q));this.b.Gi("runtime","fullscreenerror",q=>this.Hba(q));this.Jk.addEventListener("webglcontextlost",q=>this.Zv(q));this.Jk.addEventListener("webglcontextrestored",()=>this.eI());this.Cq=!!g.isFullscreen;var k=navigator.gpu&&this.nV;let n=!1;if(k)try{await this.CS(!0)}catch(q){this.Sj=null}if(!this.zb())try{await this.BS(!0)}catch(q){this.kb=null}this.zb()||(n=!0);if(!this.zb()&&k)try{await this.CS(!1)}catch(q){this.Sj=
null}if(!this.zb())try{await this.BS(!1)}catch(q){this.kb=null}k=this.zb();if(!k)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");k.K6(n);this.rc(g.windowInnerWidth,g.windowInnerHeight,!0);this.Sj?await this.zaa():this.kb&&await this.yaa();k.TG(this.Ws);k.zk()&&(this.bt=0);g=!1;for(const q of this.b.II){for(const t of q.Jg())t.yS(k),t.sb.by&&(g=!0);q.On()}this.b.Zda(g)}async CS(g){g={powerPreference:this.GJ,depth:this.b.Qm,failIfMajorPerformanceCaveat:g};this.Sj=e.C(e.ga.cwa);
await this.Sj.Ya(this.Jk,g)}async BS(g){g={powerPreference:this.GJ,hX:!0,depth:this.b.Qm,failIfMajorPerformanceCaveat:g};"Android"===e.kd.Zr&&"Chromium"===e.kd.Ny&&75>e.kd.NE&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),g.sX=1);"standard"===this.b.Ns?g.alpha=!0:(g.alpha=!1,g.sM=!0);this.kb=e.C(e.ga.y8,this.Jk,g);await this.kb.Pz()}async zaa(){if(this.wD){const g=[];for(const [k,n]of Object.entries(this.wD))g.push(this.Sj.YE(k,
n.yia,e.ga.dwa.qz()));await Promise.all(g)}}async yaa(){if(this.wD){const g=[];for(const [k,n]of Object.entries(this.wD))n.src=n.bha,g.push(this.kb.YE(n,e.ga.Kv.qz(),k));await Promise.all(g);this.kb.T5();this.kb.Vh()}this.kb.zk()&&(this.gC=e.C(e.ga.tR,this.kb))}j(){this.Jk=this.kb=this.b=null}gI(g){const k=this.b,n=g.devicePixelRatio;k.Le&&(self.devicePixelRatio=n);k.yda(n);this.Cq=!!g.isFullscreen;this.rc(g.innerWidth,g.innerHeight);k.U();k.Cb&&(k.Pr()||self.Gg.ooa())&&k.yG()}Gba(g){this.Cq=!!g.isFullscreen;
this.rc(g.innerWidth,g.innerHeight,!0);this.b.U()}Hba(g){this.Cq=!!g.isFullscreen;this.rc(g.innerWidth,g.innerHeight,!0);this.b.U()}rc(g,k,n=!1){g=Math.floor(g);k=Math.floor(k);if(0>=g||0>=k)throw Error("invalid size");if(this.il!==g||this.hl!==k||n){this.il=g;this.hl=k;n=this.Ou();"letterbox-scale"===n?this.d9(g,k):"letterbox-integer-scale"===n?this.c9(g,k):"off"===n?this.a9(g,k):this.b9(g,k);this.xea(n);this.Jk.width=this.bi;this.Jk.height=this.ai;this.b.Ol("canvas","update-size",{marginLeft:this.$n,
marginTop:this.ao,styleWidth:this.nd,styleHeight:this.ad});g=this.zb();g.rc(this.bi,this.ai,!0);for(var q of this.qw)g.MZ(q);e.G(this.qw);g.yu(this.KB,this.Lg()/this.hg());q=this.b.cb;q.Kp();q.Jp()}}d9(g,k){const n=this.b.yl(),q=this.b.wh,t=this.b.vh,p=q/t;g/k>p?(this.nd=Math.round(k*p),this.ad=k,this.$n=Math.floor((g-this.nd)/2),this.ao=0):(this.nd=g,this.ad=Math.round(g/p),this.$n=0,this.ao=Math.floor((k-this.ad)/2));this.bi=Math.round(this.nd*n);this.ai=Math.round(this.ad*n);this.b.Hv(q,t)}c9(g,
k){const n=this.b.yl();1!==n&&(g+=1,k+=1);const q=this.b.wh,t=this.b.vh;var p=q/t;p=g/k>p?k*p*n/q:g/p*n/t;1<p?p=Math.floor(p):1>p&&(p=1/Math.ceil(1/p));this.bi=Math.round(q*p);this.ai=Math.round(t*p);this.nd=this.bi/n;this.ad=this.ai/n;this.$n=Math.max(Math.floor((g-this.nd)/2),0);this.ao=Math.max(Math.floor((k-this.ad)/2),0);this.b.Hv(q,t)}b9(g,k){const n=this.b.yl();this.nd=g;this.ad=k;this.bi=Math.round(this.nd*n);this.ai=Math.round(this.ad*n);this.ao=this.$n=0;g=this.zl();this.b.Hv(this.nd/g,
this.ad/g)}a9(g,k){const n=this.b.yl();this.nd=this.b.Zf;this.ad=this.b.Yf;this.bi=Math.round(this.nd*n);this.ai=Math.round(this.ad*n);this.Cq?(this.$n=Math.floor((g-this.nd)/2),this.ao=Math.floor((k-this.ad)/2)):this.ao=this.$n=0;this.b.Hv(this.b.Zf,this.b.Yf)}xea(g){if("high"===this.TL)this.Mk=this.bi,this.sj=this.ai,this.zj="high";else{let n;if("off"===this.Ou()){var k=this.b.Zf;n=this.b.Yf}else k=this.b.wh,n=this.b.vh;this.bi<k&&this.ai<n?(this.Mk=this.bi,this.sj=this.ai,this.zj="high"):(this.Mk=
k,this.sj=n,this.zj="low","scale-inner"===g?(g=k/n,k=this.il/this.hl,k<g?this.Mk=this.sj*k:k>g&&(this.sj=this.Mk/k)):"scale-outer"===g&&(g=k/n,k=this.il/this.hl,k>g?this.Mk=this.sj*k:k<g&&(this.sj=this.Mk/k)))}}I6(g){if(!b.has(g))throw Error("invalid fullscreen mode");this.IU=g;g=this.b.cb;g.Kp();g.Jp()}vz(){return this.IU}y6(g){if(!b.has(g))throw Error("invalid fullscreen mode");this.uU=g;g=this.b.cb;g.Kp();g.Jp()}Ou(){return this.Cq?this.uU:this.vz()}IQ(g){if(!a.has(g))throw Error("invalid fullscreen scaling quality");
this.TL=g;this.b.cb.Kp()}static aS(g){switch(g){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}Lg(){return this.Mk}hg(){return this.sj}TG(g){this.Ws=!!g}Yda(g){this.BL=g}i3(){return this.zb().rn()}Zv(g){console.log("[Construct 3] WebGL context lost");g.preventDefault();this.qw=[];this.VD.clear();this.kb.Nl();this.b.Zv()}async eI(){await this.kb.rG();
await this.uwa();for(const g of this.b.II)for(const k of g.Jg())k.yS(this.kb);await this.b.eI();console.log("[Construct 3] WebGL context restored")}xp(){return this.kb}Yu(){return this.Sj}zb(){return this.Sj||this.kb}mn(){return"low"===this.zj?1/this.b.yl():this.zl()}zl(){const g=this.Ou();if("off"===g||"crop"===g)return 1;const k=this.b.wh,n=this.b.vh,q=k/n,t=this.bi/this.ai;return"scale-inner"!==g&&t>q||"scale-inner"===g&&t<q?this.ad/n:this.nd/k}FQ(g,k,n){k=k||this.Mk;n=n||this.sj;const q=k/2+this.efa,
t=n/2+this.ffa;{let p=this.KB;if(k!==this.Mk||n!==this.sj)g.yu(c,k/n),p=c;g.qs(p)}k=g.xu(q,t,100*this.b.yl(),q,t,n||this.sj);g.ls(k)}t6(g){var k=this.nd/2;const n=this.ad/2;g.qs(this.KB);k=g.xu(k,n,100,k,n);g.ls(k)}np(){return this.$n}op(){return this.ao}Ku(g){g.depth=this.b.Qm;const k=this.qw,n=k.findIndex(t=>t.V2(g));let q;-1!==n?(q=k[n],k.splice(n,1)):q=this.zb().xZ(g);this.VD.add(q);return q}Dn(g){if(!this.VD.has(g))throw Error("render target not in use");this.VD.delete(g);this.qw.push(g)}*bE(){for(const g of this.b.cb.Cy())for(const k of g.nc){const n=
this.sK.get(k);n&&(yield n)}}iO(g){if(!this.zb().zk())return null;let k=this.sK.get(g);k||(k={name:g.Da(),UM:e.C(e.ga.tR,this.kb),dE:0,rX:0},this.sK.set(g,k));return k.UM}uea(){const g=this.zb();if(g.zk()&&0===this.ug){this.ug=g.hi;this.Gw=NaN;for(const k of this.bE())k.dE=NaN}}Bea(){this.kb&&this.kb.zk()&&this.Cea();this.Sj&&this.Sj.zk()&&this.Dea()}Cea(){if(isNaN(this.Gw)&&(this.Gw=this.gC.dO(this.io,this.ug),!isNaN(this.Gw))){if(this.b.Cb)for(const g of this.bE())if(g.dE=g.UM.dO(this.io,this.ug),
isNaN(g.dE))return;this.gC.EN(this.ug);this.bt=Math.min(this.Gw,1);if(this.b.Cb){for(const g of this.bE())g.UM.EN(this.ug),g.rX=Math.min(g.dE,1);self.Gg.l8(this.bt,[...this.bE()])}this.io=this.ug;this.ug=0}}Dea(){if(0!==this.ug){for(var g=this.io;g<this.ug;++g){var k=this.aE.get(g);if(k&&!k.Oz())return}k=this.b.Tb();g=e.K3(k.nc.length+1);for(var n=this.io;n<this.ug;++n){var q=this.aE.get(n);if(q){q=q.Dz();for(let t=0,p=Math.min(g.length,q.length/2);t<p;++t){const v=q[2*t],u=q[2*t+1];g[t]=0===Number(v)||
0===Number(u)?NaN:g[t]+Number(u-v)/1E9}}}this.bt=e.fa(g[0],0,1);if(this.b.Cb){n=[];k=k.nc;for(let t=0,p=Math.min(k.length,g.length-1);t<p;++t)n.push({name:k[t].Da(),rX:e.fa(g[t+1],0,1)});self.Gg.l8(this.bt,n)}for(g=this.io;g<this.ug;++g)this.aE.delete(g);this.io=this.ug;this.ug=0}}W8(g){this.aE.set(this.Sj.hi,g)}xz(){return this.bt}bR(g,k,n,q,t,p){this.zD=g;this.oL=k;this.uW.Fi(n,q,t,p);return this.Mx?this.Mx:this.Mx=new Promise(v=>{this.vW=v})}oba(){if(this.zD){var g=this.Jk,k=this.uW,n=e.fa(Math.floor(k.X),
0,g.width),q=e.fa(Math.floor(k.S),0,g.height),t=k.width();t=0===t?g.width-n:e.fa(Math.floor(t),0,g.width-n);k=k.height();k=0===k?g.height-q:e.fa(Math.floor(k),0,g.height-q);(0!==n||0!==q||t!==g.width||k!==g.height)&&0<t&&0<k&&(g=e.Ff(t,k),g.getContext("2d").drawImage(this.Jk,n,q,t,k,0,0,t,k));e.zu(g,this.zD,this.oL).then(p=>{this.pL=URL.createObjectURL(p);this.Mx=null;this.vW(this.pL)});this.zD="";this.oL=1}}v2(g){this.kb&&(2===g?(this.Vf=e.C(e.ga.iQ,this.zb()),this.Vf.Q6(),this.Vf.F6(),this.Vf.G6(),
this.Vf.M6(),this.Vf.z7(),this.Vf.rc(300,200)):0===g?(g=this.b.ut)&&g.zn(this.kb).catch(k=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",k)):4===g&&(this.cba().then(k=>{"done"===this.Oj?this.kb.Ve(k):this.Wf.vy=k}).catch(k=>console.warn("Failed to load splash image: ",k)),this.HS("splash-images/splash-poweredby-512.png").then(k=>{"done"===this.Oj?this.kb.Ve(k):this.Wf.yy=k}).catch(k=>console.warn("Failed to load splash image: ",k)),this.HS("splash-images/splash-website-512.png").then(k=>
{"done"===this.Oj?this.kb.Ve(k):this.Wf.Iy=k}).catch(k=>console.warn("Failed to load splash image: ",k))))}async cba(){var g=(new URL("splash-images/splash-logo.svg",this.b.lF())).toString();g=await e.xl(g);g=await this.b.y5(g);return await this.kb.Xy(g,{wy:"high"})}async HS(g){g=(new URL(g,this.b.lF())).toString();g=await e.xl(g);return await this.kb.Xy(g,{wy:"high"})}VF(){this.b.Ol("runtime","hide-cordova-splash")}Q7(){this.ox=Date.now();this.b.Ib().addEventListener("loadingprogress",this.yK);this.Qe=
requestAnimationFrame(()=>this.UR());3!==this.b.tt&&this.VF()}async R_(){if(this.kb){this.so=1;var g=this.b.tt;4===g&&await this.xW;this.xW=this.rL=null;-1!==this.Qe&&(cancelAnimationFrame(this.Qe),this.Qe=-1);this.b.Ib().removeEventListener("loadingprogress",this.yK);this.yK=null;this.Vf&&(this.Vf.j(),this.Vf=null);this.b.D5();this.kb.Nn();this.Wf.vy&&(this.kb.Ve(this.Wf.vy),this.Wf.vy=null);this.Wf.yy&&(this.kb.Ve(this.Wf.yy),this.Wf.yy=null);this.Wf.Iy&&(this.kb.Ve(this.Wf.Iy),this.Wf.Iy=null);
this.kb.Ty();this.kb.Hu();this.Oj="done";this.io=this.kb.hi;3===g&&this.VF()}}UR(){if(-1!==this.Qe){var g=this.kb;if(g){g.Nn();this.Qe=-1;var k=this.b.Ab.JJ,n=this.b.tt;3!==n&&(this.t6(g),g.Ty(),g.gs(),g.Vh(),g.gf(null));if(0===n)this.y$(k);else if(1===n)this.EA(k,120,0);else if(2===n)this.x$(k);else if(3!==n)if(4===n)this.z$(k);else throw Error("invalid loader style");g.Hu();this.Qe=requestAnimationFrame(()=>this.UR())}}}x$(g){g?this.Vf.AQ(1,0,0):this.Vf.AQ(.6,.6,.6);this.Vf.rs(Math.round(100*this.so)+
"%");g=this.nd/2;const k=this.ad/2;f.IX(g-150,k-100,g+150,k+100);this.kb.gf(this.Vf.Ub());this.kb.Pl(f,this.Vf.Ph())}EA(g,k,n){const q=this.kb;q.MG();g?q.Nf(1,0,0,1):q.Nf(.118,.565,1,1);g=this.nd/2;const t=this.ad/2,p=k/2;l.Fi(g-p,t-4+n,Math.floor(k*this.so),8);q.Rect(l);l.Fi(g-p,t-4+n,k,8);l.offset(-.5,-.5);l.kE(.5,.5);q.Nf(0,0,0,1);q.iP(l);l.kE(1,1);q.Nf(1,1,1,1);q.iP(l)}y$(g){var k=this.b.ut;if(k)if(k=k.Ub()){var n=k.L(),q=k.M(),t=this.nd/2,p=this.ad/2,v=n/2;q/=2;f.IX(t-v,p-q,t+v,p+q);this.kb.gf(k);
this.kb.ld(f);this.EA(g,n,q+16)}else this.EA(g,120,0);else this.EA(g,120,0)}z$(g){const k=this.kb,n=this.Wf.vy,q=this.Wf.yy,t=this.Wf.Iy,p=Date.now();0===this.tL&&(this.ox=p);const v=this.b.Vr()||this.b.vfa&&!this.b.W2(),u=v?0:200,w=v?0:3E3;let y=1;"fade-in"===this.Oj?y=Math.min((p-this.ox)/300,1):"fade-out"===this.Oj&&(y=Math.max(1-(p-this.sL)/300,0));k.MG();k.Nf(.231*y,.251*y,.271*y,y);l.set(0,0,this.nd,this.ad);k.Rect(l);const z=Math.ceil(this.nd),E=Math.ceil(this.ad);let G;256<this.ad?(k.Nf(.302*
y,.334*y,.365*y,y),G=Math.max(.005*E,2),l.Fi(0,.8*E-G/2,z,G),k.Rect(l),g?k.Nf(y,0,0,y):k.Nf(.161*y,.953*y,.816*y,y),g=z*this.so,l.Fi(.5*z-g/2,.8*E-G/2,g,G),k.Rect(l),k.Nf(y,y,y,y),k.Vh(),q&&(g=1.5*e.fa(.22*E,105,.6*z),G=g/8,l.Fi(.5*z-g/2,.2*E-G/2,g,G),k.gf(q),k.Rect(l)),n&&(G=g=Math.min(.395*E,.95*z),l.Fi(.5*z-g/2,.485*E-G/2,g,G),k.gf(n),k.Rect(l)),t&&(g=1.5*e.fa(.22*E,105,.6*z),G=g/8,l.Fi(.5*z-g/2,.868*E-G/2,g,G),k.gf(t),k.Rect(l))):(k.Nf(.302*y,.334*y,.365*y,y),G=Math.max(.005*E,2),l.Fi(0,.85*E-
G/2,z,G),k.Rect(l),g?k.Nf(y,0,0,y):k.Nf(.161*y,.953*y,.816*y,y),g=z*this.so,l.Fi(.5*z-g/2,.85*E-G/2,g,G),k.Rect(l),k.Nf(y,y,y,y),k.Vh(),n&&(G=g=.55*E,l.Fi(.5*z-g/2,.45*E-G/2,g,G),k.gf(n),k.Rect(l)));this.tL++;"fade-in"===this.Oj&&300<=p-this.ox&&2<=this.tL&&(this.Oj="wait",this.yW=p);"wait"===this.Oj&&p-this.yW>=w&&1<=this.so&&(this.Oj="fade-out",this.sL=p);("fade-out"===this.Oj&&p-this.sL>=300+u||v&&1<=this.so&&500>p-this.ox)&&this.rL()}}}
{"use strict";const e=self.B,b=self.Gg,a={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let d=!0;e.vQ=class extends e.oa{constructor(c){c=Object.assign({},a,c);super();this.vx=c.messagePort;this.Qea=c.baseUrl;this.Le=!!c.isInWorker;d=c.ife;this.wj=c.exportType;this.lK=!!c.isiOSCordova;this.vfa=!!c.isFBInstantAvailable;this.Sfa=c.opusWasmScriptUrl;this.SV=c.opusWasmBinaryUrl;this.Ke=this.Xea=this.Cb=!("preview"!==this.wj||!c.isDebug);this.jJ=
0;this.iB=[];this.Kea=[];this.eL=this.aW=this.oD="";this.vh=this.wh=0;this.pU=self.devicePixelRatio;this.tt=this.Yf=this.Zf=this.UK=this.TK=0;this.WD=!1;this.Ej=!0;this.QL=!1;this.ut=null;this.Ab=e.C(e.CY,this,c);this.cb=e.C(e.w3,this);this.ya=e.C(e.V_,this);this.Sq=e.C(e.j5,this);this.jh=e.C(e.dZ,this);this.Nb=e.C(e.Z7,this);this.DL=e.C(e.d8,this);this.md=[];this.NK=new Map;this.OK=new Map;this.CU=0;this.Mea=[];this.II=[];this.Aw=[];this.om=[];this.qC=new Map;this.hC=!1;this.xx=this.PK=0;this.zq=
new Map;this.Aq=new Set;this.rC=new Set;this.cD=[];this.pV=[];this.Y=null;this.Qm=!1;this.AJ="vsync";this.Ns="standard";this.Rc="trilinear";this.Tk=!1;this.LK=!0;this.hK=this.VV=!1;this.fga={vX:f=>{this.Gm=this.Qe=-1;this.Gd(f)},kia:f=>{this.Gm=-1;this.Gd(f,!1,"skip-render")},Yha:()=>{this.Qe=-1;this.yG()}};this.Gm=this.Qe=-1;this.Ys=this.Go=this.al=0;this.XU=this.Yw=this.jC=!1;this.dK=!0;this.Rt=0;this.Zfa=new e.uG(1);this.Xfa=()=>Math.random();this.LB=this.MB=this.OC=this.Eo=0;this.he=1;this.LV=
30;this.EJ=e.C(e.Xr);this.FJ=e.C(e.Xr);this.SL=e.C(e.Xr);this.dC=-1;this.ZC=this.vm=this.cC=this.uq=0;this.Sk=!1;this.nx=this.Gx="";this.qt=null;this.Kq="";this.kL=this.dL=null;this.cc=e.C(e.Event.Ib);this.oJ=new Map;this.WK=new Map;this.Ofa=0;this.lV=this.qU=this.rU=!1;this.RL=[];this.rq={pretick:e.C(e.Event,"pretick",!1),tick:e.C(e.Event,"tick",!1),tick2:e.C(e.Event,"tick2",!1),instancedestroy:e.C(e.Event,"instancedestroy",!1),beforelayoutchange:e.C(e.Event,"beforelayoutchange",!1),layoutchange:e.C(e.Event,
"layoutchange",!1)};this.rq.instancedestroy.instance=null;this.xe=e.C(e.Event.Ib);this.NW=null;this.Xn=e.C(e.Fp,e.Ly.fH);this.hq=e.C(e.Fp,e.Ly.fH);this.Yn=e.C(e.Fp,e.Ly.fH);this.gx=e.C(e.s3,this,c.jobScheduler);c.canvas&&(this.Y=e.C(e.PE,this));this.vx.onmessage=f=>this._OnMessageFromDOM(f.data);this.Gi("runtime","visibilitychange",f=>this.cca(f));this.Gi("runtime","opus-decode",f=>this.Gea(f.arrayBuffer));this.Gi("runtime","get-remote-preview-status-info",()=>this.haa());this.Gi("runtime","js-invoke-function",
f=>this.OA(f));this.Gi("runtime","go-to-last-error-script",self.goToLastErrorScript);this.cc.addEventListener("window-blur",f=>this.fI(f));this.cc.addEventListener("window-focus",()=>this.dca());this.Nb.qY();this.Bj=null;this.qfa=new WeakMap;this.Ls={keyboard:null,vM:null,WM:null}}static Ya(c){return e.C(e.vQ,c)}j(){e.G(this.md);this.NK.clear();this.OK.clear();this.cb.j();this.cb=null;this.ya.j();this.ya=null;this.Sq.j();this.Sq=null;this.Ab.j();this.Ab=null;this.jh.j();this.jh=null;this.Nb.j();this.Nb=
null;this.DL.j();this.DL=null;this.Y&&(this.Y.j(),this.Y=null);this.cc.j();this.cc=null}["_OnMessageFromDOM"](c){const f=c.type;if("event"===f)this.SS(c);else if("result"===f)this.Wba(c);else throw Error(`unknown message '${f}'`);}SS(c){if(this.lV){var f=c.component,l=c.handler,g=c.data,k=c.dispatchOpts,n=!(!k||!k.dispatchRuntimeEvent);k=!(!k||!k.dispatchUserScriptEvent);var q=c.responseId;if("runtime"===f&&(n&&(c=new e.Event(l),c.data=g,this.cc.Nga(c)),k)){c=new e.Event(l,!0);for(const [t,p]of Object.entries(g))c[t]=
p;this.Kh(c)}if(c=this.oJ.get(f))if(c=c.get(l)){n=null;try{n=c(g)}catch(t){console.error(`Exception in '${f}' handler '${l}':`,t);null!==q&&this.TA(q,!1,""+t);return}null!==q&&(n&&n.then?n.then(t=>this.TA(q,!0,t)).catch(t=>{console.error(`Rejection from '${f}' handler '${l}':`,t);this.TA(q,!1,""+t)}):this.TA(q,!0,n))}else n||k||console.warn(`[Runtime] No DOM handler '${l}' for component '${f}'`);else n||k||console.warn(`[Runtime] No DOM event handlers for component '${f}'`)}else this.RL.push(c)}TA(c,
f,l){this.vx.postMessage({type:"result",responseId:c,isOk:f,result:l})}Wba(c){const f=c.responseId,l=c.isOk;c=c.result;const g=this.WK.get(f);l?g.resolve(c):g.reject(c);this.WK.delete(f)}Gi(c,f,l){let g=this.oJ.get(c);g||(g=new Map,this.oJ.set(c,g));if(g.has(f))throw Error(`[Runtime] Component '${c}' already has handler '${f}'`);g.set(f,l)}Ol(c,f,l){this.vx.postMessage({type:"event",component:c,handler:f,data:l,responseId:null})}Ep(c,f,l){const g=this.Ofa++,k=new Promise((n,q)=>{this.WK.set(g,{resolve:n,
reject:q})});this.vx.postMessage({type:"event",component:c,handler:f,data:l,responseId:g});return k}n5(){if(!this.Cb)throw Error("not in debug mode");this.Ol("runtime","post-to-debugger",{type:"reload"})}async Tg(c){this.Cb?await b.Tg(this):self.Gg&&self.Gg.doa(this);var [f]=await Promise.all([this.Ab.ON("data.json"),this.nba(),this.gx.Tg()]);this.Paa(f);await this.Aaa(c);this.Vr()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.xp()?(f=this.xp(),
console.info(`[C3 runtime] Hosted in ${this.Le?"worker":"DOM"}, rendering with WebGL ${f.Ud} [${f.$x}] (${f.Y2()?"desynchronized":"standard"} compositing)`)):this.Yu()&&console.info(`[C3 runtime] Hosted in ${this.Le?"worker":"DOM"}, rendering with experimental WebGPU`);this.zb().KJ&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.lV=!0;for(const l of this.RL)this.SS(l);e.G(this.RL);
this.Y&&this.Y.Q7();for(const l of c.runOnStartupFunctions)this.iB.push(this.Rca(l));await Promise.all([this.Ab.rR(),...this.iB]);e.G(this.iB);if(this.Ab.JJ)this.Y&&this.Y.VF();else return this.Y&&await this.Y.R_(),await this.cc.gM(new e.Event("beforeruntimestart")),await this.Nn(),this.vx.postMessage({type:"runtime-ready"}),this}async Rca(c){try{await c(this.Bj)}catch(f){console.error("[C3 runtime] Error in runOnStartup function: ",f)}}Paa(c){c=c.project;this.oD=c[0];this.aW=c[16];this.eL=c[31];
const f=c[39]||"loading-logo.png";this.Tk=!!c[9];this.wh=this.Zf=c[10];this.vh=this.Yf=c[11];this.TK=this.wh/2;this.UK=this.vh/2;this.Ns=c[36];this.AJ=c[37];"low-latency"===this.Ns&&this.P2()&&77>=e.kd.NE&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.Ns="standard");this.Qm=!!c[40];this.Rc=c[14];this.WD=!!c[18];this.tt=c[19];this.xx=c[21];
this.VV=c[22];const l=this.Ab;l.sda(c[7],c[25]);l.Oda(c[8]);l.Bda(c[32]);l.Gda(c[28]);l.$da(c[29]);if(0===this.tt){let t="";this.Vr()?l.MA(f)&&(t=l.DF(f)):t=l.YU+f;t&&(this.ut=l.bA({url:t}))}this.Y&&(this.Y.I6(e.PE.aS(c[12])),this.Y.IQ(c[23]?"high":"low"),this.Y.TG(0!==c[24]),this.Y.Cda(c[34]),this.Y.Yda(c[41]),this.Y.aea(c[13]));this.Sq.yZ();this.cD=self.jN();for(var g of c[2])this.Sq.wZ(g);this.cD=self.jN();this.Xaa();for(var k of c[3])g=e.pG.Ya(this,this.md.length,k),this.md.push(g),this.NK.set(g.Da().toLowerCase(),
g),this.OK.set(g.pb,g);for(const t of c[4])this.md[t[0]].Saa(t);for(var n of c[27])k=n.map(t=>this.md[t]),this.Mea.push(e.C(e.mZ,this,k));for(const t of this.md)t.xba();for(const t of c[5])this.cb.Ya(t);(n=c[1])&&(n=this.cb.Ir(n))&&this.cb.D6(n);for(var q of c[33])this.Nb.Ya(q);for(const t of c[35])this.DL.Ya(t);this.xaa();for(const t of c[6])this.ya.Ya(t);this.ya.Xb();this.taa();e.G(this.cD);this.ne();q="any";c=c[20];1===c?q="portrait":2===c&&(q="landscape");this.Ol("runtime","set-target-orientation",
{targetOrientation:q})}bN(c){this.iB.push(c)}eaa(){return this.CU++}L8(c){this.II.push(c)}async Aaa(c){this.Y&&(await this.Y.Ff(c),this.Y.v2(this.tt))}async nba(){if(!this.Ab.RO("audio/webm; codecs=opus")){var c=null;try{c=this.lK&&this.Ab.Xw?await this.Ab.xN(this.SV):await this.Ab.Fu(this.SV)}catch(f){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",f);return}c?this.iY(c):this.hY();await this.jY([this.Sfa])}}async Gea(c){return await this.GE("OpusDecode",{arrayBuffer:c},
[c])}async Nn(){this.jC=!0;this.Eo=Date.now();if(this.WD){for(var c of this.md)c.bb||c.gK||!c.Rf||c.Zb();this.Ab.rR().then(()=>{this.Ej=!1;this.VS()})}else this.Ej=!1;this.Ab.N6();this.Cb&&b.Lsa(d);for(const f of this.cb.hj)f.u9();c=this.cb.I0();await c.TH(null,this.zb());await c.LT(!0);this.uq=performance.now();this.WD||this.VS();(await this.Ep("runtime","before-start-ticking")).isSuspended?this.Rt++:this.Gd()}VS(){this.ia(e.g.Ea.F.UP,null,null);this.Ol("runtime","register-sw")}Oh(c){c=Math.floor(c);
const f=this.cD;if(0>c||c>=f.length)throw Error("invalid object reference");return f[c]}Xaa(){for(const c of self.JY){const f=e.first(Object.keys(c));this.pV.push(f)}}Pi(c){c=Math.floor(c);const f=this.pV;if(0>c||c>=f.length)throw Error("invalid prop reference");return f[c]}lF(){return this.Qea}qa(){return this.ya}wd(){return this.ya.wd()}If(){return this.ya.If()}Ob(){return this.ya.Ob()}Hf(){return this.ya.Hf()}X2(){return 0===this.If().fm}Nu(){return this.ya.Nu()}Vu(){return this.Sq.Vu()}Kf(c){c=
Math.floor(c);if(0>c||c>=this.md.length)throw new RangeError("invalid index");return this.md[c]}EF(c){return this.NK.get(c.toLowerCase())||null}zz(c){return this.OK.get(c)||null}*nga(){for(const c of this.md)c.bb||(yield*c.lX())}Ib(){return this.cc}Kh(c){c.Sc=this.Bj;const f=this.Cb&&!this.ya.Sz();f&&b.hH();this.xe.dispatchEvent(c);f&&b.IE()}lp(c){c.Sc=this.Bj;return this.xe.gM(c)}Z6(c,f){if(this.wh!==c||this.vh!==f)this.wh=c,this.vh=f,c=this.cb,c.Kp(),c.Jp()}Hv(c,f){if(this.Zf!==c||this.Yf!==f)this.Zf=
c,this.Yf=f,c=this.cb,c.Kp(),c.Jp()}yda(c){this.pU=c}yl(){return this.pU}Lg(){return this.Y?this.Y.Lg():this.Zf}hg(){return this.Y?this.Y.hg():this.Yf}mn(){return this.Y?this.Y.mn():1}zl(){return this.Y?this.Y.zl():1}np(){return this.Y?this.Y.np():0}op(){return this.Y?this.Y.op():0}WN(){return this.Y?this.Y.nd:0}VN(){return this.Y?this.Y.ad:0}vz(){return this.Y?this.Y.vz():"off"}Ku(c){return this.Y?this.Y.Ku(c):null}Dn(c){this.Y&&this.Y.Dn(c)}Zda(c){this.QL=!!c}xz(){return this.Y?this.Y.xz():NaN}iG(){return"nearest"!==
this.Rc}D5(){this.ut&&(this.ut.j(),this.ut=null)}Tb(){return this.cb.Tb()}bA(c){return this.Ab.bA(c)}WE(c,f,l,g,k){return this.Ki(c,f,!1,l,g,!1,k,void 0,k)}Ki(c,f,l,g,k,n,q,t,p){var v=null;let u=null;c instanceof e.pG?(u=c,u.bb&&(v=u.sq,u=v[Math.floor(this.Ql()*v.length)]),v=u.Ts):(v=c,u=this.Kf(v[1]));c=u.Pb().Rf;if(this.Ej&&c&&!u.gK)return null;const w=f;c||(f=null);var y=l&&!n&&v&&!this.zq.has(v[2])?v[2]:this.xx++;const z=v?v[0]:null,E=e.C(e.Instance,{Sc:this,zM:u,ke:f,TX:z,kX:v?v[3]:null,uid:y});
this.zq.set(y,E);y=null;c&&(y=E.A(),"undefined"!==typeof g&&"undefined"!==typeof k&&(y.hf(g),y.jf(k)),u.sT());f&&(p||f.fh(E,!0),1===f.se&&1===f.te||u.nI(!0),f.Ac().qP(u));this.PK++;let G=!0;t&&(t=t.J(),t.lc()&&u.lc()&&u.kh===t.kh&&(G=!1));if(u.lc()&&!l&&!n&&G){for(var P of u.kh.Am)P!==u&&(t=this.Ki(P,w,!1,y?y.O():g,y?y.P():k,!0,!1,void 0,p),E.xs(t));for(var D of E.Rd){D.xs(E);for(const H of E.Rd)D!==H&&D.xs(H)}}c&&!l&&q&&this.xH(E,z,y,f,g,k,p);if(u.lc()&&!l&&!n&&q)for(const H of E.Rd)if(l=H.A())P=
H.Pb(),D=H.J().Ts[0],P.Rf?this.xH(H,D,l,f,l.O(),l.P(),p):this.xH(H,D,l,f,void 0,void 0,p);!n&&q&&("undefined"===typeof g&&(g=z[0]),"undefined"===typeof k&&(k=z[1]),f=y.Hz(),g=g-y.O()+f.O(),k=k-y.P()+f.P(),f.$i(g,k));u.aw();k=v?e.cE(v[5]):null;v=v?v[4].map(H=>e.cE(H)):null;c&&z&&z[13]&&E.Fda();E.BA(k,v);this.om.push(E);this.hC=!0;this.Cb&&b.eoa(E);return E}xH(c,f,l,g,k,n,q){var t=l.nW,p=l.lL;c.A().VG(t);if(p){"undefined"===typeof k&&(k=f[0]);"undefined"===typeof n&&(n=f[1]);t=new Set;l=f[0];f=f[1];
for(const z of p){var v=z[1],u=z[2];p=z[3];var w=!!z[4];const E=z[5];u=this.cb.CF(z[0]).ka(v).Q0(u);v=this.Kf(u[1]);var y=c.K1(v);const G=t.has(v);y&&!G&&w?(w=c.zO(v),y=k+u[0][0]-l,u=n+u[0][1]-f,w.A().$i(y,u),w.A().VG(E),c.fn(w,{su:!!(p>>0&1),tu:!!(p>>1&1),xr:!!(p>>2&1),wr:!!(p>>3&1),ru:!!(p>>4&1),ky:!!(p>>5&1),uu:!!(p>>6&1)}),t.add(v)):(v=this.Ki(u,g,!1,k+u[0][0]-l,n+u[0][1]-f,!1,!0,c,q),v.A().VG(E),c.fn(v,{su:!!(p>>0&1),tu:!!(p>>1&1),xr:!!(p>>2&1),wr:!!(p>>3&1),ru:!!(p>>4&1),ky:!!(p>>5&1),uu:!!(p>>
6&1)}))}}}sl(c){if(!this.Aq.has(c)){var f=c.J(),l=this.qC.get(f);if(l){if(l.has(c))return;l.add(c)}else l=new Set,l.add(c),this.qC.set(f,l);this.Cb&&b.foa(c);c.WH();this.hC=!0;if(c.lc())for(const g of c.Rd)this.sl(g);for(const g of c.children())g.rz()&&this.sl(g);this.cb.YO()||this.Sk||(f=this.qa(),f.Te(!0),c.qea(),f.Te(!1));c.M$(this.cb.YO())}}ne(){this.hC&&(this.O$(),this.P$(),this.hC=!1,this.U())}O$(){for(const c of this.om){const f=c.J();f.fh(c);for(const l of f.fi)l.fh(c),l.aw()}e.G(this.om)}P$(){this.cc.js(!0);
for(const [c,f]of this.qC.entries())this.Q$(c,f),f.clear();this.qC.clear();this.cc.js(!1)}Q$(c,f){for(const g of f){var l=this.rq.instancedestroy;l.instance=g;this.cc.dispatchEvent(l);this.zq.delete(g.ic);if(l=g.A())l.dT(),l.eT(),l.WH();this.Aq.add(g);this.PK--}e.Gh(c.ta(),f);c.aw();this.rC.add(c);0===c.ta().length&&c.nI(!1);for(const g of c.fi)e.Gh(g.ta(),f),g.aw(),this.rC.add(g);if(c.Pb().Rf){c=new Set([...f].map(g=>g.A().ka()));for(const g of c)g.wca(f)}}*nM(c){for(const f of this.om)c.bb?f.J().ME(c)&&
(yield f):f.J()===c&&(yield f)}daa(){return this.xx++}kba(c,f){this.zq.set(c,f)}Zv(){this.cc.dispatchEvent(e.C(e.Event,"webglcontextlost"));this.Gv(!0);for(var c of this.md)!c.bb&&c.I1()&&c.qk();(c=this.Tb())&&c.Zv();e.bv.$r();e.OO.$r()}async eI(){await this.Tb().TH(null,this.xp());this.cc.dispatchEvent(e.C(e.Event,"webglcontextrestored"));this.Gv(!1);this.U()}cca(c){this.Gv(c.hidden)}fI(c){this.Vr()&&this.VV&&!e.kd.Vz&&!c.data.parentHasFocus&&(this.Gv(!0),this.hK=!0)}dca(){this.hK&&(this.Gv(!1),
this.hK=!1)}fT(){const c=this.fga;"vsync"===this.AJ?-1===this.Qe&&(this.Qe=self.requestAnimationFrame(c.vX)):"unlimited-tick"===this.AJ?(-1===this.Gm&&(this.Gm=e.BG(c.kia)),-1===this.Qe&&(this.Qe=self.requestAnimationFrame(c.Yha))):-1===this.Gm&&(this.Gm=e.BG(c.vX))}i9(){-1!==this.Qe&&(self.cancelAnimationFrame(this.Qe),this.Qe=-1);-1!==this.Gm&&(e.RY(this.Gm),this.Gm=-1)}xn(){return 0<this.Rt}Gv(c){var f=this.xn();this.Rt+=c?1:-1;0>this.Rt&&(this.Rt=0);c=this.xn();!f&&c?(console.log("[Construct 3] Suspending"),
this.i9(),this.cc.dispatchEvent(e.C(e.Event,"suspend")),this.ia(e.g.Ea.F.X4,null,null)):f&&!c&&(console.log("[Construct 3] Resuming"),this.uq=this.OC=f=performance.now(),this.vm=this.ZC=this.cC=this.dC=0,this.cc.dispatchEvent(e.C(e.Event,"resume")),this.ia(e.g.Ea.F.U4,null,null),this.Pr()||this.Gd(f))}H8(c){this.Xn.yc(c)}I8(c){this.Yn.yc(c)}yca(c){this.Xn.Sh(c)}xca(c){this.hq.Sh(c)}zca(c){this.Yn.Sh(c)}Y8(){this.Xn.Uh(!0);for(const c of this.Xn)c.Gd();this.Xn.Uh(!1)}X8(){this.hq.Uh(!0);for(const c of this.hq);
this.hq.Uh(!1)}Z8(){this.Yn.Uh(!0);for(const c of this.Yn)c.Iv();this.Yn.Uh(!1)}*E9(){this.Xn.Uh(!0);for(const c of this.Xn){const f=c.Gd();e.un(f)&&(yield*f)}this.Xn.Uh(!1)}*D9(){this.hq.Uh(!0);for(const c of this.hq)e.un(void 0)&&(yield*void 0);this.hq.Uh(!1)}*F9(){this.Yn.Uh(!0);for(const c of this.Yn){const f=c.Iv();e.un(f)&&(yield*f)}this.Yn.Uh(!1)}async Gd(c,f,l){this.XU=!0;const g="background-wake"===l;l="background-wake"!==l&&"skip-render"!==l;this.jC&&(!this.xn()||f||g)&&(f=performance.now(),
this.Yw=!0,this.qba(c||0),c=this.S7(),this.Ke&&await c,c=this.cc.Oga(this.rq.pretick),c instanceof Promise&&await c,c=this.R7(),this.Ke&&await c,this.vba()&&await this.maa(),this.cb.Ur()&&await this.mba(),c=this.T7(),this.Ke&&await c,l&&this.yG(),this.xn()||g||this.fT(),this.al++,this.Go++,this.Ys++,this.Yw=!1,this.vm+=performance.now()-f)}async S7(){const c=this.ya,f=this.Cb;this.ne();c.Te(!0);this.nv(this.Tb());f&&b.ts();this.Ke?await c.GZ():c.e6();f&&b.fY();this.lv();c.Te(!1);this.ne();c.Te(!0)}async R7(){const c=
this.Cb,f=this.Ke,l=this.cc,g=this.rq,k=this.NW;c&&b.ts();f?await this.bz(this.E9()):this.Y8();f?await this.bz(this.D9()):this.X8();c&&b.aY();c&&b.ts();f?await this.CN(g.tick):l.dispatchEvent(g.tick);c&&b.lY();this.ya.Te(!1);this.Kh(k.tick)}async T7(){const c=this.ya,f=this.cc,l=this.rq,g=this.Cb,k=this.Ke;g&&b.ts();k?await c.EZ(this.cb):c.c6(this.cb);g&&b.fY();this.jh.rN();this.bT();this.dK=!1;c.Te(!0);g&&b.ts();k?await this.bz(this.F9()):this.Z8();g&&b.aY();g&&b.ts();k?await this.CN(l.tick2):f.dispatchEvent(l.tick2);
g&&b.lY();c.Te(!1);k&&await c.uQ()}bT(){if(0!==this.Aq.size){var c=this.cc;c.js(!0);for(const f of this.rC)f.Co.Gp(this.Aq);this.rC.clear();this.ya.F5(this.Aq);for(const f of this.Aq)f.j();this.Aq.clear();c.js(!1)}}async mba(){const c=this.cb;let f=0;for(;c.Ur()&&10>f++;)await this.QR(c.yx)}qba(c){let f=0;0!==this.OC&&(f=Math.max(c-this.OC,0)/1E3,.5<f&&(f=0),this.MB=Math.min(f,1/this.LV));this.OC=c;this.LB=this.MB*this.he;this.EJ.yc(this.LB);this.FJ.yc(f*this.he);this.SL.yc(this.MB);this.Y&&this.Y.Bea();
1E3<=c-this.uq&&(this.uq+=1E3,1E3<=c-this.uq&&(this.uq=c),this.cC=this.dC,this.dC=0,this.ZC=Math.min(this.vm/1E3,1),this.vm=0,this.Y&&this.Y.uea(),this.Cb&&b.Mva());this.dC++}async QR(c){const f=this.cc,l=this.cb.Tb();await l.lea();l.tea(c,this.zb());l===c&&this.ya.Qy();this.jh.rN();this.bT();f.dispatchEvent(this.rq.beforelayoutchange);e.ql.JQ(!0);await c.TH(l,this.zb());e.ql.JQ(!1);await c.LT(!1);f.dispatchEvent(this.rq.layoutchange);this.U();this.dK=!0;this.ne()}U(){this.LK=!0}xp(){return this.Y?
this.Y.xp():null}Yu(){return this.Y?this.Y.Yu():null}zb(){return this.Y?this.Y.zb():null}yG(){const c=this.Y;if(c&&!c.i3()){var f=this.zb(),l=f.zk(),g=l&&f.dv();l=l&&!1;g&&f.TY();if(this.LK){var k=this.cb.Tb();f.Nn();var n=this.Cb;n&&b.ts();this.LK=!1;var q=null;g&&(q=c.gC.JE(),f.iH(q));g=null;l&&(g=f.Hua(2*(1+k.nc.length)),f.C8(0));this.Qm&&"low"===c.zj?f.E6(c.Lg(),c.hg()):f.n6();this.Gca(this.zb(),k);q&&f.dF(q);l&&(f.C8(1),this.Y.W8(g));f.Hu();n&&(b.Tia(),b.Ova());c&&c.oba()}else f.i2()}}Gca(c,
f){c.Vh();c.IG();c.Nf(1,1,1,1);c.ff(null);c.gf(null);c.In(this.Qm);f.me(c)}ia(c,f,l){if(!this.jC)return!1;var g=!this.Yw&&!this.ya.Tz();let k=0;g&&(k=performance.now());const n=this.Cb;n&&this.mA(!1);c=this.ya.jw(this.cb,c,f,l);g&&(g=performance.now()-k,this.vm+=g,n&&b.cja(g));n&&this.mA(!0);return c}Bu(c,f,l){if(!this.Cb)return this.ia(c,f,l);if(this.Pr())throw Error("called DebugTrigger() while stopped on breakpoint");if(!this.Yw&&!this.ya.Tz())throw Error("called DebugTrigger() outside of event code - use TriggerAsync() instead");
return this.ya.ys(this.cb,c,f,l)}async mb(c,f,l){if(!this.Ke)return this.ia(c,f,l);if(!this.jC)return!1;if(this.Pr())return this.ya.x5(c,f,l);if(!this.Tb())return this.ya.wG(c,f,l);const g=performance.now();c=this.ya.ys(this.cb,c,f,l);for(f=c.next();!f.done;)await this.Cr(f.value),f=c.next();this.xn()||this.ya.Tz()||(await this.ya.uQ(),this.XU&&!this.Yw&&this.fT());this.vm+=performance.now()-g;return f.value}vk(c){return this.Zfa.yc(c)}nv(c){this.Aw.push(c)}lv(){if(!this.Aw.length)throw Error("layout stack empty");
this.Aw.pop()}Oa(){return this.Aw.length?this.Aw.Se(-1):this.Tb()}Al(c){return c&&-1!==c.he?this.MB*c.he:this.LB}$G(c){if(isNaN(c)||0>c)c=0;this.he=c}PQ(c){this.LV=e.fa(c,1,120)}Ng(){return this.EJ.ea()}zF(){return this.FJ.ea()}QF(){return this.SL.ea()}Jl(){++this.Ys}Og(c){if(this.Sk)throw Error("cannot call while loading state - wait until afterload event");return this.zq.get(c)||null}ZS(){this.zq.clear();for(const c of this.md)if(!c.bb)for(const f of c.ta())this.zq.set(f.ic,f)}Vr(){return"preview"===
this.wj}W2(){return"cordova"===this.wj}P2(){return"Android"===e.kd.Zr&&("cordova"===this.wj||"playable-ad"===this.wj||"instant-games"===this.wj)}c7(c){c=!!c;this.Tk!==c&&(this.Tk=c,this.cb.Jp(),this.U())}g6(c){this.Gx=c}C3(c){this.nx=c}nG(c){this.qt=c}vba(){return!(!this.Gx&&!this.nx&&null===this.qt)}async maa(){this.Gx&&(this.ne(),await this.h$(this.Gx),this.vH());this.nx&&(await this.g$(this.nx),this.vH(),this.Cb&&b.Iua());if(null!==this.qt){this.ne();try{await this.RR(this.qt),this.Kq=this.qt,
await this.mb(e.g.Ea.F.SP,null),this.Kq=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.mb(e.g.Ea.F.TP,null)}this.vH()}}vH(){this.nx=this.Gx="";this.qt=null}mS(){this.dL||(this.dL=localforage.dM({name:"c3-localstorage-"+this.eL,description:this.oD}));return this.dL}nS(){this.kL||(this.kL=localforage.dM({name:"c3-savegames-"+this.eL,description:this.oD}));return this.kL}async h$(c){const f=await this.jda();try{await this.nS().setItem(c,f),console.log("[Construct 3] Saved state to storage ("+
f.length+" chars)"),this.Kq=f,await this.mb(e.g.Ea.F.V4,null),this.Kq=""}catch(l){console.error("[Construct 3] Failed to save state to storage: ",l),await this.mb(e.g.Ea.F.W4,null)}}async g$(c){try{const f=await this.nS().getItem(c);if(!f)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+f.length+" chars)");await this.RR(f);this.Kq=f;await this.mb(e.g.Ea.F.SP,null);this.Kq=""}catch(f){console.error("[Construct 3] Failed to load state from storage: ",f),await this.mb(e.g.Ea.F.TP,
null)}}async jda(){const c={c3save:!0,version:1,rt:{time:this.Ng(),timeRaw:this.zF(),walltime:this.QF(),timescale:this.he,tickcount:this.al,execcount:this.Ys,next_uid:this.xx,running_layout:this.Tb().pb,start_time_offset:Date.now()-this.Eo},types:{},layouts:{},events:this.ya.ua(),timelines:this.Nb.ua(),user_script_data:null};for(var f of this.md)f.bb||f.JO()||(c.types[f.pb.toString()]=f.ua());for(const l of this.cb.hj)c.layouts[l.pb.toString()]=l.ua();f=this.AH("save");f.saveData=null;await this.lp(f);
c.user_script_data=f.saveData;return JSON.stringify(c)}async RR(c){var f=this.cb;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.cc.dispatchEvent(e.C(e.Event,"beforeload"));for(var l of this.nga())l.QA();this.Sk=!0;l=c.rt;this.EJ.Set(l.time);l.hasOwnProperty("timeRaw")&&this.FJ.Set(l.timeRaw);this.SL.Set(l.walltime);this.he=l.timescale;this.al=
l.tickcount;this.Ys=l.execcount;this.Eo=Date.now()-l.start_time_offset;var g=l.running_layout;if(g!==this.Tb().pb)if(g=f.CF(g))await this.QR(g);else return;for(const [k,n]of Object.entries(c.types))g=this.zz(parseInt(k,10)),!g||g.bb||g.JO()||g.Aa(n);this.ne();this.ZS();this.Sk=!1;this.xx=l.next_uid;for(const [k,n]of Object.entries(c.layouts))(l=f.CF(parseInt(k,10)))&&l.Aa(n);this.ya.Aa(c.events);for(const k of this.md)if(!k.bb&&k.lc())for(const n of k.ta()){l=n.qp();for(const q of k.kh.Am)if(q!==
k){g=q.ta();if(0>l||l>=g.length)throw Error("missing sibling instance");n.xs(g[l])}}this.Nb.Aa(c.timelines);f.Kp();f.Jp();this.cc.dispatchEvent(e.C(e.Event,"afterload"));f=this.AH("load");f.saveData=c.user_script_data;await this.lp(f);this.U()}async jY(c){c=(await Promise.all(c.map(f=>this.Ab.xl(f)))).map(f=>URL.createObjectURL(f));this.gx.h2(c)}hY(){this.gx.i6()}iY(c){this.gx.j6(c)}GE(c,f,l){return this.gx.GE(c,f,l)}$F(c,f){this.Ol("runtime","invoke-download",{url:c,filename:f})}async y5(c){var f=
f||2048;var l=l||2048;return this.Le?(await this.Ep("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:f,surfaceHeight:l,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,f,l)}es(){this.rU||(this.rU=!0,this.Ol("runtime","enable-device-orientation"))}En(){this.qU||(this.qU=!0,this.Ol("runtime","enable-device-motion"))}Ql(){return this.Xfa()}haa(){const c=this.xp();return{fps:this.cC,cpu:this.ZC,gpu:this.xz(),layout:this.Tb()?this.Tb().Da():
"",renderer:c?c.$x:"<unavailable>"}}Pr(){return this.Cb?b.Pr():!1}Cr(c){return this.Ke?b.Cr(c):Promise.resolve()}zc(){return this.Ke?b.Yja():!1}mA(c){c?this.jJ--:this.jJ++;this.wea()}wea(){this.Ke=this.Cb&&this.Xea&&0===this.jJ}bG(){return this.Cb&&b.bG()}fG(){return this.Cb&&this.zb().zk()&&b.fG()}async bz(c){if(c)for(const f of c)await this.Cr(f)}CN(c){return this.bz(this.cc.Pga(c))}OA(c){return this.ya.OA(c.name,c.params)}AH(c){c=e.C(e.Event,c,!1);c.Sc=this.Bj;return c}xaa(){var c={};for(const f of this.md)c[f.Pi()]=
{value:f.Nw,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.Bj=new self.V1(this,c);this.NW={tick:this.AH("tick")}}taa(){const c={};for(const f of this.qa().JI)c[f.Pi()]=f.oS();this.Bj.uaa(c)}JS(c,f){this.qfa.set(c,f)}};self.C3_CreateRuntime=e.vQ.Ya;self.C3_InitRuntime=(c,f)=>c.Tg(f)}
{"use strict";const e=self.B;e.s3=class extends e.oa{constructor(b,a){super();this.b=b;this.Gq=new Map;this.Qfa=0;this.Sw=a.inputPort;a.outputPort.onmessage=d=>this.US(d);this.EV=a.maxNumWorkers;this.hx=1;this.QU=this.Vw=!1}async Tg(){}h2(b){this.Sw.postMessage({type:"_import_scripts",scripts:b})}i6(){this.Sw.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}j6(b){this.Sw.postMessage({type:"_send_buffer",buffer:b,id:"opus-decoder-wasm"},[b])}GE(b,a,d){d||(d=[]);const c=this.Qfa++;
b={type:b,isBroadcast:!1,jobId:c,params:a,transferables:d};a=new Promise((f,l)=>{this.Gq.set(c,{resolve:f,progress:void 0,reject:l,cM:!1})});this.Sw.postMessage(b,d);this.KS();return a}US(b){b=b.data;const a=b.type,d=b.jobId;switch(a){case "result":this.Lba(d,b.result);break;case "progress":this.Kba(d,b.progress);break;case "error":this.Jba(d,b.error);break;case "ready":this.Mba();break;default:throw Error(`unknown message from worker '${a}'`);}}Lba(b,a){const d=this.Gq.get(b);if(!d)throw Error("invalid job ID");
d.cM||d.resolve(a);this.Gq.delete(b)}Kba(b,a){b=this.Gq.get(b);if(!b)throw Error("invalid job ID");!b.cM&&b.progress&&b.progress(a)}Jba(b,a){const d=this.Gq.get(b);if(!d)throw Error("invalid job ID");d.cM||d.reject(a);this.Gq.delete(b)}Mba(){this.Vw&&(this.Vw=!1,this.hx++,this.hx<this.EV?this.KS():this.Sw.postMessage({type:"_no_more_workers"}))}async KS(){if(!(this.hx>=this.EV||this.Vw||this.QU||this.Gq.size<=this.hx))try{this.Vw=!0,(await this.b.Ep("runtime","create-job-worker")).outputPort.onmessage=
b=>this.US(b)}catch(b){this.QU=!0,this.Vw=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.hx} so far)`,b)}}}}self.C3_Shaders={};
self.C3_Shaders.exposure={bha:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float exposure;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\ngl_FragColor = vec4(front.rgb * pow(2.0, exposure), front.a);\n}",yia:"",Rga:0,Sga:0,Fga:!1,Hha:!1,Qha:!0,tga:!1,parameters:[["exposure",0,"percent"]]};
{"use strict";const e=self.B;let b=null,a="",d="",c=[],f="",l="",g="";const k=e.C(e.zY);function n(q,t){q=q[1];t=t[1];if("number"===typeof q&&"number"===typeof t)return q-t;q=""+q;t=""+t;return q<t?-1:q>t?1:0}e.g.Ea=class extends e.Th{constructor(q){super(q);this.Uf=this.b.qa().Uf;this.de=this.b.qa().wd();this.Qw=this.wq=0;this.KU=new Map}j(){super.j()}U(){this.b.U()}ia(q){this.b.ia(q,null,null)}Bz(q,t){b&&q===a&&t===d||(b=new RegExp(q,t),a=q,d=t);b.lastIndex=0;return b}rO(q,t,p){if(q===f&&t===l&&
p===g)return c;const v=this.Bz(t,p);c=q.match(v);f=q;l=t;g=p;return c}async VH(q,t){if(t.length){this.wq+=t.length;var p=[];for(const v of t)p.push(q.qP(v));await e.s5(p,()=>{this.Qw++});this.Qw++;this.Qw===this.wq&&(this.b.ia(e.g.Ea.F.z4,null,null),this.wq=this.Qw=0)}}PT(q,t){for(const p of t)0===p.H.length&&q.O3(p)}iS(){return k}Hca(q){var t=this.b.qa();const p=t.wd(),v=p.Jf(),u=v.Ob(),w=u.Md();var y=v.mk();const z=p.Ua(u),E=t.Uf,G=E.Ua();if(y)for(y=0;y<q&&!G.Gc;++y)t.bf(w),G.Xc(y),u.Zg(v,z),t.Wb(w);
else for(t=0;t<q&&!G.Gc;++t)G.Xc(t),u.Zg(v,z);p.Pa();E.Pa();return!1}*L9(q){var t=this.b.qa();const p=t.wd(),v=p.Jf(),u=v.Ob(),w=u.Md();var y=v.mk();const z=p.Ua(u),E=t.Uf,G=E.Ua();if(y)for(y=0;y<q&&!G.Gc;++y)t.bf(w),G.Xc(y),yield*u.Ig(v,z),t.Wb(w);else for(t=0;t<q&&!G.Gc;++t)G.Xc(t),yield*u.Ig(v,z);p.Pa();E.Pa();return!1}Hea(){var q=this.b.qa();const t=q.wd(),p=t.Jf(),v=p.Ob(),u=v.Md();var w=p.mk();const y=t.Ua(v),z=q.Uf,E=z.Ua();if(w)for(w=0;!E.Gc;++w)q.bf(u),E.Xc(w),v.Zg(p,y)||E.pg(),q.Wb(u);else for(q=
0;!E.Gc;++q)E.Xc(q),v.Zg(p,y)||E.pg();t.Pa();z.Pa();return!1}*e$(){var q=this.b.qa();const t=q.wd(),p=t.Jf(),v=p.Ob(),u=v.Md();var w=p.mk();const y=t.Ua(v),z=q.Uf,E=z.Ua();if(w)for(w=0;!E.Gc;++w)q.bf(u),E.Xc(w),(yield*v.Ig(p,y))||E.pg(),q.Wb(u);else for(q=0;!E.Gc;++q)E.Xc(q),(yield*v.Ig(p,y))||E.pg();t.Pa();z.Pa();return!1}R$(q,t,p){var v=this.b.qa();const u=v.wd(),w=u.Jf(),y=w.Ob(),z=y.Md(),E=w.mk(),G=u.Ua(y),P=v.Uf,D=P.Ua();D.sA(q);if(p<t)if(E)for(q=t;q>=p&&!D.Gc;--q)v.bf(z),D.Xc(q),y.Zg(w,G),v.Wb(z);
else for(v=t;v>=p&&!D.Gc;--v)D.Xc(v),y.Zg(w,G);else if(E)for(q=t;q<=p&&!D.Gc;++q)v.bf(z),D.Xc(q),y.Zg(w,G),v.Wb(z);else for(v=t;v<=p&&!D.Gc;++v)D.Xc(v),y.Zg(w,G);u.Pa();P.Pa();return!1}*I9(q,t,p){var v=this.b.qa();const u=v.wd(),w=u.Jf(),y=w.Ob(),z=y.Md(),E=w.mk(),G=u.Ua(y),P=v.Uf,D=P.Ua();D.sA(q);if(p<t)if(E)for(q=t;q>=p&&!D.Gc;--q)v.bf(z),D.Xc(q),yield*y.Ig(w,G),v.Wb(z);else for(v=t;v>=p&&!D.Gc;--v)D.Xc(v),yield*y.Ig(w,G);else if(E)for(q=t;q<=p&&!D.Gc;++q)v.bf(z),D.Xc(q),yield*y.Ig(w,G),v.Wb(z);
else for(v=t;v<=p&&!D.Gc;++v)D.Xc(v),yield*y.Ig(w,G);u.Pa();P.Pa();return!1}S$(q){var t=this.b.qa();const p=t.wd(),v=p.Jf(),u=v.Ob(),w=u.Md();var y=v.mk();const z=p.Ua(u),E=t.Uf,G=E.Ua(),P=q.lc(),D=q.aa(),H=k.Ua();e.Cd(H,D.ta());if(y)for(let J=0,M=H.length;J<M&&!G.Gc;++J)t.bf(w),y=H[J],q.aa().yk(y),P&&y.Zi(),G.Xc(J),u.Zg(v,z),t.Wb(w);else{D.Ee(!1);q=D.H;e.G(q);q.push(null);for(let J=0,M=H.length;J<M&&!G.Gc;++J)t=H[J],q[0]=t,P&&t.Zi(),G.Xc(J),u.Zg(v,z)}p.Pa();E.Pa();e.G(H);k.Pa();return!1}*J9(q){var t=
this.b.qa();const p=t.wd(),v=p.Jf(),u=v.Ob(),w=u.Md();var y=v.mk();const z=p.Ua(u),E=t.Uf,G=E.Ua(),P=q.lc(),D=q.aa(),H=k.Ua();e.Cd(H,D.ta());if(y)for(let J=0,M=H.length;J<M&&!G.Gc;++J)t.bf(w),y=H[J],q.aa().yk(y),P&&y.Zi(),G.Xc(J),yield*u.Ig(v,z),t.Wb(w);else{D.Ee(!1);q=D.H;e.G(q);q.push(null);for(let J=0,M=H.length;J<M&&!G.Gc;++J)t=H[J],q[0]=t,P&&t.Zi(),G.Xc(J),yield*u.Ig(v,z)}p.Pa();E.Pa();e.G(H);k.Pa();return!1}T$(q,t){var p=this.b.qa();const v=p.wd(),u=p.Hf(),w=v.Jf(),y=w.Ob(),z=y.Md(),E=w.mk(),
G=v.Ua(y),P=p.Uf,D=P.Ua(),H=q.lc(),J=q.aa(),M=k.Ua();e.G(M);const Q=J.ta();for(let R=0,V=Q.length;R<V;++R)M.push([Q[R],u.pv(1,R)]);M.sort(n);1===t&&M.reverse();if(E)for(let R=0,V=M.length;R<V&&!D.Gc;++R)p.bf(z),t=M[R][0],q.aa().yk(t),H&&t.Zi(),D.Xc(R),y.Zg(w,G),p.Wb(z);else{J.Ee(!1);q=J.H;e.G(q);q.push(null);for(let R=0,V=M.length;R<V&&!D.Gc;++R)p=M[R][0],q[0]=p,H&&p.Zi(),D.Xc(R),y.Zg(w,G)}v.Pa();P.Pa();e.G(M);k.Pa();return!1}*K9(q,t){var p=this.b.qa();const v=p.wd(),u=p.Hf(),w=v.Jf(),y=w.Ob(),z=
y.Md(),E=w.mk(),G=v.Ua(y),P=p.Uf,D=P.Ua(),H=q.lc(),J=q.aa(),M=k.Ua();e.G(M);const Q=J.ta();for(let R=0,V=Q.length;R<V;++R)M.push([Q[R],u.pv(1,R)]);M.sort(n);1===t&&M.reverse();if(E)for(let R=0,V=M.length;R<V&&!D.Gc;++R)p.bf(z),t=M[R][0],q.aa().yk(t),H&&t.Zi(),D.Xc(R),yield*y.Ig(w,G),p.Wb(z);else{J.Ee(!1);q=J.H;e.G(q);q.push(null);for(let R=0,V=M.length;R<V&&!D.Gc;++R)p=M[R][0],q[0]=p,H&&p.Zi(),D.Xc(R),yield*y.Ig(w,G)}v.Pa();P.Pa();e.G(M);k.Pa();return!1}IA(q,t){let p=this.KU.get(q);if(p)return p;
if(!t)return null;p={Vo:null,zE:new Map};this.KU.set(q,p);return p}f$(q,t,p,v,u){t.Xe().b6(p);v&&q.Wb(u)}*G9(q,t,p,v,u){yield*t.Xe().DZ(p);v&&q.Wb(u)}}}{"use strict";const e=self.B;e.g.Ea.De=class extends e.oa{constructor(b){super();this.K=b;this.b=b.I();this.ni=b.Pb()}Zb(){}j(){this.ni=this.b=this.K=null}}}{"use strict";const e=self.B;e.g.Ea.Instance=class extends e.oa{constructor(b){super();this.R=b;this.K=this.R.J();this.Qa=this.K.Qa;this.b=this.R.I()}j(){this.b=this.Qa=this.K=this.R=null}}}
{"use strict";const e=self.B,b=[];e.g.Ea.F={Y_(){return!0},RP(){return!0},D4(){return!0},X4(){return!0},U4(){return!0},xn(){return this.b.xn()},JN(){const a=this.b.If();return a.rJ?!1:!a.Hq},e8(){const a=this.b.Hf().fk();let d=a.get("TriggerOnce_lastTick");"undefined"===typeof d&&(d=-1,a.set("TriggerOnce_lastTick",-1));const c=this.b.al;a.set("TriggerOnce_lastTick",c);return this.b.dK||d!==c-1},X_(a){const d=this.b.Hf().fk(),c=d.get("Every_lastTime")||0,f=this.b.Ng();d.has("Every_seconds")||d.set("Every_seconds",
a);const l=d.get("Every_seconds");if(f>=c+l)return d.set("Every_lastTime",c+l),f>=d.get("Every_lastTime")+.04&&d.set("Every_lastTime",f),d.set("Every_seconds",a),!0;f<c-.1&&d.set("Every_lastTime",f);return!1},Sr(a){return(a=this.b.qa().aO(a))&&a.Sr()},Vr(){return this.b.Vr()},Vz(){return e.kd.Vz},UP(){return!0},j4(){return!0},Wla(){return!0},V4(){return!0},W4(){return!0},SP(){return!0},TP(){return!0},Vpa(a){return!!this.b.Og(a)},Joa(a){switch(a){case 0:return"browser"===e.kd.TE;case 1:return"iOS"===
e.kd.Zr;case 2:return"Android"===e.kd.Zr;case 8:return"cordova"===e.kd.TE;case 9:return"scirra-arcade"===this.b.wj;case 10:return"nwjs"===e.kd.TE;case 13:return"windows-uwp"===this.b.wj;default:return!1}},Dra(a,d,c){return this.Bz(d,c).test(a)},fZ(a,d,c){return e.compare(a,d,c)},ela(a,d,c){return a>=d&&a<=c},iZ(a,d,c){return e.compare(a.eb(),d,c)},fla(a){return!!a.eb()},pla(a,d){const c=this.b.Ng();return 0===a?(a=this.b.Hf().fk(),!a.get("CompareTime_executed")&&c>=d?(a.set("CompareTime_executed",
!0),!0):!1):e.compare(c,a,d)},Goa(a){return isNaN(a)},tY(a,d,c){return e.$t(e.Ia(a),e.Ia(c))<=e.Ia(d)},U2(a,d){return e.$f(e.Ia(a),e.Ia(d))},R2(a,d,c){a=e.Ia(a);d=e.Ia(d);c=e.Ia(c);return e.$f(c,d)?e.$f(a,d)&&!e.$f(a,c):!(!e.$f(a,d)&&e.$f(a,c))},Xoa(a,d){return"number"===typeof a?0===d:1===d},ima(a){return!!a},wqa(a,d,c,f){if(!a)return!1;const l=this.iS(),g=l.Ua(),k=a.aa();e.Cd(g,k.ta());k.fc&&e.G(k.uc);const n=this.b.Hf();let q=0;for(let t=0,p=g.length;t<p;++t){const v=g[t];g[q]=v;d=n.pv(1,t);f=
n.pv(3,t);e.compare(d,c,f)?++q:k.Sn(v)}e.Ef(g,q);k.uv(g);d=!!g.length;e.G(g);l.Pa();a.qc();return d},xqa(a,d){if(!a)return!1;const c=this.iS(),f=c.Ua(),l=a.aa();e.Cd(f,l.ta());l.fc&&e.G(l.uc);const g=this.b.Hf();let k=0;for(let n=0,q=f.length;n<q;++n){const t=f[n];f[k]=t;(d=g.pv(1,n))?++k:l.Sn(t)}e.Ef(f,k);l.uv(f);d=!!f.length;e.G(f);c.Pa();a.qc();return d},Dqa(a,d){if(!a)return!1;const c=a.aa(),f=c.ta();d=Math.floor(d);if(d>=f.length)return!1;c.Cn(f[d]);a.qc();return!0},Hqa(a){if(!a)return!1;const d=
a.aa(),c=d.ta(),f=Math.floor(this.b.Ql()*c.length);if(f>=c.length)return!1;d.Cn(c[f]);a.qc();return!0},vqa(a){if(!a||!a.H.length)return!1;a.aa().Ee(!0);a.qc();return!0},Fqa(a,d,c){if(!a)return!1;const f=a.aa();var l=f.ta();const g=this.b.Ob().fe,k=this.b.Hf().ii;f.fc?(e.Cd(b,l),f.Ry(),f.Ee(!1)):g?(e.Cd(b,f.uc),e.G(f.uc)):(e.Cd(b,f.H),e.G(f.H));for(let n=0,q=b.length;n<q;++n)l=b[n],e.xor(l.A().Au(d,c),k)?f.Xp(l):f.Sn(l);a.qc();return e.xor(!!f.H.length,k)},Cqa(a){if(!a)return!1;var d=a.bb;let c=null;
const f=this.b.om;for(let l=f.length-1;0<=l;--l){const g=f[l];if(d){if(g.J().ME(a)){c=g;break}}else if(g.J()===a){c=g;break}}c||(d=a.ta(),d.length&&(c=d.Se(-1)));if(!c)return!1;a.aa().Cn(c);a.qc();return!0},Kra(a){return this.b.Ke?this.L9(a):this.Hca(a)},ewa(){return this.b.Ke?this.e$():this.Hea()},Nma(a,d,c){return this.b.Ke?this.I9(a,d,c):this.R$(a,d,c)},Oma(a){return this.b.Ke?this.J9(a):this.S$(a)},Pma(a,d,c){return this.b.Ke?this.K9(a,c):this.T$(a,c)},ipa(a){return a?a.jd():!1},fpa(a){return a?
!a.H.length:!1},v3(a,d,c){return a?e.compare(100*a.Ld(),d,c):!1},z4(){return!0},Doa(){return 0<this.wq}}}
{"use strict";const e=self.B;function b(g,k){const n=g[0]-k[0];return 0!==n?n:g[1]-k[1]}function a(g,k){return g[1]-k[1]}const d=[],c=[],f=e.C(e.Rect),l=e.C(e.lb);e.g.Ea.ja={x7(g,k){g.ah(k)},rY(g,k){g.vn()&&"number"!==typeof k&&(k=parseFloat(k));g.ah(g.eb()+k)},V7(g,k){g.vn()&&g.ah(g.eb()-k)},hta(g,k){g.ah(!!k)},lva(g){g.ah(!g.eb())},Bsa(){this.b.qa().Q5()},AN(g,k,n,q,t){g&&k&&(n=this.b.WE(g,k,n,q,t))&&(t&&k.eH(n),k=this.b.qa(),k.Te(!0),n.dB(),k.Te(!1),g.aa().yk(n),n.lc()&&n.Zi())},Fla(g,k,n,q,t){g&&
k&&(g=this.b.EF(g))&&e.g.Ea.ja.AN.call(this,g,k,n,q,t)},ov(g,k,n,q,t,p,v,u,w,y){if(g){var z=this.b.Oa();if(p&&(z=this.b.cb.Ir(p),!z))return;p=null;if("number"!==typeof v||0<=v)if(p=z.ka(v),!p)return;f.set(k,n,q,t);k=z.ov(g,f,p,u,w,y);g.aa().uv(k);g.qc()}},Mua(){const g=this.Uf;g.$O()&&g.Fr().pg()},Lp(g,k){(g=this.b.qa().aO(g))&&(0===k?g.Lp(!1):1===k?g.Lp(!0):g.Lp(!g.Sr()))},l7(g){this.b.$G(g)},hua(g,k){0>k&&(k=0);if(g){g=g.aa().ta();for(const n of g)n.$G(k)}},Esa(g){if(g){g=g.aa().ta();for(const k of g)k.Y5()}},
oH(g){if(!(0>g))return this.b.qa().HE().K2(g),!0},u8(g){this.b.qa().HE().I2(g);return!0},Vva(){const g=this.b.qa();g.HE().x2(g.l1());return!0},G7(g){g=g.toLowerCase();for(const k of this.b.qa().Cg)k.l3()&&k.Lx===g&&k.WG()},async bR(g,k,n,q,t,p){const v=this.b.Y;v&&(this.U(),await v.bR(0===g?"image/png":"image/jpeg",k/100,n,q,t,p),await this.b.mb(e.g.Ea.F.j4,null))},jta(g,k){if(!(0>=g||0>=k)){this.b.Hv(g,k);var n=this.b.Oa();n.My();for(const q of n.nc)q.nH();if(n=this.b.Y)"off"!==n.Ou()&&this.b.Z6(g,
k),n.rc(n.il,n.hl,!0),this.b.U()}},yta(g){const k=this.b.Y;k&&"off"!==k.Ou()&&(k.IQ(0!==g?"high":"low"),k.rc(k.il,k.hl,!0))},Ip(g){this.b.g6(g)},ppa(g){this.b.C3(g)},qpa(g){this.b.nG(g)},Ata(){},Csa(){for(const g of this.b.cb.hj)g.U5()},mua(g){this.b.c7(0!==g)},PQ(g){this.b.PQ(g)},Aua(g,k){if(g){var n=g.aa().ta(),q=this.b.Oa(),t=g.bb;g=g.gi;for(let v=0,u=n.length;v<u;++v){var p=n[v];const w=p.A();if(!w)continue;let y;y=t?p.Ye(k+p.J().uF(g)):p.Ye(k);d.push([w.ka().La(),w.jk()]);c.push([p,y])}if(d.length){d.sort(b);
c.sort(a);k=!1;for(let v=0,u=d.length;v<u;++v)n=c[v][0],t=q.Su(d[v][0]),g=d[v][1],p=t.H,p[g]!==n&&(p[g]=n,n.A().bw(t),t.bh(),k=!0);k&&this.b.U();e.G(d);e.G(c)}}},u1(g){if(!this.b.Ej){var k=this.b.cb;k.Ur()||k.Py(g)}},rna(g){if(!this.b.Ej){var k=this.b.cb;k.Ur()||(g=k.Ir(g))&&k.Py(g)}},Ppa(g){if(!this.b.Ej){var k=this.b.cb;if(!k.Ur()){var n=k.hj,q=n.indexOf(k.Tb());g&&0===q||(g||q!==n.length-1)&&k.Py(n[q+(g?-1:1)])}}},X5(){if(!this.b.Ej){var g=this.b.cb;g.Ur()||(g.Py(g.Tb()),this.b.qa().R5())}},Rta(g,
k){g&&g.Od(k)},T6(g,k){g&&g.df(k/100)},U6(g,k){g&&g.RQ(k)},Ota(g,k){g&&g.e7(k)},Hta(g,k){g&&g.Wc(e.Ia(+k))},Pta(g,k,n){g&&(g.zv(!0),g.Xi(k),g.Yi(n))},Dsa(g){g&&g.zv(!1)},Nta(g,k,n){g&&g.a7(k/100,n/100)},Sta(g,k){g&&g.Ce(+k)},Ita(g,k){g&&(l.Dy(k),l.fa(),g=g.dm,g.Xo(l)||(g.Wm(l),this.U()))},Qta(g,k){g&&g.t7(k)},Jta(g,k){g&&g.cf(k)},Kta(g,k,n){g&&(g=g.Wa,n=g.Bl(n))&&(k=1===k,n.Rb!==k&&(n.kA(k),g.On(),this.b.U()))},Lta(g,k,n,q){if(g&&(g=g.Wa,k=g.Bl(k))&&(g=g.Mg(k.La()),n=Math.floor(n),!(0>n||n>=g.length))){var t=
k.sb.Az(n);if("color"===t){l.Dy(q);n=g[n];if(l.Xo(n))return;n.Wm(l)}else{"percent"===t&&(q/=100);if(g[n]===q)return;g[n]=q}k.Rb&&this.b.U()}},Mta(g,k){g&&g.H6(k)},Xta(g){this.b.Oa().Mp(+g)},Tta(g){this.b.Oa().Wc(e.Ia(+g))},Uta(g,k){const n=this.b.Oa().Wa;if(k=n.Bl(k))g=1===g,k.Rb!==g&&(k.kA(g),n.On(),this.b.U())},Vta(g,k,n){var q=this.b.Oa().Wa;if(g=q.Bl(g))if(q=q.Mg(g.La()),k=Math.floor(k),!(0>k||k>=q.length)){var t=g.sb.Az(k);if("color"===t){l.Dy(n);k=q[k];if(l.Xo(k))return;k.Wm(l)}else{"percent"===
t&&(n/=100);if(q[k]===n)return;q[k]=n}g.Rb&&this.b.U()}},Yta(g,k){this.b.Oa().w7(g/100,k/100)},Wta(g){const k=this.b.Oa();0===g?k.TQ():k.QQ()},Ysa(g){this.b.Oa().Xi(g)},Zsa(g){this.b.Oa().Yi(g)},Wsa(g,k){const n=this.b.Oa();n.Xi(g);n.Yi(k)},Xsa(g){if(g&&(g=g.Dl())&&(g=g.A())){var k=this.b.Oa();k.Xi(g.O());k.Yi(g.P())}},async E3(g){const k=this.b.Tb();k&&g&&!this.b.Ej&&await this.VH(k,g.bb?g.sq:[g])},async opa(g){await e.g.Ea.ja.E3.call(this,this.b.EF(g))},Iva(g){const k=this.b.Tb();k&&g&&this.PT(k,
g.bb?g.sq:[g])},g8(g){e.g.Ea.ja.g8.call(this,this.b.EF(g))},Jva(){const g=this.b.Tb();if(g){var k=g.laa();this.PT(g,k)}},async mpa(g){const k=this.b.Tb();g&&k&&!this.b.Ej&&await this.VH(k,g.jS())},async npa(g){const k=this.b.Tb();(g=this.b.cb.Ir(g))&&k&&!this.b.Ej&&await this.VH(k,g.jS())},pA(g){const k=this.de.s0();if(k)switch(k.LU){case 1:"number"===typeof g&&k.pA(g);break;case 2:"string"===typeof g&&k.pA(g);break;case 3:k.pA(g)}},xpa(g,k,n){var q=this.IA(g.toLowerCase(),!0);const t=q.zE,p=k.toLowerCase();
t.has(p)&&console.warn(`[Construct 3] Function map '${g}' string '${k}' already in map; overwriting entry`);(q=e.first(t.values())||q.Vo)&&0!==q.Fm!==(0!==n.Fm)?console.error(`[Construct 3] Function map '${g}' string '${k}' function return type not compatible with other functions in the map; entry ignored`):t.set(p,n)},ypa(g,k){const n=this.IA(g.toLowerCase(),!0);n.Vo&&console.warn(`[Construct 3] Function map '${g}' already has a default; overwriting entry`);const q=e.first(n.zE.values())||n.Vo;q&&
0!==q.Fm!==(0!==k.Fm)?console.error(`[Construct 3] Function map '${g}' default: function return type not compatible with other functions in the map; entry ignored`):n.Vo=k},Kka(g,k,n){n=Math.floor(n);var q=this.IA(g.toLowerCase(),!1);if(q){var t=q.zE.get(k.toLowerCase());if(!t)if(q.Vo)t=q.Vo,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${g}' string '${k}'; call ignored (consider setting a default)`);return}if(t.lk())if(0!==t.Fm)console.warn(`[Construct 3] Call mapped function: map '${g}' string '${k}' has a return type so cannot be called`);
else{g=this.b;k=g.qa();var p=k.Ob();q=p.Nd();var v=0<q.length;v&&k.Xg(q);var u=[];if(p=k.gF(p)){p=p.ph;for(let w=n,y=p.length;w<y;++w)u.push(p[w].eb())}n=t.ph;for(let w=u.length,y=n.length;w<y;++w)u.push(n[w].rb);return g.Ke?this.G9(k,t,u,v,q):this.f$(k,t,u,v,q)}}else console.warn(`[Construct 3] Call mapped function: map name '${g}' not found; call ignored`)}}}
{"use strict";const e=self.B;e.g.Ea.ob={Dxa:function(b){"string"===typeof b&&(b=parseInt(b,10),isNaN(b)&&(b=0));return Math.floor(b)},Ywa:function(b){"string"===typeof b&&(b=parseFloat(b),isNaN(b)&&(b=0));return b},an(b){return b.toString()},ty(b){return"string"===typeof b?b.length:0},random(b,a){return"undefined"===typeof a?this.b.Ql()*b:this.b.Ql()*(a-b)+b},zga(...b){return b[Math.floor(this.b.Ql()*b.length)]},nya(){return Math.PI},Bxa(){return Infinity},sqrt(b){return Math.sqrt(b)},abs(b){return Math.abs(b)},
round(b){return Math.round(b)},Nya(b,a){a=Math.max(Math.floor(a),0);a=Math.pow(10,a);return Math.round((b+Number.EPSILON)*a)/a},floor(b){return Math.floor(b)},ceil(b){return Math.ceil(b)},sign(b){return Math.sign(b)},sin(b){return Math.sin(e.Ia(b))},cos(b){return Math.cos(e.Ia(b))},tan(b){return Math.tan(e.Ia(b))},asin(b){return e.le(Math.asin(b))},acos(b){return e.le(Math.acos(b))},atan(b){return e.le(Math.atan(b))},exp(b){return Math.exp(b)},Aha(b){return Math.log(b)},log10(b){return Math.log(b)/
Math.LN10},max(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let d=1,c=b.length;d<c;++d){let f=b[d];"number"===typeof f&&a<f&&(a=f)}return a},min(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let d=1,c=b.length;d<c;++d){let f=b[d];"number"===typeof f&&a>f&&(a=f)}return a},fa(b,a,d){return e.fa(b,a,d)},ly(b,a,d,c){return e.ll(b,a,d,c)},angle(b,a,d,c){return e.le(e.hy(b,a,d,c))},pc(b,a,d){return e.pc(b,a,d)},AE(b,a,d){return e.AE(b,a,d)},rE(b,a,d,c){return e.rE(b,a,d,c)},bX(b,a,d,c,f){return e.bX(b,
a,d,c,f)},aX(b,a,d){return e.aX(b,a,d)},xwa(b,a){return e.le(e.$t(e.Ia(b),e.Ia(a)))},ywa(b,a,d){return e.le(e.YL(e.Ia(b),e.Ia(a),d))},zwa(b,a,d){return e.le(e.ZL(e.Ia(b),e.Ia(a),e.Ia(d)))},Zya(b,a,d){a|=0;return(b|0)&~(1<<a)|(0!==d?1:0)<<a},hza(b,a){return(b|0)^1<<(a|0)},vxa(b,a){return(b|0)&1<<(a|0)?1:0},dya(){return"\n"},oza(b){return"string"===typeof b?b.toUpperCase():""},Xxa(b){return"string"===typeof b?b.toLowerCase():""},left(b,a){return"string"===typeof b?b.substr(0,a):""},mid(b,a,d){return"string"!==
typeof b?"":0>d?b.substr(a):b.substr(a,d)},right(b,a){return"string"===typeof b?b.substr(b.length-a):""},trim(b){return"string"===typeof b?b.trim():""},iza(b,a,d){if("string"!==typeof b||"string"!==typeof d)return"";b=b.split(d);a=Math.floor(a);return 0>a||a>=b.length?"":b[a]},jza(b,a){return"string"===typeof b&&"string"===typeof a&&b.length?b.split(a).length:0},find(b,a){return"string"===typeof b&&"string"===typeof a?b.search(new RegExp(e.Eu(a),"i")):-1},Xwa(b,a){return"string"===typeof b&&"string"===
typeof a?b.search(new RegExp(e.Eu(a),"")):-1},replace(b,a,d){return"string"===typeof b&&"string"===typeof a&&"string"===typeof d?b.replace(new RegExp(e.Eu(a),"gi"),d):"string"===typeof b?b:""},yya(b,a,d){a=this.Bz(a,d);return b?b.search(a):-1},xya(b,a,d,c){a=this.Bz(a,d);return b?b.replace(a,c):""},wya(b,a,d){return(b=this.rO(b.toString(),a,d))?b.length:0},vya(b,a,d,c){c=Math.floor(c);b=this.rO(b.toString(),a,d);return!b||0>c||c>=b.length?"":b[c]},yza(b,a){let d=0>b?"-":"";0>b&&(b=-b);d+="0".repeat(Math.max(a-
b.toString().length,0));return d+b.toString()},qza(b){return encodeURIComponent(b)},pza(b){return decodeURIComponent(b)},fX(){return this.b.LB},fza(){return this.b.he},vza(){return(Date.now()-this.b.Eo)/1E3},mza(){return Date.now()},time(){return this.b.Ng()},eza(){return this.b.al},hya(){return this.b.PK},$wa(){return this.b.cC},Lwa(){return this.b.ZC},wxa(){return this.b.xz()},xza(){return this.b.Y.bi},wza(){return this.b.Y.ai},lya(){return this.b.wh},kya(){return this.b.vh},jya(){return this.b.wh},
iya(){return this.b.vh},Qya(){return this.b.Oa().ig()},Rya(){return this.b.Oa().jg()},Txa(){return this.b.Oa().Da()},Uxa(){return this.b.Oa().ec},Sxa(){return e.le(this.b.Oa().na())},wha(){return this.b.Oa().L()},vha(){return this.b.Oa().M()},uia(b){return(b=this.b.Oa().ka(b))?b.Qo.X:0},wia(b){return(b=this.b.Oa().ka(b))?b.Qo.S:0},via(b){return(b=this.b.Oa().ka(b))?b.Qo.ca:0},tia(b){return(b=this.b.Oa().ka(b))?b.Qo.Z:0},uza(b){return(b=this.b.Oa().ka(b))?b.Qo.width():0},tza(b){return(b=this.b.Oa().ka(b))?
b.Qo.height():0},Gwa(b,a,d){return(b=this.b.Oa().ka(b))?b.Hg(a,d)[0]:0},Hwa(b,a,d){return(b=this.b.Oa().ka(b))?b.Hg(a,d)[1]:0},Pxa(b,a,d){return(b=this.b.Oa().ka(b))?b.Dp(a,d)[0]:0},Qxa(b,a,d){return(b=this.b.Oa().ka(b))?b.Dp(a,d)[1]:0},uha(b){return(b=this.b.Oa().ka(b))?b.ec:0},Ixa(b){return(b=this.b.Oa().ka(b))?e.le(b.Ge):0},tha(b){return(b=this.b.Oa().ka(b))?100*b.Ld():0},Mxa(b){return(b=this.b.Oa().ka(b))?b.Lj:0},Nxa(b){return(b=this.b.Oa().ka(b))?b.ig():0},Oxa(b){return(b=this.b.Oa().ka(b))?
b.jg():0},Kxa(b){return(b=this.b.Oa().ka(b))?100*b.se:0},Lxa(b){return(b=this.b.Oa().ka(b))?100*b.te:0},Rxa(b){return(b=this.b.Oa().ka(b))?b.Sa():0},Jxa(b){return(b=this.b.Oa().ka(b))?b.La():-1},Fwa(){const b=this.b.Y;return b?b.pL:""},Wxa(b){const a=this.Uf;return a.$O()?b?(b=a.b0(b))?b.La():0:a.Fr().La():0},Oya(){return this.b.Kq},Ewa(b,a,...d){var c=this.IA(b.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${b}' not found; returning 0`),0;var f=c.zE.get(a.toLowerCase());
if(!f)if(c.Vo)f=c.Vo;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${b}' string '${a}'; returning 0 (consider setting a default)`),0;c=f.Fm;const l=f.Pu();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${b}' string '${a}' has no return type so cannot be called from an expression; returning 0`),0;if(!f.lk())return l;b=this.b.qa();a=b.Ob().Nd();const g=0<a.length;g&&b.Xg(a);const k=f.ph;for(let n=d.length,q=k.length;n<q;++n)d.push(k[n].rb);
f=f.Xe();d=f.FG(f.Nd(),c,l,...d);g&&b.Wb(a);return d},Bha(){return this.b.Ab.MC},zxa(){return 0===this.wq?1:this.Qw/this.wq},Df(){return this.b.Yu()?"webgpu":"webgl"},Bya(){return this.b.Yu()?"<unavailable>":this.b.xp().$x},Axa(){let b=this.b.zb().w0();return Math.round(100*b/1048576)/100},Cya(b,a,d){return e.g5(b,a,d)},Fya(b,a,d){return e.aQ(b/100,a/100,d/100)},Dya(b,a,d,c){return e.fA(b/100,a/100,d/100,c/100)},Gya(b,a,d){return e.aQ(b/255,a/255,d/255)},Eya(b,a,d,c){return e.fA(b/255,a/255,d/255,
c/255)},Rha(){return this.b.oD},qya(){return this.b.aW},Nwa(){return this.b.Ob().od.Da()},Mwa(){return this.b.Ob().Us}}}{"use strict";const e=self.B;e.g.Ra=class extends e.Th{constructor(b){super(b)}j(){super.j()}}}
{"use strict";const e=self.B;e.g.Ra.De=class extends e.uk{constructor(b){super(b);this.$d=b.$d}j(){e.G(this.$d);super.j()}Zb(){for(const b of this.$d)b.z3(this.b)}An(b){const a={Wd:this.b.Rc};return Promise.all(this.$d.map(d=>d.A3(b,a)))}qk(){for(const b of this.$d)b.B5()}dA(){this.ST()}ST(){for(const b of this.K.hha())b.ra.wI()}Iu(b){e.g.Ra.c0(this,b)}}}
{"use strict";const e=self.B,b=e.C(e.Rect),a=e.C(e.ld),d=e.C(e.Jv);e.g.Ra.Instance=class extends e.tv{constructor(f,l){super(f);let g=!0,k="",n=0,q=!0;l&&(g=!!l[0],k=l[1],n=l[2],q=l[3]);this.ac=this.K.SN(k)||this.K.$d[0];this.Jb=e.fa(n,0,this.ac.ee.length-1);this.rf=this.ac.kn(this.Jb);l=this.rf.Jc();this.Qs=l.Ub();this.iJ=l.Ph();this.Bw=l.Fz();this.y1();f.xv(2,!0);f.xv(1,0<=this.ac.Gl());this.Lk=Math.abs(this.ac.Gl());this.Ps=this.ac.iW;this.lB=e.C(e.Xr);this.Hk=this.yj=0;this.cU="";this.xw=-1;this.Js=
"";this.jU=0;f=this.A();this.Wea=f.Kg();f.Od(g);f.wv(q);f.ms(this.rf.$j());f.ns(this.rf.ak());f.YG(this.rf.kq);f.ab();1===this.K.$d.length&&1===this.K.$d[0].ee.length||0===this.Lk||this.Of()}j(){this.lB=this.Qs=this.rf=this.ac=null;super.j()}Kd(){return this.rf.Jc()}wn(){return!0}$r(){this.Qs=null}$P(){this.wI()}me(f){var l=this.Qs;null!==l&&(f.gf(l),l=this.A(),l.Sg()?this.JH(l,f):this.KH(l,f))}KH(f,l){let g=this.Wea;this.b.Tk&&(g=f.kv(g));l.eQ(g,this.Bw)}JH(f,l){const g=f.HO();if(f.dP()){f.Oy(b,
a,!1);let k=a;this.b.Tk&&(k=f.kv(k));g.lN(f.hk(),k,this.Bw);f.rA(!1)}g.me(l)}Lu(){return this.lB.ea()}Qz(){return this.R.xF(2)}hs(f){this.R.xv(2,f)}Wz(){return this.R.xF(1)}Cv(f){this.R.xv(1,f)}hG(){return this.R.xF(4)}KQ(f){this.R.xv(4,f)}Gd(){this.Js&&this.PR();0<=this.xw&&this.HH();const f=this.Lk;if(this.Qz()&&0!==f){this.lB.yc(this.b.Al(this.R));var l=this.Lu(),g=this.rf,k=g.vU/f;if(!(l<this.yj+k)){var n=this.ac,q=this.Ps,t=n.ee.length,p=n.nn(),v=n.xC,u=n.Afa;this.Wz()?this.Jb++:this.Jb--;this.yj+=
k;this.Jb>=t&&(u?(this.Cv(!1),this.Jb=t-2):v?this.Jb=q:(this.Hk++,this.Hk>=p?this.MH(!1):this.Jb=q));0>this.Jb&&(u?(this.Jb=1,this.Cv(!0),v||(this.Hk++,this.Hk>=p&&this.MH(!0))):v?this.Jb=q:(this.Hk++,this.Hk>=p?this.MH(!0):this.Jb=q));this.Jb=e.fa(this.Jb,0,t-1);k=n.kn(this.Jb);l>this.yj+k.vU/f&&(this.yj=l);this.RA(g,k)}}else this.aq()}MH(f){this.Jb=f?0:this.ac.ee.length-1;this.hs(!1);this.cU=this.ac.Da();this.KQ(!0);this.ia(e.g.Ra.F.BP);this.ia(e.g.Ra.F.AP);this.KQ(!1);this.Hk=0}RA(f,l){if(f!==
l){var g=this.A(),k=f.Jc();f=l.Jc();var n=k.L();k=k.M();var q=f.L(),t=f.M();n!==q&&g.Zd(g.L()*(q/n));k!==t&&g.Be(g.M()*(t/k));g.ms(l.$j());g.ns(l.ak());g.YG(l.kq);g.ab();this.rf=l;this.Qs=f.Ub();this.iJ=f.Ph();this.Bw=f.Fz();l=this.Ga().yd;for(let p=0,v=l.length;p<v;++p);this.ia(e.g.Ra.F.v4);this.b.U()}}iea(f){this.hs(!0);this.yj=this.Lu();1===f&&0!==this.Jb&&(this.xw=0,this.hG()||this.HH());this.Of()}oda(f,l){this.Js=f;this.jU=l;this.Of();this.hG()||this.PR()}gS(){return this.Js?this.Js:this.ac.Da()}pda(f){isFinite(f)&&
(this.xw=f,this.hG()||this.HH())}rda(f){this.Lk=Math.abs(f);this.Cv(0<=f);0<this.Lk&&this.Of()}cS(){return this.Wz()?this.Lk:-this.Lk}qda(f){this.Ps=f=e.fa(Math.floor(f),0,this.ac.ee.length-1)}PR(){const f=this.rf;var l=this.K.SN(this.Js);this.Js="";!l||l===this.ac&&this.Qz()||(this.ac=l,this.Cv(0<=l.Gl()),this.Lk=Math.abs(l.Gl()),this.Ps=l.iW,this.Jb=e.fa(this.Jb,0,this.ac.ee.length-1),1===this.jU&&(this.Jb=0),this.hs(!0),this.yj=this.Lu(),l=this.ac.kn(this.Jb),this.RA(f,l))}HH(){const f=this.rf;
var l=this.Jb;this.Jb=e.fa(Math.floor(this.xw),0,this.ac.ee.length-1);this.xw=-1;l!==this.Jb&&(l=this.ac.kn(this.Jb),this.RA(f,l),this.yj=this.Lu())}wI(){const f=this.rf.Jc();this.Qs=f.Ub();this.iJ=f.Ph();this.Bw=f.Fz();this.A().rA(!0)}Ub(){return this.Qs}Ph(){return this.iJ}Fz(){return this.Bw}AF(){return this.rf.AF()}ln(f){const l=this.rf,g=this.A();if("string"===typeof f)f=l.P0(f);else if("number"===typeof f)f=l.O0(f-1);else throw new TypeError("expected string or number");if(!f)return[g.O(),g.P()];
d.za(f.aL);if(g.Sg()){const [k,n]=g.hk().jR(d.$,d.V);d.set(k,n)}d.offset(-l.$j(),-l.ak());d.scale(g.L(),g.M());d.rotate(g.na());d.offset(g.O(),g.P());return[d.$,d.V]}q0(){return this.A().Hl().AX()}XN(f){f=Math.floor(f);const l=this.A();var g=l.Hl();const k=g.AX();f===k&&(f=0);if(0>f||f>=k)return[0,0];g=g.ge;return[g[2*f]+l.O(),g[2*f+1]+l.P()]}Kc(){const f={a:this.ac.pb};0!==this.yj&&(f.fs=this.yj);var l=this.Lu();0!==l&&(f.at=l);0!==this.Jb&&(f.f=this.Jb);0!==this.Lk&&(f.cas=this.Lk);1!==this.Hk&&
(f.ar=this.Hk);0!==this.Ps&&(f.rt=this.Ps);this.Qz()||(f.ap=this.Qz());this.Wz()||(f.af=this.Wz());l=this.A();l.Ti()&&(f.ce=l.Ti());return f}Dc(f){var l=this.J().l0(f.a);l&&(this.ac=l);this.yj=f.hasOwnProperty("fs")?f.fs:0;this.lB.Set(f.hasOwnProperty("at")?f.at:0);l=f.hasOwnProperty("f")?f.f:0;this.Jb=e.fa(l,0,this.ac.ee.length-1);this.Lk=f.hasOwnProperty("cas")?f.cas:0;this.Hk=f.hasOwnProperty("ar")?f.ar:1;l=f.hasOwnProperty("rt")?f.rt:0;this.Ps=e.fa(l,0,this.ac.ee.length-1);this.hs(f.hasOwnProperty("ap")?
!!f.ap:!0);this.Cv(f.hasOwnProperty("af")?!!f.af:!0);this.rf=l=this.ac.kn(this.Jb);this.wI();const g=this.A();g.ms(l.$j());g.ns(l.ak());g.YG(l.kq);g.wv(!!f.ce)}kc(f){const l=this.A();switch(f){case 3:return l.Ti();case 2:return e.fa(this.Jb,0,this.ac.ee.length-1)}}ef(f,l){var g=this.A();switch(f){case 3:g.wv(!!l);break;case 2:this.hs(!1);f=this.ac.ee.length-1;g=l=e.fa(l,0,f);l=this.ac.kn(this.Jb);const k=this.ac.kn(g);this.RA(l,k);this.Jb=e.fa(g,0,f)}}Rg(){return self.Y1}};const c=new WeakMap;self.Y1=
class extends self.av{constructor(){super();c.set(this,self.Qr.Up().ra)}get animationName(){return c.get(this).gS()}get imageWidth(){return c.get(this).Kd().L()}get imageHeight(){return c.get(this).Kd().M()}}}
{"use strict";const e=self.B;e.g.Ra.F={Q2(b){return e.Hh(this.gS(),b)},hZ(b,a){return e.compare(this.Jb,b,a)},gZ(b,a){return e.compare(this.cS(),b,a)},AP(b){return e.Hh(this.cU,b)},BP(){return!0},v4(){return!0},Foa(){return 0>this.A().L()},voa(){return 0>this.A().M()},eA(){return!0},sG(){return!0},Ti(){return this.A().Ti()}}}
{"use strict";const e=self.B;e.g.Ra.ja={dR(b,a,d,c){if(b&&a){var [f,l]=this.ln(d);if(d=this.b.WE(b,a,f,l,c)){c&&a.eH(d);b.Pb().Wr()&&(a=d.A(),a.Wc(this.A().na()),a.ab());a=this.b.qa();a.Te(!0);d.dB();a.Te(!1);c=this.b.Nu().fk();a=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.b.Ys)a=!0,c.set("Spawn_LastExec",this.b.Ys);if(b!==this.J()&&(b=b.aa(),b.Ee(!1),b=b.H,a&&e.G(b),b.push(d),d.lc()))for(const g of d.Rd)d=g.J().aa(),a?d.yk(g):(d.Ee(!1),d.Xp(g))}}},Kua(){this.hs(!1)},O7(b){this.iea(b)},
l6(b,a){this.oda(b,a)},m6(b){this.pda(b)},dta(b){this.rda(b)},cta(b){this.qda(b)},eua(b){const a=this.A(),d=a.L();b=Math.abs(d)*(0===b?-1:1);d!==b&&(a.Zd(b),a.ab())},wta(b){const a=this.A(),d=a.M();b=Math.abs(d)*(0===b?-1:1);d!==b&&(a.Be(b),a.ab())},Mp(b){const a=this.rf.Jc(),d=this.A();var c=0>d.L()?-1:1;const f=0>d.M()?-1:1;c*=a.L()*b;b=a.M()*b*f;if(d.L()!==c||d.M()!==b)d.rc(c,b),d.ab()},async G3(b,a){const d=this.rf.Jc(),c=this.A(),f=this.b;if(d.Qj===b)0===a&&(c.rc(d.L(),d.M()),c.ab()),this.ia(e.g.Ra.F.eA);
else{var l=e.C(e.bv);try{await l.mP(f,b);if(!l.Uz())throw Error("image failed to load");await l.zn(f.zb(),{Wd:this.b.Rc})}catch(g){console.error("Load image from URL failed: ",g);this.ia(e.g.Ra.F.sG);return}d.O5(l);this.Qa.ST();this.Qp()||0!==a||(c.rc(d.L(),d.M()),c.ab());f.U();this.Qp()||await this.mb(e.g.Ra.F.eA)}},lta(b){this.A().wv(b)},XG(b,a){this.A().XG(0===b,a)},NG(b){this.A().cf(b);this.b.U()}}}"use strict";
self.B.g.Ra.ob={uja(){return this.Jb},vja(){return this.ac.ee.length},wja(){return this.ac.Da()},xja(){return this.cS()},lqa(){return this.ac.Gl()},Xna(e){return this.ln(e)[0]},Yna(e){return this.ln(e)[1]},Wna(){return this.AF()},g2(){return this.Kd().L()},e2(){return this.Kd().M()},mra(e){return this.XN(e)[0]},nra(e){return this.XN(e)[1]},lra(){return this.q0()}};{"use strict";const e=self.B;e.g.lf=class extends e.Th{constructor(b){super(b)}j(){super.j()}}}
{"use strict";const e=self.B;function b(a){switch(a){case 0:return"clamp-to-edge";case 2:return"mirror-repeat"}return"repeat"}e.g.lf.De=class extends e.uk{constructor(a,d){super(a);this.Um=this.Tm="repeat";d&&(this.Tm=b(d[0]),this.Um=b(d[1]))}j(){super.j()}Zb(){this.Jc().gv(this.b)}An(a){return this.Jc().zn(a,{Wd:this.b.Rc,cn:this.Tm,dn:this.Um})}qk(){this.Jc().Yg()}}}
{"use strict";const e=self.B,b=e.C(e.Rect),a=e.C(e.ld),d=e.C(e.Rect),c=e.C(e.ld);e.g.lf.Instance=class extends e.tv{constructor(l,g){super(l);this.et=this.dt=0;this.gt=this.ft=1;this.mm=0;this.Nq=null;g&&(this.A().Od(!!g[0]),this.dt=g[4],this.et=g[5],this.ft=g[6],this.gt=g[7],this.mm=e.Ia(g[8]))}j(){this.cT();super.j()}cT(){this.Nq&&(this.Nq.j(),this.Nq=null)}me(l){var g=this.Kd(),k=g.Ub();if(null!==k){l.gf(k);k=g.L();g=g.M();var n=this.dt/k,q=this.et/g,t=this.A();d.set(0,0,t.L()/(k*this.ft),t.M()/
(g*this.gt));d.offset(-n,-q);t.Sg()?this.JH(t,l):this.KH(t,l)}}KH(l,g){let k=l.Kg();this.b.Tk&&(k=l.kv(k));0===this.mm?g.Pl(k,d):(c.Ey(d,-this.mm),g.eQ(k,c))}JH(l,g){const k=l.HO();if(l.dP()){l.Oy(b,a,!1);let n=a;this.b.Tk&&(n=l.kv(n));let q=d;0!==this.mm&&(c.Ey(d,-this.mm),q=c);k.lN(l.hk(),n,q);l.rA(!1)}k.me(g)}Kd(){return this.Nq||this.K.Jc()}wn(){return!0}Ub(){return this.Kd().Ub()}ew(){this.A().rA(!0)}xT(l){this.dt!==l&&(this.dt=l,this.b.U(),this.ew())}yT(l){this.et!==l&&(this.et=l,this.b.U(),
this.ew())}zT(l){this.ft!==l&&(this.ft=l,this.b.U(),this.ew())}AT(l){this.gt!==l&&(this.gt=l,this.b.U(),this.ew())}wT(l){this.mm!==l&&(this.mm=l,this.b.U(),this.ew())}kc(l){switch(l){case 4:return this.dt;case 5:return this.et;case 6:return this.ft;case 7:return this.gt;case 8:return this.mm}}ef(l,g){switch(l){case 4:this.xT(g);break;case 5:this.yT(g);break;case 6:this.zT(g);break;case 7:this.AT(g);break;case 8:this.wT(g)}}Rg(){return self.a2}};const f=new WeakMap;self.a2=class extends self.av{constructor(){super();
f.set(this,self.Qr.Up().ra)}get imageWidth(){return f.get(this).Kd().L()}get imageHeight(){return f.get(this).Kd().M()}}}"use strict";self.B.g.lf.F={eA(){return!0},sG(){return!0}};
{"use strict";const e=self.B;e.g.lf.ja={Dta(b){this.xT(b)},Eta(b){this.yT(b)},Fta(b){this.zT(b/100)},Gta(b){this.AT(b/100)},Cta(b){this.wT(e.Ia(b))},NG(b){this.A().cf(b);this.b.U()},async G3(b){if(!this.Nq||this.Nq.Qj!==b){var a=this.b,d=e.C(e.bv);try{await d.mP(a,b);if(!d.Uz())throw Error("image failed to load");if(this.Qp())return d.j(),null;if(!await d.zn(a.zb(),{Wd:this.b.Rc,cn:"repeat",dn:"repeat"}))return}catch(c){console.error("Load image from URL failed: ",c);this.ia(e.g.lf.F.sG);return}this.Qp()?
d.j():(this.cT(),this.Nq=d,a.U(),await this.mb(e.g.lf.F.eA))}}}}{"use strict";const e=self.B;e.g.lf.ob={g2(){return this.Kd().L()},e2(){return this.Kd().M()},Una(){return this.dt},Vna(){return this.et},Zna(){return 100*this.ft},$na(){return 100*this.gt},Rna(){return e.le(this.mm)}}}{"use strict";const e=self.B;e.g.Audio=class extends e.Th{constructor(b){super(b)}j(){super.j()}}}
{"use strict";const e=self.B;e.g.Audio.De=class extends e.uk{constructor(b){super(b)}j(){super.j()}Zb(){}Rg(){return self.P1}};self.P1=class extends self.$u{constructor(b){super(b)}}}
{"use strict";const e=self.B,b=["interactive","balanced","playback"];e.g.Audio.Instance=class extends e.Fn{constructor(a,d){super(a,"audio");this.uh=0;this.FL="";this.Fx=this.GW=0;this.ZK=!1;this.sU=this.UV=1;this.po=this.b.Zf/2;this.qo=this.b.Yf/2;this.Lq=-600;this.eW=600;this.DV=1E4;this.kW=1;this.ki=null;this.UC=-1;this.At=1;this.xg=!1;this.mW=0;this.QB=new Map;this.bL=this.cL=0;this.Dm=new Map;a="interactive";d&&(this.GW=d[0],this.Fx=d[1],this.ZK=d[2],a=b[d[3]],this.UV=d[4],this.sU=d[5],this.Lq=
-d[6],this.eW=d[7],this.DV=d[8],this.kW=d[9]);this.rh=[];this.mt=[];this.KC=[];this.FE([["state",c=>this.bca(c)],["fxstate",c=>this.aca(c)],["trigger",c=>this.$ba(c)]]);d=this.I().Ib();this.ae=new e.jp(e.Kb.jc(d,"instancedestroy",c=>this.ZH(c.instance)),e.Kb.jc(d,"afterload",()=>this.Wp()),e.Kb.jc(d,"suspend",()=>this.cI()),e.Kb.jc(d,"resume",()=>this.bI()));this.b.bN(this.pk("create-audio-context",{preloadList:this.b.Ab.m0().map(c=>({originalUrl:c.Mha,url:c.url,type:c.type,fileSize:c.fileSize})),
isiOSCordova:this.b.lK,timeScaleMode:this.GW,latencyHint:a,panningModel:this.UV,distanceModel:this.sU,refDistance:this.eW,maxDistance:this.DV,rolloffFactor:this.kW,listenerPos:[this.po,this.qo,this.Lq]}).then(c=>{this.mW=c.sampleRate}));this.Of()}j(){this.ki=null;super.j()}ZH(a){this.ki===a&&(this.ki=null)}Yy(a){return Math.pow(10,a/20)}Dd(a){a=this.Yy(a);return isFinite(a)?Math.max(Math.min(a,1),0):0}y3(a){return Math.log(a)/Math.log(10)*20}jP(a){return this.y3(Math.max(Math.min(a,1),0))}cI(){this.ZK||
this.Ta("set-suspended",{isSuspended:!0})}bI(){this.ZK||this.Ta("set-suspended",{isSuspended:!1})}bca(a){const d=a.tickCount,c=this.rh.filter(f=>f.hasOwnProperty("placeholder")&&(f.placeholder>d||-1===f.placeholder));this.rh=a.audioInstances;this.KC=a.analysers;0<c.length&&e.Vm(this.rh,c)}aca(a){this.mt=a.fxstate}HA(a){for(const d of this.rh)if(e.Hh(d.tag,a))return d;return null}FS(a){return this.rh.some(d=>e.Hh(a,d.tag)&&d.isPlaying)}Ds(a,d,c,f){if(this.FS(a))return null;a={tag:a,duration:0,volume:f,
isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:"",bufferUrl:"",bufferType:"",isMusic:d,isLooping:c,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};this.rh.push(a);return a}async $ba(a){const d=a.type;this.FL=a.tag;a=a.aiid;if("ended"===d){for(const c of this.rh)if(c.aiid===a){c.isPlaying=!1;break}await this.mb(e.g.Audio.F.p4)}else"fade-ended"===d&&await this.mb(e.g.Audio.F.r4)}Gd(){const a={timeScale:this.b.he,gameTime:this.b.zF(),instPans:this.R0(),tickCount:this.b.Go};
if(this.ki){const d=this.ki.A();this.po=d.O();this.qo=d.P();a.listenerPos=[this.po,this.qo,this.Lq]}this.Ta("tick",a)}KM(a,d,c,f,l){if(0===c)return[a,d];const g=Math.sin(c);c=Math.cos(c);a-=f;d-=l;const k=a*g;a=a*c-d*g;return[a+f,d*c+k+l]}R0(){return this.rh.filter(a=>-1!==a.uid).map(a=>this.b.Og(a.uid)).filter(a=>a).map(a=>{const d=a.A(),c=d.ka().na(),[f,l]=this.KM(d.O(),d.P(),-c,this.po,this.qo);return{uid:a.ic,x:f,y:l,angle:d.na()-c}})}iz(a,d){for(const c of this.KC)if(c.index===d&&e.Hh(c.tag,
a))return c;return null}Yh(a){this.QB.set(a,(this.QB.get(a)||0)+1)}dea(a){return a.hasOwnProperty("placeholder")||3===this.Fx?!1:a.isMusic&&1===this.Fx?!1:a.isMusic||2!==this.Fx?!0:!1}Kc(){return{isSilent:this.xg,masterVolume:this.At,listenerZ:this.Lq,listenerUid:this.ki?this.ki.ic:-1,remoteUrls:[...this.Dm.entries()],playing:this.rh.filter(a=>this.dea(a)),effects:this.mt,analysers:this.KC}}Dc(a){this.xg=a.isSilent;this.At=a.masterVolume;this.Lq=a.listenerZ;this.ki=null;this.UC=a.listenerUid;this.Dm.clear();
if(a.remoteUrls)for(const [d,c]of a.remoteUrls)this.Dm.set(d,c);this.rh=a.playing;this.mt=a.effects;this.KC=a.analysers}Wp(){if(-1!==this.UC&&(this.ki=this.b.Og(this.UC),this.UC=-1,this.ki)){var a=this.ki.A();this.po=a.O();this.qo=a.P()}for(var d of this.rh)(a=this.b.Ab.Pg(d.bufferOriginalUrl))?(d.bufferUrl=a.url,d.bufferType=a.type):d.bufferUrl=null;for(const c of Object.values(this.mt))for(const f of c)f.hasOwnProperty("bufferOriginalUrl")&&(d=this.b.Ab.Pg(f.bufferOriginalUrl))&&(f.bufferUrl=d.url,
f.bufferType=d.type);this.Ta("load-state",{saveLoadMode:this.Fx,timeScale:this.b.he,gameTime:this.b.zF(),listenerPos:[this.po,this.qo,this.Lq],isSilent:this.xg,masterVolume:this.At,playing:this.rh.filter(c=>null!==c.bufferUrl),effects:this.mt})}}}{"use strict";const e=self.B;e.g.Audio.F={p4(b){return e.Hh(this.FL,b)},r4(b){return e.Hh(this.FL,b)},rra(){return this.bL===this.cL},dja(){return!0},Toa(){return this.xg},hoa(){for(const b of this.rh)if(b.isPlaying)return!0;return!1},Voa(b){return this.FS(b)}}}
{"use strict";const e=self.B,b="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");e.g.Audio.ja={async Play(a,d,c,f){if(!this.xg){var l=a[1],g=this.b.Ab.Pg(a[0]);if(g){var k=this.uh;this.uh=0;var n=this.Ds(f.toLowerCase(),l,0!==d,this.Dd(c));try{await this.pk("play",{originalUrl:a[0],url:g.url,type:g.type,isMusic:l,tag:f.toLowerCase(),isLooping:0!==d,vol:this.Dd(c),pos:0,off:k,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.b.Go)}}}},async Tqa(a,
d,c,f,l,g,k,n,q,t){if(!this.xg){var p=a[1],v=this.b.Ab.Pg(a[0]);if(v){var u=this.uh;this.uh=0;var w=this.Ds(t.toLowerCase(),p,0!==d,this.Dd(c));try{await this.pk("play",{originalUrl:a[0],url:v.url,type:v.type,isMusic:p,tag:t.toLowerCase(),isLooping:0!==d,vol:this.Dd(c),pos:0,off:u,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:f,y:l,angle:e.Ia(g),innerAngle:e.Ia(k),outerAngle:e.Ia(n),outerGain:this.Dd(q)}})}finally{w&&(w.placeholder=this.b.Go)}}}},async Rqa(a,d,c,f,l,g,k,n){if(!this.xg&&
f&&(f=f.Dl())&&f.A()){var q=f.A(),t=q.ka().na(),[p,v]=this.KM(q.O(),q.P(),-t,this.po,this.qo),u=a[1],w=this.b.Ab.Pg(a[0]);if(w){var y=this.uh;this.uh=0;var z=this.Ds(n.toLowerCase(),u,0!==d,this.Dd(c));try{await this.pk("play",{originalUrl:a[0],url:w.url,type:w.type,isMusic:u,tag:n.toLowerCase(),isLooping:0!==d,vol:this.Dd(c),pos:0,off:y,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:p,y:v,angle:q.na()-t,innerAngle:e.Ia(l),outerAngle:e.Ia(g),outerGain:this.Dd(k),uid:f.ic}})}finally{z&&
(z.placeholder=this.b.Go)}}}},async Vqa(a,d,c,f,l){if(!this.xg){a=1===a;var g=this.b.Ab.Pg(d)||this.Dm.get(d.toLowerCase());if(g){var k=this.uh;this.uh=0;var n=this.Ds(l.toLowerCase(),a,0!==c,this.Dd(f));try{await this.pk("play",{originalUrl:d,url:g.url,type:g.type,isMusic:a,tag:l.toLowerCase(),isLooping:0!==c,vol:this.Dd(f),pos:0,off:k,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.b.Go)}}}},async Uqa(a,d,c,f,l,g,k,n,q,t,p){if(!this.xg){a=1===a;var v=this.b.Ab.Pg(d)||
this.Dm.get(d.toLowerCase());if(v){var u=this.uh;this.uh=0;var w=this.Ds(p.toLowerCase(),a,0!==c,this.Dd(f));try{await this.pk("play",{originalUrl:d,url:v.url,type:v.type,isMusic:a,tag:p.toLowerCase(),isLooping:0!==c,vol:this.Dd(f),pos:0,off:u,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:l,y:g,angle:e.Ia(k),innerAngle:e.Ia(n),outerAngle:e.Ia(q),outerGain:this.Dd(t)}})}finally{w&&(w.placeholder=this.b.Go)}}}},async Sqa(a,d,c,f,l,g,k,n,q){if(!this.xg&&!this.xg&&l&&(l=l.Dl())&&l.A()){var t=
l.A(),p=t.ka().na(),[v,u]=this.KM(t.O(),t.P(),-p,this.po,this.qo);a=1===a;var w=this.b.Ab.Pg(d)||this.Dm.get(d.toLowerCase());if(w){var y=this.uh;this.uh=0;var z=this.Ds(q.toLowerCase(),a,0!==c,this.Dd(f));try{await this.pk("play",{originalUrl:d,url:w.url,type:w.type,isMusic:a,tag:q.toLowerCase(),isLooping:0!==c,vol:this.Dd(f),pos:0,off:y,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:v,y:u,angle:t.na()-p,innerAngle:e.Ia(g),outerAngle:e.Ia(k),outerGain:this.Dd(n),uid:l.ic}})}finally{z&&
(z.placeholder=this.b.Go)}}}},aua(a,d){this.Ta("set-looping",{tag:a.toLowerCase(),isLooping:0===d})},gua(a,d){this.Ta("set-muted",{tag:a.toLowerCase(),isMuted:0===d})},A7(a,d){this.Ta("set-volume",{tag:a.toLowerCase(),vol:this.Dd(d)})},uma(a,d,c,f){this.Ta("fade-volume",{tag:a.toLowerCase(),vol:this.Dd(d),duration:c,stopOnEnd:0===f})},async o5(a){const d=a[1],c=this.b.Ab.Pg(a[0]);c&&(this.cL++,await this.pk("preload",{originalUrl:a[0],url:c.url,type:c.type,isMusic:d}),this.bL++)},async qra(a,d){a=
1===a;const c=this.b.Ab.Pg(d)||this.Dm.get(d.toLowerCase());c&&(this.cL++,await this.pk("preload",{originalUrl:d,url:c.url,type:c.type,isMusic:a}),this.bL++)},Av(a,d){this.Ta("set-playback-rate",{tag:a.toLowerCase(),rate:Math.max(d,0)})},pg(a){this.Ta("stop",{tag:a.toLowerCase()})},Jua(){this.Ta("stop-all")},iua(a,d){this.Ta("set-paused",{tag:a.toLowerCase(),paused:0===d})},ata(a,d){this.Ta("seek",{tag:a.toLowerCase(),pos:d})},nua(a){2===a&&(a=this.xg?1:0);a=0===a;this.xg!==a&&(this.xg=a,this.Ta("set-silent",
{isSilent:a}))},cua(a){a=this.Dd(a);this.At!==a&&(this.At=a,this.Ta("set-master-volume",{vol:a}))},Uia(a,d,c,f,l,g,k){a=a.toLowerCase();d=b[d];this.Yh(a);this.Ta("add-effect",{type:"filter",tag:a,params:[d,c,f,l,g,e.fa(k/100,0,1)]})},Ria(a,d,c,f){a=a.toLowerCase();this.Yh(a);this.Ta("add-effect",{type:"delay",tag:a,params:[d,this.Dd(c),e.fa(f/100,0,1)]})},Via(a,d,c,f,l,g){a=a.toLowerCase();this.Yh(a);this.Ta("add-effect",{type:"flanger",tag:a,params:[d/1E3,c/1E3,f,l/100,e.fa(g/100,0,1)]})},Zia(a,
d,c,f,l,g,k){a=a.toLowerCase();this.Yh(a);this.Ta("add-effect",{type:"phaser",tag:a,params:[d,c,f,l,g,e.fa(k/100,0,1)]})},Qia(a,d,c,f){a=a.toLowerCase();const l=this.b.Ab.Pg(d[0]);l&&(this.Yh(a),this.Ta("add-effect",{type:"convolution",tag:a,bufferOriginalUrl:d[0],bufferUrl:l.url,bufferType:l.type,params:[0===c,e.fa(f/100,0,1)]}))},Wia(a,d){a=a.toLowerCase();this.Yh(a);this.Ta("add-effect",{type:"gain",tag:a,params:[this.Dd(d)]})},Yia(a){a=a.toLowerCase();this.Yh(a);this.Ta("add-effect",{type:"gain",
tag:a,params:[0]})},bja(a,d,c){a=a.toLowerCase();this.Yh(a);this.Ta("add-effect",{type:"tremolo",tag:a,params:[d,e.fa(c/100,0,1)]})},aja(a,d,c){a=a.toLowerCase();this.Yh(a);this.Ta("add-effect",{type:"ringmod",tag:a,params:[d,e.fa(c/100,0,1)]})},Sia(a,d,c,f,l,g){a=a.toLowerCase();this.Yh(a);this.Ta("add-effect",{type:"distortion",tag:a,params:[this.Yy(d),this.Yy(c),f,this.Yy(l),e.fa(g/100,0,1)]})},Pia(a,d,c,f,l,g){a=a.toLowerCase();this.Yh(a);this.Ta("add-effect",{type:"compressor",tag:a,params:[d,
c,f,l/1E3,g/1E3]})},Oia(a,d,c){a=a.toLowerCase();this.Yh(a);this.Ta("add-effect",{type:"analyser",tag:a,params:[d,c]})},Gra(a){a=a.toLowerCase();this.QB.set(a,0);this.Ta("remove-effects",{tag:a});this.mt={}},rta(a,d,c,f,l,g){this.Ta("set-effect-param",{tag:a.toLowerCase(),index:Math.floor(d),param:c,value:f,ramp:l,time:g})},Zta(a){a&&(a=a.Dl())&&a.A()&&(this.ki=a)},$ta(a){this.Lq=a},Rsa(a){this.uh=Math.max(a,0)},Gva(a){const d=a[1];(a=this.b.Ab.Pg(a[0]))&&this.Ta("unload",{url:a.url,type:a.type,isMusic:d})},
Hva(a,d){a=1===a;(d=this.b.Ab.Pg(d)||this.Dm.get(d.toLowerCase()))&&this.Ta("unload",{url:d.url,type:d.type,isMusic:a})},Fva(){this.Ta("unload-all")},$ia(a,d,c){this.Dm.set(c.toLowerCase(),{url:a,type:d})}}}"use strict";
self.B.g.Audio.ob={Tla(e){return(e=this.HA(e))?e.duration:0},Xqa(e){return(e=this.HA(e))?e.playbackTime:0},Wqa(e){return(e=this.HA(e))?e.playbackRate:0},Uva(e){return(e=this.HA(e))?this.jP(e.volume):0},Apa(){return this.jP(this.At)},Ula(e){return this.QB.get(e.toLowerCase())||0},oja(e,b){return(e=this.iz(e,Math.floor(b)))?e.binCount:0},nja(e,b,a){e=this.iz(e,Math.floor(b));if(!e)return 0;a=Math.floor(a);return 0>a||a>=e.binCount?0:e.freqBins[a]},pja(e,b){return(e=this.iz(e,Math.floor(b)))?e.peak:
0},qja(e,b){return(e=this.iz(e,Math.floor(b)))?e.rms:0},Qsa(){return this.mW},Gla(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1E3}};{"use strict";const e=self.B;e.g.Ic=class extends e.Th{constructor(b){super(b)}j(){super.j()}}}{"use strict";const e=self.B;e.g.Ic.De=class extends e.uk{constructor(b){super(b)}j(){super.j()}Zb(){}}}
{"use strict";const e=self.B;e.g.Ic.Instance=class extends e.Fn{constructor(b){super(b,"browser");this.Qk="";this.Zw=!1;this.tU=this.fW="";this.fV=!1;this.VL=this.oW=this.pW=0;this.ax=!1;this.FE([["online-state",a=>this.Sba(a)],["backbutton",()=>this.zba()],["sw-message",a=>this.Xba(a)],["hashchange",a=>this.Iba(a)]]);b=this.I().Ib();this.ae=new e.jp(e.Kb.jc(b,"afterfirstlayoutstart",()=>this.yba()),e.Kb.jc(b,"window-resize",()=>this.gI()),e.Kb.jc(b,"suspend",()=>this.cI()),e.Kb.jc(b,"resume",()=>
this.bI()));this.b.bN(this.pk("get-initial-state",{exportType:this.b.wj}).then(a=>{this.Qk=a.location;this.Zw=a.isOnline;this.fW=a.referrer;this.tU=a.title;this.fV=a.isCookieEnabled;this.pW=a.screenWidth;this.oW=a.screenHeight;this.VL=a.windowOuterWidth;this.ax=a.isScirraArcade}))}j(){super.j()}yba(){this.Ta("ready-for-sw-messages")}async Sba(b){b=!!b.isOnline;this.Zw!==b&&((this.Zw=b)?await this.mb(e.g.Ic.F.L4):await this.mb(e.g.Ic.F.J4))}async gI(){await this.mb(e.g.Ic.F.T4)}cI(){this.ia(e.g.Ic.F.M4)}bI(){this.ia(e.g.Ic.F.N4)}async zba(){await this.mb(e.g.Ic.F.i4)}Xba(b){b=
b.type;"downloading-update"===b?this.ia(e.g.Ic.F.c5):"update-ready"===b||"update-pending"===b?this.ia(e.g.Ic.F.d5):"offline-ready"===b&&this.ia(e.g.Ic.F.K4)}Iba(b){this.Qk=b.location;this.ia(e.g.Ic.F.w4)}}}"use strict";
self.B.g.Ic.F={Loa(){return this.Zw},L4(){return!0},J4(){return!0},T4(){return!0},Ala(){return this.fV},xoa(){return this.b.Y.Cq},i4(){return!0},Poa(e){return(this.b.Y.il<=this.b.Y.hl?0:1)===e},c5(){return!0},d5(){return!0},K4(){return!0},w4(){return!0},mqa(){return!this.b.xn()},M4(){return!0},N4(){return!0},Ina(){return!1},soa(){return!1},$pa(){return!1},aqa(){return!1},Eoa(){return!1},loa(){return!0},Zua(){return!0}};
{"use strict";const e=self.B,b="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");e.g.Ic.ja={eja(a){this.Ta("alert",{message:a.toString()})},cZ(){this.ax||(this.b.Cb?self.Gg.Tka():this.Ta("close"))},Mma(){this.Ta("set-focus",{isFocus:!0})},Wja(){this.Ta("set-focus",{isFocus:!1})},ona(){this.ax||this.Ta("navigate",{type:"back"})},pna(){this.ax||this.Ta("navigate",{type:"forward"})},qna(){},Fra(){this.ax||(this.b.Cb?this.b.n5():this.Ta("navigate",
{type:"reload"}))},sna(a,d){this.Ck("navigate",{type:"url",url:a,target:d,exportType:this.b.wj})},v1(a,d){this.Ck("navigate",{type:"new-window",url:a,tag:d,exportType:this.b.wj})},P5(a,d){2<=a&&(a+=1);6===a&&(a=2);1===a&&(a=0);a=e.PE.aS(a);this.b.Y.y6(a);this.Ck("request-fullscreen",{navUI:d})},QY(){this.Ck("exit-fullscreen")},Tva(a){a=a.split(",");for(let d=0,c=a.length;d<c;++d)a[d]=parseInt(a[d],10);this.Ck("vibrate",{pattern:a})},async $F(a,d){a&&d&&(a=await this.b.Ab.HF(a),this.b.$F(a,d))},goa(a,
d,c){c&&(a=`data:${d},${encodeURIComponent(a)}`,this.b.$F(a,c))},zla(a,d){d=d.toString();0===a?console.log(d):1===a?console.warn(d):2===a&&console.error(d)},xla(a){console.group(a)},yla(){console.groupEnd()},lma(a){try{eval(a)}catch(d){console.error("Error executing JavaScript: ",d)}},tpa(a){a=Math.floor(a);0>a||a>=b.length||this.Ck("lock-orientation",{orientation:b[a]})},Kva(){this.Ck("unlock-orientation")},oP(a){this.b.Ab.oP(a)},Bta(a){this.Ta("set-hash",{hash:a})}}}"use strict";
self.B.g.Ic.ob={URL(){return this.b.Le?this.Qk:location.toString()},vra(){return this.b.Le?(new URL(this.Qk)).protocol:location.protocol},Qla(){return this.b.Le?(new URL(this.Qk)).hostname:location.hostname},pra(){return this.b.Le?(new URL(this.Qk)).port:location.port},oqa(){return this.b.Le?(new URL(this.Qk)).pathname:location.pathname},Lna(){return this.b.Le?(new URL(this.Qk)).hash:location.hash},vG(){return this.b.Le?(new URL(this.Qk)).search:location.search},xra(e){const b=this.b.Le?(new URL(this.Qk)).search:
location.search;return(e=RegExp("[?&]"+e+"=([^&]*)").exec(b))?decodeURIComponent(e[1].replace(/\+/g," ")):""},Cra(){return this.fW},jva(){return this.tU},dpa(){return navigator.language},kd(){return navigator.platform},Pva(){return navigator.userAgent},kma(e){let b=0;try{b=eval(e)}catch(a){console.error("Error executing JavaScript: ",a)}return"number"===typeof b||"string"===typeof b?b:"boolean"===typeof b?b?1:0:0},R3(){return navigator.appName},Sva(){return navigator.appVersion},ura(){return navigator.product},
Rva(){return navigator.vendor},Nja(){return 1},Oja(){return Infinity},Mja(){const e=navigator.connection;return e?e.downlink||e.downlinkMax||e.bandwidth||Infinity:Infinity},ConnectionType(){const e=navigator.connection;return e?e.type||"unknown":"unknown"},Nla(){return self.devicePixelRatio},Vsa(){return this.pW},Usa(){return this.oW},jwa(){return this.b.Y.il},iwa(){return this.b.Y.hl},lwa(){return this.VL},kwa(){return this.VL}};{"use strict";const e=self.B;e.g.Keyboard=class extends e.Th{constructor(b){super(b)}j(){super.j()}}}
{"use strict";const e=self.B;e.g.Keyboard.De=class extends e.uk{constructor(b){super(b)}j(){super.j()}Zb(){}Rg(){return self.R1}};self.R1=class extends self.$u{constructor(b){super(b);b.I().Ls.keyboard=this}}}
{"use strict";const e=self.B;e.g.Keyboard.Instance=class extends e.Fn{constructor(b){super(b);this.kt=new Set;this.lt=new Set;this.cl=0;this.Yx=this.SD="";b=this.I().Ib();this.ae=new e.jp(e.Kb.jc(b,"keydown",a=>this.Nba(a.data)),e.Kb.jc(b,"keyup",a=>this.Oba(a.data)),e.Kb.jc(b,"window-blur",()=>this.XS()),e.Kb.jc(b,"keyboard-blur",()=>this.XS()))}j(){super.j()}Nba(b){const a=b.which,d=b.code||a.toString();b=b.key;this.kt.has(d)||(this.kt.add(d),this.lt.add(a),this.SD=d,this.cl=a,this.Yx=b,this.ia(e.g.Keyboard.F.EP),
this.ia(e.g.Keyboard.F.NP),this.ia(e.g.Keyboard.F.E4),this.ia(e.g.Keyboard.F.C4))}Oba(b){const a=b.which,d=b.code||a.toString();b=b.key;this.kt.delete(d);this.lt.delete(a);this.SD=d;this.cl=a;this.Yx=b;this.ia(e.g.Keyboard.F.FP);this.ia(e.g.Keyboard.F.PP);this.ia(e.g.Keyboard.F.F4);this.ia(e.g.Keyboard.F.OP)}XS(){for(const b of this.lt)this.lt.delete(b),this.cl=b,this.ia(e.g.Keyboard.F.FP),this.ia(e.g.Keyboard.F.PP),this.ia(e.g.Keyboard.F.OP);this.kt.clear()}cP(b){return this.kt.has(b)}Kc(){return{tk:this.cl,
tkk:this.Yx}}Dc(b){this.cl=b.tk;b.hasOwnProperty("tkk")&&(this.Yx=b.tkk)}}}{"use strict";const e="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.B.g.Keyboard.F={cP(b){return this.lt.has(b)},NP(b){return this.cl===b},EP(){return!0},FP(){return!0},PP(b){return this.cl===b},Aoa(b){b=Math.floor(b);return this.lt.has(b)},C4(b){return this.cl===b},OP(b){return this.cl===b},E4(b){return this.SD===e[b]},F4(b){return this.SD===e[b]},Boa(b){return this.kt.has(e[b])}}}"use strict";
self.B.g.Keyboard.ja={};
{"use strict";function e(b){b=Math.floor(b);switch(b){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(b)}}
self.B.g.Keyboard.ob={epa(){return this.cl},Oua(b){return e(b)},Ava(){return this.Yx}}}{"use strict";const e=self.B;e.g.xd=class extends e.Th{constructor(b){super(b)}j(){super.j()}}}{"use strict";const e=self.B;e.g.xd.De=class extends e.uk{constructor(b){super(b)}j(){super.j()}Zb(){}Rg(){return self.U1}};self.U1=class extends self.$u{constructor(b){super(b);b.I().Ls.vM=this}}}
{"use strict";const e=self.B;e.g.xd.Instance=class extends e.Fn{constructor(b){super(b,"mouse");this.iq=[!1,!1,!1];this.JW=this.TD=this.jr=this.wo=this.vo=0;this.iC=!1;this.JK=this.IK=0;this.FE([["pointer-lock-change",a=>this.Uba(a)],["pointer-lock-error",a=>this.Vba(a)]]);b=this.I().Ib();this.ae=new e.jp(e.Kb.jc(b,"pointermove",a=>this.aI(a.data)),e.Kb.jc(b,"pointerdown",a=>this.$H(a.data)),e.Kb.jc(b,"pointerup",a=>this.SA(a.data)),e.Kb.jc(b,"dblclick",a=>this.Dba(a.data)),e.Kb.jc(b,"wheel",a=>this.Rba(a.data)),
e.Kb.jc(b,"window-blur",()=>this.fI()))}j(){super.j()}$H(b){"mouse"===b.pointerType&&(this.vo=b.pageX-this.b.np(),this.wo=b.pageY-this.b.op(),this.tH(b.lastButtons,b.buttons))}aI(b){this.IK=b.movementX;this.JK=b.movementY;this.ia(e.g.xd.F.G4);this.JK=this.IK=0;"mouse"===b.pointerType&&(this.vo=b.pageX-this.b.np(),this.wo=b.pageY-this.b.op(),this.tH(b.lastButtons,b.buttons))}SA(b){"mouse"===b.pointerType&&this.tH(b.lastButtons,b.buttons)}tH(b,a){this.sH(b,a,1,0);this.sH(b,a,4,1);this.sH(b,a,2,2)}sH(b,
a,d,c){!(b&d)&&a&d?this.Pba(c):b&d&&!(a&d)&&this.Qba(c)}Pba(b){this.iq[b]=!0;this.ia(e.g.xd.F.g4);this.jr=b;this.TD=0;this.ia(e.g.xd.F.GP);this.ia(e.g.xd.F.VP)}Qba(b){this.iq[b]&&(this.iq[b]=!1,this.jr=b,this.ia(e.g.xd.F.WP))}Dba(b){this.jr=b.button;this.TD=1;this.ia(e.g.xd.F.GP);this.ia(e.g.xd.F.VP)}Rba(b){this.JW=0>b.deltaY?1:0;this.ia(e.g.xd.F.f5)}fI(){for(let b=0,a=this.iq.length;b<a&&this.iq[b];++b)this.iq[b]=!1,this.jr=b,this.ia(e.g.xd.F.WP)}mO(b){const a=this.b.Tb(),d=this.vo,c=this.wo;return"undefined"===
typeof b?a.Su(0).oN(d,c):(b=a.ka(b))?b.Hg(d,c):[0,0]}ES(){return 0<=this.vo&&0<=this.wo&&this.vo<this.b.WN()&&this.wo<this.b.VN()}Uba(b){this.XT(b["has-pointer-lock"])}Vba(b){this.XT(b["has-pointer-lock"]);this.ia(e.g.xd.F.Q4)}XT(b){this.iC!==b&&((this.iC=b)?this.ia(e.g.xd.F.R4):this.ia(e.g.xd.F.S4))}}}
{"use strict";const e=self.B;e.g.xd.F={GP(b,a){return this.jr===b&&this.TD===a},g4(){return!0},T2(b){return this.iq[b]},WP(b){return this.jr===b},e3(b){if(!this.ES())return!1;const a=this.b.Hf().ii;return e.xor(this.b.jh.us(b,this.vo,this.wo,a),a)},VP(b,a,d){return b===this.jr&&a===this.TD&&this.ES()?this.b.jh.us(d,this.vo,this.wo,!1):!1},f5(b){return this.JW===b},R4(){return!0},S4(){return!0},Q4(){return!0},Kna(){return this.iC},G4(){return!0}}}
{"use strict";const e=self.B;let b=null;const a="auto pointer text crosshair move help wait none".split(" ");e.g.xd.ja={mta(d){d=a[d];b!==d&&(b=d,this.Ta("cursor",d))},u6(d){if(!e.kd.Vz&&d&&(d=d.Dl())){var c=d.A(),f=d.Kd();c&&f&&b!==f&&(b=f,f.MN().then(l=>e.zu(l)).then(l=>{l=`url(${URL.createObjectURL(l)}) ${Math.round(c.$j()*f.L())} ${Math.round(c.ak()*f.M())}, auto`;this.Ta("cursor","");this.Ta("cursor",l)}))}},Ora(){this.Ck("request-pointer-lock")},Era(){this.Ta("release-pointer-lock")}}}"use strict";
self.B.g.xd.ob={yA(e){return this.mO(e)[0]},zA(e){return this.mO(e)[1]},YX(){return this.vo},ZX(){return this.wo},Jpa(){return this.IK},Kpa(){return this.JK}};{"use strict";const e=self.B;e.g.Touch=class extends e.Th{constructor(b){super(b)}j(){super.j()}}}
{"use strict";const e=self.B,b=self.Hi;e.g.Touch.De=class extends e.uk{constructor(d){super(d)}j(){super.j()}Zb(){}Rg(){return self.b2}};let a=null;self.b2=class extends self.$u{constructor(d){super(d);a=d;d.I().Ls.WM=this}requestPermission(d){b.Ae(d);const c=a.gk().ra;if("orientation"===d)return c.hI(0);if("motion"===d)return c.hI(1);throw Error("invalid type");}}}
{"use strict";const e=self.B;e.g.Touch.Instance=class extends e.Fn{constructor(b,a){super(b,"touch");this.Ad=new Map;this.yC=this.LW=!1;this.fC=this.di=this.ci=this.EL=this.RD=this.Wt=this.BI=this.AI=this.zI=this.EI=this.DI=this.CI=this.SK=this.RK=this.QK=this.fD=0;this.hD=[];a&&(this.LW=a[0]);this.EE("permission-result",d=>this.Tba(d));b=this.I().Ib();this.ae=new e.jp(e.Kb.jc(b,"pointerdown",d=>this.$H(d.data)),e.Kb.jc(b,"pointermove",d=>this.aI(d.data)),e.Kb.jc(b,"pointerup",d=>this.SA(d.data,!1)),
e.Kb.jc(b,"pointercancel",d=>this.SA(d.data,!0)),e.Kb.jc(b,"deviceorientation",d=>this.Bba(d.data)),e.Kb.jc(b,"deviceorientationabsolute",d=>this.Cba(d.data)),e.Kb.jc(b,"devicemotion",d=>this.Aba(d.data)),e.Kb.jc(b,"tick2",()=>this.dI()))}j(){this.Ad.clear();super.j()}$H(b){if("mouse"===b.pointerType)if(this.LW)this.yC=!0;else return;const a=b.pointerId;if(!this.Ad.has(a)){var d=b.pageX-this.b.np();b=b.pageY-this.b.op();var c=performance.now(),f=this.Ad.size;this.Wt=f;this.RD=a;var l=e.C(e.g.Touch.a8);
l.Tg(c,d,b,a,f);this.Ad.set(a,l);this.ia(e.g.Touch.F.I4);this.ia(e.g.Touch.F.b5);this.ci=d;this.di=b;this.ia(e.g.Touch.F.YP)}}aI(b){if("mouse"!==b.pointerType||this.yC){var a=this.Ad.get(b.pointerId);if(a){var d=performance.now();2>d-a.Ha()||a.Ul(d,b.pageX-this.b.np(),b.pageY-this.b.op(),b.width,b.height,b.pressure)}}}SA(b,a){if("mouse"===b.pointerType)if(this.yC)this.yC=!1;else return;const d=performance.now();b=b.pointerId;const c=this.Ad.get(b);c&&(this.Wt=c.Ah,this.RD=c.Yj(),this.ia(e.g.Touch.F.H4),
this.ia(e.g.Touch.F.a5),a||(a=c.F7(d),"single-tap"===a?(this.ia(e.g.Touch.F.Y4),this.ci=c.O(),this.di=c.P(),this.ia(e.g.Touch.F.Z4)):"double-tap"===a&&(this.ia(e.g.Touch.F.n4),this.ci=c.O(),this.di=c.P(),this.ia(e.g.Touch.F.o4))),c.j(),this.Ad.delete(b))}hI(b){this.Ck("request-permission",{type:b});return new Promise((a,d)=>{this.hD.push({type:b,resolve:a,reject:d})})}Tba(b){const a=b.result,d=b.type;this.EL=d;b=this.hD.filter(c=>c.type===d);for(const c of b)c.resolve(a?"granted":"denied");this.hD=
this.hD.filter(c=>c.type!==d);a?(this.ia(e.g.Touch.F.P4),0===d?this.b.es():this.b.En()):this.ia(e.g.Touch.F.O4)}Bba(b){"number"===typeof b.webkitCompassHeading?this.fD=b.webkitCompassHeading:b.absolute&&(this.fD=b.alpha);this.QK=b.alpha;this.RK=b.beta;this.SK=b.gamma}Cba(b){this.fD=b.alpha}Aba(b){const a=b.acceleration;a&&(this.CI=a.x,this.DI=a.y,this.EI=a.z);if(b=b.accelerationIncludingGravity)this.zI=b.x,this.AI=b.y,this.BI=b.z}dI(){const b=performance.now();let a=0;for(const d of this.Ad.values())d.Ha()<=
b-50&&d.Kda(b),d.E7(b)&&(this.Wt=d.Ah,this.RD=d.Yj(),this.fC=a,this.ia(e.g.Touch.F.x4),this.ci=d.O(),this.di=d.P(),this.ia(e.g.Touch.F.y4),this.fC=0),++a}cj(b){b=Math.floor(b);for(const a of this.Ad.values()){if(0===b)return a;--b}return null}Tv(b,a){return 0<=b&&0<=a&&b<this.b.WN()&&a<this.b.VN()}}}
{"use strict";const e=self.B,b=[];e.g.Touch.F={b5(){return!0},a5(){return!0},yoa(){return 0<this.Ad.size},YP(a){return a&&this.Tv(this.ci,this.di)?this.b.jh.us(a,this.ci,this.di,!1):!1},o3(a){if(!a)return!1;const d=a.aa();var c=d.ta();for(const f of c){c=f.A();const l=c.ka();for(const g of this.Ad.values()){if(!this.Tv(g.O(),g.P()))continue;const [k,n]=l.Hg(g.O(),g.P(),c.lg());if(c.Au(k,n)){b.push(f);break}}}return b.length?(d.uv(b),a.qc(),e.G(b),!0):!1},qla(a,d,c){return(a=this.cj(a))?e.compare(a.Gl(),
d,c):!1},kqa(){return!0},Epa(){return!0},mla(a,d,c){this.b.es();return e.compare(0===a?this.QK:1===a?this.RK:this.SK,d,c)},dla(a,d,c){this.b.En();return e.compare(0===a?this.zI:1===a?this.AI:2===a?this.BI:3===a?this.CI:4===a?this.DI:this.EI,d,c)},I4(a){a=Math.floor(a);return a===this.Wt},H4(a){a=Math.floor(a);return a===this.Wt},Jna(a){a=Math.floor(a);return this.Ad.size>=a+1},x4(){return!0},Y4(){return!0},n4(){return!0},y4(a){return a&&this.Tv(this.ci,this.di)?this.b.jh.us(a,this.ci,this.di,!1):
!1},Z4(a){return a&&this.Tv(this.ci,this.di)?this.b.jh.us(a,this.ci,this.di,!1):!1},o4(a){return a&&this.Tv(this.ci,this.di)?this.b.jh.us(a,this.ci,this.di,!1):!1},P4(a){return this.EL===a},O4(a){return this.EL===a}}}"use strict";self.B.g.Touch.ja={Nra(e){this.hI(e)}};
{"use strict";const e=self.B;e.g.Touch.ob={rva(){return this.Ad.size},yA(b){const a=this.cj(this.fC);return a?a.Mr(this.b.Oa(),b,!0):0},zA(b){const a=this.cj(this.fC);return a?a.Mr(this.b.Oa(),b,!1):0},mwa(b,a){return(b=this.cj(b))?b.Mr(this.b.Oa(),a,!0):0},owa(b,a){return(b=this.cj(b))?b.Mr(this.b.Oa(),a,!1):0},nwa(b,a){return(b=this.Ad.get(b))?b.Mr(this.b.Oa(),a,!0):0},pwa(b,a){return(b=this.Ad.get(b))?b.Mr(this.b.Oa(),a,!1):0},YX(){const b=this.cj(0);return b?b.O():0},ZX(){const b=this.cj(0);return b?
b.P():0},Cia(b){return(b=this.cj(b))?b.O():0},Eia(b){return(b=this.cj(b))?b.P():0},Dia(b){return(b=this.Ad.get(b))?b.O():0},Fia(b){return(b=this.Ad.get(b))?b.P():0},Eua(b){return(b=this.cj(b))?b.Gl():0},Fua(b){return(b=this.Ad.get(b))?b.Gl():0},sja(b){return(b=this.cj(b))?e.le(b.na()):0},tja(b){return(b=this.Ad.get(b))?e.le(b.na()):0},wla(){this.b.es();return this.fD},fja(){this.b.es();return this.QK},Pja(){this.b.es();return this.RK},ena(){this.b.es();return this.SK},Iia(){this.b.En();return this.zI},
Kia(){this.b.En();return this.AI},Mia(){this.b.En();return this.BI},Hia(){this.b.En();return this.CI},Jia(){this.b.En();return this.DI},Lia(){this.b.En();return this.EI},tva(){return this.Wt},sva(){return this.RD},gwa(b){return(b=this.Ad.get(b))?b.L():0},Mna(b){return(b=this.Ad.get(b))?b.M():0},sra(b){return(b=this.Ad.get(b))?b.$V:0}}}
{"use strict";const e=self.B;let b=-1E3,a=-1E3,d=-1E4;e.g.Touch.a8=class extends e.oa{constructor(){super();this.$V=this.T=this.W=this.RC=this.QC=this.V=this.$=this.HD=this.GD=this.PC=this.fd=this.Eo=this.Ah=this.YV=0;this.FC=this.LJ=!1}j(){}Tg(c,f,l,g,k){this.YV=g;this.Ah=k;this.Eo=this.PC=this.fd=c;this.GD=f;this.HD=l;this.$=f;this.V=l;this.QC=f;this.RC=l}Ul(c,f,l,g,k,n){this.PC=this.fd;this.fd=c;this.QC=this.$;this.RC=this.V;this.$=f;this.V=l;this.W=g;this.T=k;this.$V=n;!this.FC&&15<=e.ll(this.GD,
this.HD,this.$,this.V)&&(this.FC=!0)}Yj(){return this.YV}Ha(){return this.fd}Kda(c){this.PC=c}O(){return this.$}P(){return this.V}Gl(){const c=e.ll(this.$,this.V,this.QC,this.RC),f=(this.fd-this.PC)/1E3;return 0<f?c/f:0}na(){return e.hy(this.QC,this.RC,this.$,this.V)}L(){return this.W}M(){return this.T}E7(c){return this.LJ?!1:500<=c-this.Eo&&!this.FC&&15>e.ll(this.GD,this.HD,this.$,this.V)?this.LJ=!0:!1}F7(c){if(this.LJ)return"";if(333>=c-this.Eo&&!this.FC&&15>e.ll(this.GD,this.HD,this.$,this.V)){if(666>=
c-d&&25>e.ll(b,a,this.$,this.V))return a=b=-1E3,d=-1E4,"double-tap";b=this.$;a=this.V;d=c;return"single-tap"}return""}Mr(c,f,l){return"undefined"===typeof f?c.Su(0).oN(this.$,this.V)[l?0:1]:(c=c.ka(f))?c.Hg(this.$,this.V)[l?0:1]:0}}}{"use strict";const e=self.B;e.g.Vb=class extends e.Th{constructor(b){super(b)}j(){super.j()}}}{"use strict";const e=self.B;e.g.Vb.De=class extends e.uk{constructor(b){super(b)}j(){super.j()}Zb(){}}}
{"use strict";const e=self.B;e.g.Vb.Instance=class extends e.Fn{constructor(b){super(b);this.nb=this.tg="";this.jx=[];this.yU="";this.Pq=this.Oq=0;this.Dg=this.b.mS()}j(){super.j()}async Un(b){this.yU=this.Z$(b);await this.mb(e.g.Vb.F.q4)}Z$(b){return b?"string"===typeof b?b:"string"===typeof b.message?b.message:"string"===typeof b.name?b.name:"string"===typeof b.data?b.data:"unknown error":"unknown error"}}}
{"use strict";const e=self.B;e.g.Vb.F={MP(b){return this.tg===b},DP(){return!0},LP(b){return this.tg===b},CP(){return!0},B4(b){return this.tg===b},h4(){return!0},k4(){return!0},f4(){return!0},q4(){return!0},KP(b){return this.tg===b},A4(b){return this.tg===b},ila(b,a){return e.compare(this.tg,b,a)},rla(b,a){return e.compare(this.nb,b,a)},Roa(){return 0<this.Pq},Qoa(){return 0<this.Oq},zP(){return!0},yP(){return!0}}}
{"use strict";const e=self.B;function b(a){return"string"===typeof a||"number"===typeof a}e.g.Vb.ja={async S6(a,d){this.Pq++;try{const c=await this.Dg.setItem(a,d);await this.vk(async()=>{this.tg=a;this.nb=c;await this.mb(e.g.Vb.F.DP);await this.mb(e.g.Vb.F.MP)})}catch(c){await this.Un(c)}finally{this.Pq--,0===this.Pq&&await this.mb(e.g.Vb.F.zP)}},async fta(a,d){if(d&&(d=d.Dl(this.R))&&(d=d.ra)){d=d.gna();this.Pq++;try{await this.Dg.setItem(a,d),await this.vk(async()=>{this.tg=a;this.nb="";await this.mb(e.g.Vb.F.DP);
await this.mb(e.g.Vb.F.MP)})}catch(c){await this.Un(c)}finally{this.Pq--,0===this.Pq&&await this.mb(e.g.Vb.F.zP)}}},async mna(a){this.Oq++;try{const d=await this.Dg.getItem(a);await this.vk(async()=>{this.tg=a;this.nb=b(d)?d:"";await this.mb(e.g.Vb.F.CP);await this.mb(e.g.Vb.F.LP)})}catch(d){await this.Un(d)}finally{this.Oq--,0===this.Oq&&await this.mb(e.g.Vb.F.yP)}},async ina(a,d){if(d&&(d=d.Dl(this.R))){var c=d.ra;this.Oq++;try{let f=await this.Dg.getItem(a);f=f instanceof ArrayBuffer?f:new ArrayBuffer(0);
await this.vk(async()=>{this.nb="";this.tg=a;c.eta(f);await this.mb(e.g.Vb.F.CP);await this.mb(e.g.Vb.F.LP)})}catch(f){await this.Un(f)}finally{this.Oq--,0===this.Oq&&await this.mb(e.g.Vb.F.yP)}}},async VY(a){try{const d=await this.Dg.getItem(a);await this.vk(async()=>{this.tg=a;"undefined"===typeof d||null===d?(this.nb="",await this.mb(e.g.Vb.F.A4)):(this.nb=b(d)?d:"",await this.mb(e.g.Vb.F.KP))})}catch(d){await this.Un(d)}},async Jra(a){try{await this.Dg.removeItem(a),await this.vk(async()=>{this.tg=
a;this.nb="";await this.mb(e.g.Vb.F.h4);await this.mb(e.g.Vb.F.B4)})}catch(d){await this.Un(d)}},async Rka(){try{await this.Dg.clear(),await this.vk(async()=>{this.nb=this.tg="";e.G(this.jx);await this.mb(e.g.Vb.F.k4)})}catch(a){await this.Un(a)}},async fna(){try{const a=await this.Dg.keys();await this.vk(async()=>{this.jx=a;await this.mb(e.g.Vb.F.f4)})}catch(a){await this.Un(a)}}}}"use strict";
self.B.g.Vb.ob={r3(){return this.nb},Zoa(){return this.tg},apa(){return this.jx.length},$oa(e){e=Math.floor(e);return 0>e||e>=this.jx.length?"":this.jx[e]},fma(){return this.yU}};{"use strict";const e=self.B;e.g.Mf=class extends e.Th{constructor(b){super(b)}j(){super.j()}}}
{"use strict";const e=self.B;e.g.Mf.De=class extends e.uk{constructor(b){super(b);this.pJ=this.Fo=null}j(){this.qk();super.j()}Zb(){this.Jc().gv(this.b)}async An(){this.pJ=await this.Jc().MN()}BN(b,a,d,c){!this.Fo&&this.pJ&&(this.Fo=new self.S3(this),this.Fo.zZ(this.pJ,b,a,d,c))}qk(){this.Fo&&(this.Fo.j(),this.Fo=null)}}}
{"use strict";const e=self.B,b=e.C(e.Rect),a=e.C(e.Rect),d=e.C(e.ld);e.g.Mf.Instance=class extends e.tv{constructor(c,f){super(c);this.vB=this.MD=this.uD=this.SC=16;this.FU=this.wU=1;this.mV=!0;this.AB=null;f&&(this.SC=f[0],this.uD=f[1],this.MD=f[2],this.vB=f[3],this.wU=f[4],this.FU=f[5],this.mV=!!f[8],this.A().Od(!!f[6]));this.Qa.BN(this.SC,this.uD,this.MD,this.vB)}j(){super.j()}me(c){const f=this.A(),l=f.Kg();this.k$(c,l.Gb,l.Hb,f.L(),f.M())}k$(c,f,l,g,k){let n=this.Qa.Fo;if(!n&&(this.Qa.BN(this.SC,
this.uD,this.MD,this.vB),n=this.Qa.Fo,!n))return;const q=this.SC,t=this.uD,p=this.MD,v=this.vB,u=n.Pw-t,w=n.Ow-v;var y=this.mV?1:0;const z=this.wU,E=this.FU;0<q&&0<p&&this.Yl(c,n.Ub(),0,0,q+y,p+y,f,l,q+y,p+y);0<t&&0<p&&this.Yl(c,n.Ub(),u-y,0,t+y,p+y,f+g-t-y,l,t+y,p+y);0<t&&0<v&&this.Yl(c,n.Ub(),u-y,w-y,t+y,v+y,f+g-t-y,l+k-v-y,t+y,v+y);0<q&&0<v&&this.Yl(c,n.Ub(),0,w-y,q+y,v+y,f,l+k-v-y,q+y,v+y);0===z?(y=2===E?0:y,0<q&&w>p&&this.iw(c,n.TC,f,l+p,q+y,k-p-v,0,0),0<t&&w>p&&this.iw(c,n.vD,f+g-t-y,l+p,t+
y,k-p-v,y,0),0<p&&u>q&&this.iw(c,n.ND,f+q,l,g-q-t,p+y,0,0),0<v&&u>q&&this.iw(c,n.wB,f+q,l+k-v-y,g-q-t,v+y,0,y)):1===z&&(0<q&&w>p&&this.Yl(c,n.Ub(),0,p,q,w-p,f,l+p,q,k-p-v),0<t&&w>p&&this.Yl(c,n.Ub(),u,p,t,w-p,f+g-t,l+p,t,k-p-v),0<p&&u>q&&this.Yl(c,n.Ub(),q,0,u-q,p,f+q,l,g-q-t,p),0<v&&u>q&&this.Yl(c,n.Ub(),q,w,u-q,v,f+q,l+k-v,g-q-t,v));w>p&&u>q&&(0===E?this.iw(c,n.ZB,f+q,l+p,g-q-t,k-p-v,0,0):1===E&&this.Yl(c,n.Ub(),q,p,u-q,w-p,f+q,l+p,g-q-t,k-p-v))}Yl(c,f,l,g,k,n,q,t,p,v){const u=f.L(),w=f.M();c.gf(f);
b.set(q,t,q+p,t+v);a.set(l/u,g/w,(l+k)/u,(g+n)/w);null===this.AB?(f=this.A(),g=f.Kg(),l=g.Gb,g=g.Hb,b.offset(-l,-g),d.Ey(b,f.na()),d.offset(l,g),c.Pl(d,a)):this.AB(b,a)}iw(c,f,l,g,k,n,q,t){const p=f.L(),v=f.M();c.gf(f);b.set(l,g,l+k,g+n);a.set(-q/p,-t/v,(k-q)/p,(n-t)/v);null===this.AB?(f=this.A(),g=f.Kg(),l=g.Gb,g=g.Hb,b.offset(-l,-g),d.Ey(b,f.na()),d.offset(l,g),c.Pl(d,a)):this.AB(b,a)}Kd(){}kc(){}ef(){}}}"use strict";self.B.g.Mf.F={};"use strict";self.B.g.Mf.ja={NG(e){this.A().cf(e);this.b.U()}};
"use strict";self.B.g.Mf.ob={};
{"use strict";const e=self.B;function b(a){const d=e.Ff(a.width,a.height);d.getContext("2d").drawImage(a,0,0);return d}self.S3=class{constructor(a){this.Qa=a;this.b=this.Qa.I();this.wB=this.ND=this.vD=this.TC=this.ZB=this.jb=null;this.Ow=this.Pw=0;this.ma=this.b.zb();this.Rm=this.Ej=!1}j(){this.ma.rn()||(this.ma.Ve(this.jb),this.ma.Ve(this.ZB),this.ma.Ve(this.TC),this.ma.Ve(this.vD),this.ma.Ve(this.ND),this.ma.Ve(this.wB));this.ma=this.Qa=this.wB=this.ND=this.vD=this.TC=this.ZB=this.jb=null;this.Rm=
!0}Qp(){return this.Rm}zZ(a,d,c,f,l){this.gea(a,d,c,f,l)}gea(a,d,c,f,l){if(!this.Rm){var g=a.width,k=a.height;this.Pw=g;this.Ow=k;var n=g-c,q=k-l,t=this.b.Rc,p=this.b.Y.BL;this.jb=this.ma.Wj(b(a),{Wd:t,To:p});n>d&&q>f&&(this.ZB=this.ma.Wj(this.hw(b(a),d,f,n,q),{cn:"repeat",dn:"repeat",Wd:t,To:p}));0<d&&q>f&&(this.TC=this.ma.Wj(this.hw(b(a),0,f,d,q),{dn:"repeat",Wd:t,To:p}));0<c&&q>f&&(this.vD=this.ma.Wj(this.hw(b(a),n,f,g,q),{dn:"repeat",Wd:t,To:p}));0<f&&n>d&&(this.ND=this.ma.Wj(this.hw(b(a),d,0,
n,f),{cn:"repeat",Wd:t,To:p}));0<l&&n>d&&(this.wB=this.ma.Wj(this.hw(b(a),d,q,n,k),{cn:"repeat",Wd:t,To:p}))}}hw(a,d,c,f,l){f-=d;l-=c;const g=e.Ff(f,l);g.getContext("2d").drawImage(a,d,c,f,l,0,0,f,l);return g}Ub(){return this.jb}}}{"use strict";const e=self.B;e.g.kf=class extends e.Th{constructor(b){super(b)}j(){super.j()}}}
{"use strict";const e=self.B;e.g.kf.De=class extends e.uk{constructor(b){super(b);this.Db=e.C(self.L7)}j(){super.j()}Zb(){this.Jc().gv(this.b)}An(b){return this.Jc().zn(b,{Wd:this.b.Rc})}qk(){this.Jc().Yg()}n8(b,a,d,c){const f=this.Jc(),l=this.Db;l.Zd(f.L());l.Be(f.M());l.lA(b);l.KG(a);l.LG(d);l.ZG(c);l.nR()}}}
{"use strict";const e=self.B,b=self.Hi,a=["left","center","right"],d=["top","center","bottom"];e.g.kf.Instance=class extends e.tv{constructor(l,g){super(l);this.oc="";this.fo=!0;this.rg=this.pf=16;this.bo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,;:?!-_~#\"'&()[]|`\\/@\u00b0+=*$\u00a3\u20ac<>";l="";this.mj=1;this.ie=this.qe=this.Hc=this.nj=0;this.Sm=!0;this.ve=null;this.dl=this.Xt=-1;this.Zx=0;g&&(this.oc=g[0],this.fo=g[1],this.pf=g[2],this.rg=g[3],this.bo=g[4],l=g[5],this.mj=
g[6],this.nj=g[7],this.Hc=g[8],this.qe=g[9],this.ie=g[10],this.Sm=0===g[11],this.A().Od(g[12]));this.Qa.n8(this.pf,this.rg,this.bo,l);this.ve=e.C(self.N7,this.Qa.Db);g=this.A();this.ve.rc(g.L(),g.M());this.gh();this.R.X6()}j(){this.Pn();this.ve.j();this.ve=null;super.j()}gh(){const l=this.ve;l&&(l.zQ(this.fo),l.rs(this.oc),l.$Q(this.Sm?"word":"character"),l.L6(a[this.qe]),l.y7(d[this.ie]),l.VQ(this.nj),l.qA(this.Hc))}me(l){const g=this.K.Jc();var k=g.Ub();if(k){l.gf(k);k=this.A();var n=k.Kg(),q=this.ve;
q.Mp(this.mj);q.f7(k.sO());this.b.Tk&&(n=k.kv(n));q.rc(k.L(),k.M());q.Db.j7(g.Ph());q.wk(k.Bb);q.me(l,n.Gb,n.Hb,k.na())}}Kc(){const l={t:this.oc,ebbc:this.fo,csc:this.mj,csp:this.nj,lh:this.Hc,ha:this.qe,va:this.ie,w:this.Sm,cw:this.Qa.Db.pf,ch:this.Qa.Db.rg,cs:this.Qa.Db.bo,sd:this.Qa.Db.Pt};-1!==this.dl&&(l.tw={st:this.Xt,en:this.dl,l:this.Zx});return l}Dc(l){this.Pn();this.oc=l.t;this.fo=l.ebbc;this.mj=l.csc;this.nj=l.csp;this.Hc=l.lh;this.qe=l.ha;this.ie=l.va;this.Sm=l.w;if(l.hasOwnProperty("tw")){var g=
l.tw;this.Xt=g.st;this.dl=g.en;this.Zx=l.l}g=this.Qa.Db;g.lA(l.cw);g.KG(l.ch);g.LG(l.cs);g.ZG(l.sd);this.gh();-1!==this.dl&&this.Of()}kc(l){switch(l){case 0:return this.oc;case 1:return this.fo;case 2:return this.Qa.Db.pf;case 3:return this.Qa.Db.rg;case 4:return this.Qa.Db.bo;case 5:return this.Qa.Db.Pt;case 6:return this.mj;case 7:return this.nj;case 8:return this.Hc;case 9:return this.qe;case 10:return this.ie;case 11:return this.Sm?1:0}}ef(l,g){switch(l){case 0:if(this.oc===g)break;this.oc=g;
this.gh();break;case 1:if(this.fo===!!g)break;this.fo=!!g;this.gh();break;case 2:this.Qa.Db.lA(g);break;case 3:this.Qa.Db.KG(g);break;case 4:this.Qa.Db.LG(g);break;case 5:this.Qa.Db.ZG(g);break;case 6:if(this.mj===g)break;this.mj=g;this.gh();break;case 7:if(this.nj===g)break;this.nj=g;this.gh();break;case 8:if(this.Hc===g)break;this.Hc=g;this.gh();break;case 9:if(this.qe===g)break;this.qe=g;this.gh();break;case 10:if(this.ie===g)break;this.ie=g;this.gh();break;case 11:this.Sm!==(0===g)&&(this.Sm=
0===g,this.gh())}}$A(l){this.oc!==l&&(this.oc=l,this.ve.rs(l),this.b.U())}jea(l,g){this.$A(l);this.Xt=this.b.QF();this.dl=this.Xt+g/this.Ga().j0();this.Zx=e.rl.eR(l).length;this.ve.nA(0);this.Of()}Pn(){this.dl=this.Xt=-1;this.Zx=0;this.ve.nA(-1);this.aq()}H$(){-1!==this.dl&&(this.Pn(),this.ia(e.g.kf.F.ZP),this.b.U())}Tda(l){this.mj!==l&&(this.mj=l,this.ve.Mp(this.mj),this.b.U())}uda(l){this.nj!==l&&(this.nj=l,this.ve.VQ(this.nj),this.b.U())}BT(l){this.Hc!==l&&(this.Hc=l,this.ve.qA(this.Hc),this.b.U())}Dda(l){this.qe!==
l&&(this.qe=l,this.gh(),this.b.U())}GT(l){this.ie!==l&&(this.ie=l,this.gh(),this.b.U())}bea(l){l=!!l;this.Sm!==l&&(this.Sm=l,this.gh(),this.b.U())}Gd(){var l=this.b.QF();l>=this.dl?(this.Pn(),this.ia(e.g.kf.F.ZP),this.b.U()):(l=e.Xha(this.Xt,this.dl,l,this.Zx),l=Math.floor(l),l!==this.ve.nh&&(this.ve.nA(l),this.b.U()))}Rg(){return self.X1}};const c=new WeakMap,f=new Map([["top",0],["center",1],["bottom",2]]);self.X1=class extends self.av{constructor(){super();c.set(this,self.Qr.Up().ra)}get text(){return c.get(this).oc}set text(l){b.Ae(l);
const g=c.get(this);g.Pn();g.$A(l)}set lineHeight(l){b.Rl(l);c.get(this).BT(l)}get lineHeight(){return c.get(this).Hc}set verticalAlign(l){b.Ae(l);l=f.get(l);if("undefined"===typeof l)throw Error("invalid mode");c.get(this).GT(l)}get verticalAlign(){return d[c.get(this).ie]}}}{"use strict";const e=self.B;e.g.kf.F={ola(b,a){return a?this.oc===b:e.Hh(this.oc,b)},Soa(){return-1!==this.dl},ZP(){return!0}}}"use strict";
self.B.g.kf.ja={rs(e){this.Pn();"number"===typeof e&&1E9>e&&(e=Math.round(1E10*e)/1E10);this.$A(e.toString())},yja(e){this.Pn();"number"===typeof e&&1E9>e&&(e=Math.round(1E10*e)/1E10);(e=e.toString())&&this.$A(this.oc+e)},Cva(e,b){this.Pn();"number"===typeof e&&1E9>e&&(e=Math.round(1E10*e)/1E10);this.jea(e.toString(),b)},Bva(){this.H$()},Mp(e){this.Tda(e)},kta(e){this.uda(e)},qA(e){this.BT(e)},lA(e,b){let a=!1;const d=this.Qa.Db;for(const c of e)if(" "===c)d.g7(b),a=!0;else if(e=d.mz(c))e.GQ(b),a=
!0;a&&d.s6();this.b.U()},NG(e){this.A().cf(e);this.b.U()},zta(e){this.Dda(e)},qua(e){this.GT(e)},tua(e){this.bea(0===e)}};{"use strict";const e=self.B;e.g.kf.ob={Pka(b){return(b=this.Qa.Db.mz(b))?b.pF():this.Qa.Db.pf},Mka(){return this.rg},Nka(){return this.mj},Oka(){return this.nj},lpa(){return this.Hc},Text(){return this.oc},Oqa(){return this.fo?e.rl.eR(this.oc):this.oc},gva(){const b=this.A();this.ve.rc(b.L(),b.M());return this.ve.EO()},cva(){const b=this.A();this.ve.rc(b.L(),b.M());return this.ve.DO()}}}
{"use strict";const e=self.B;self.M7=class{constructor(b,a,d,c){a=b.pf;let f=b.rg;this.Db=b;this.cW=new e.Rect(d,c,d+a,c+f);this.$k=new e.Rect;this.mJ=-1;this.ZT()}j(){this.$k=this.cW=this.Db=null}ZT(){let b=this.Db.L(),a=this.Db.M();this.$k.za(this.cW);this.$k.ml(b,a);this.$k.yha(this.Db.Ph())}Ph(){return this.$k}GQ(b){this.mJ=b}pF(){return 0>this.mJ?this.Db.pf:this.mJ}}}
{"use strict";const e=self.B,b=new e.Rect,a=new e.ld,d=new e.lb,c=new Set(["left","center","right"]),f=new Set(["top","center","bottom"]),l=new Set(["word","character"]);self.N7=class{constructor(g){this.Db=g;this.hm=this.qf=0;this.oc="";this.Je=!1;this.ij=null;this.Cf=e.C(e.Lv);this.pr="word";this.WL=!1;this.qe="left";this.ie="top";this.Ix=this.ec=1;this.Hc=this.dr=0;this.Bb=e.C(e.lb);this.nh=-1;this.mh=0;this.ux=(k,n)=>this.Yv(k,n);this.Db.U8(this)}j(){this.Db.Fca(this);this.ux=this.Bb=null;this.Cf.Tc();
this.ij=this.Db=this.Cf=null}Yv(g,k){var n=this.Zc(k,"scale"),q=(n?parseFloat(n.ud):this.ec)*this.Ix;n=this.Zc(k,"scalex");n=(n?parseFloat(n.ud):1)*q;k=this.Zc(k,"scaley");k=this.Db.rg*(k?parseFloat(k.ud):1)*q+this.Hc;const t=this.Db;q=t.pf*n;const p=this.dr;if(t.ct){let u=0,w=0;for(var v of g){g=q;const y=t.mz(v);y?g=y.pF()*n:" "===v&&(g=t.AO()*n);w+=g;++u}return{width:w+u*p,height:k}}v=[...g].length;return{width:q*v+Math.max(v,0)*p,height:k}}Fk(){this.WL=!0;this.Cf.Tc()}rc(g,k){0>=g||0>=k||this.qf===
g&&this.hm===k||(this.qf!==g&&this.Fk(),this.qf=g,this.hm=k)}nA(g){this.nh=Math.floor(g)}Zc(g,k){for(let n=g.length-1;0<=n;--n){const q=g[n];if(q.tag===k)return q}return null}Qn(g,k){return!!this.Zc(g,k)}Vp(){if(this.WL){!this.Je||this.ij&&this.ij.toString()===this.oc||(this.ij=new e.rl(this.oc,{uX:!0}));var g=-this.dr;this.Cf.Lv(this.Je?this.ij.MX():this.oc,this.ux,this.qf,this.pr,g);this.WL=!1}}me(g,k,n,q){this.Vp();let t=this.mh=0;const p=this.Hc,v=e.cE(this.Cf.Vk),u=Math.sin(q);q=Math.cos(q);
var w=v.reduce((y,z)=>y+z.height,0)-p;"center"===this.ie?t=Math.max(Math.floor(this.hm/2-w/2),0):"bottom"===this.ie&&(t=Math.floor(this.hm-w));for(let y=0,z=v.length;y<z;++y){w=v[y];const E=w.height;if(0<y&&t>this.hm-(E-p))break;0<=t&&this.w$(g,w,k,n,t,u,q);t+=E}}w$(g,k,n,q,t,p,v){const u=k.height;let w=0;"center"===this.qe?w=Math.max(Math.floor((this.qf-k.width)/2),0):"right"===this.qe&&(w=Math.max(Math.floor(this.qf-k.width),0));for(const y of k.hM)this.o$(g,y,n,q,w,t,p,v,u),w+=y.width}o$(g,k,n,
q,t,p,v,u,w){var y=k.text,z=k.width,E=k.vd;if(-1!==this.nh){if(this.mh>=this.nh)return;this.mh+y.length>this.nh&&(y=y.substr(0,this.nh-this.mh),z=this.Yv(y,E).width);this.mh+=y.length}var G=this.Zc(E,"background");if(!(e.Xz(y)&&!G||this.Qn(E,"hide"))){k=this.Zc(E,"scale");var P=(k?parseFloat(k.ud):this.ec)*this.Ix;k=this.Zc(E,"scalex");k=(k?parseFloat(k.ud):1)*P;var D=this.Zc(E,"scaley");P*=this.Db.rg*(D?parseFloat(D.ud):1);p+=w-this.Hc-P;w=this.Zc(E,"offsetx");t+=w?parseFloat(w.ud):0;w=this.Zc(E,
"offsety");p+=w?parseFloat(w.ud):0;G&&(g.MG(),d.zX(G.ud),d.Ih(1),g.wk(d),b.set(t,p,t+z,p+P),b.ca>this.qf&&b.dia(this.qf),a.tE(b,v,u),a.offset(n,q),g.ld(a),g.Vh());(z=this.Zc(E,"color"))?(d.zX(z.ud),d.Ih(this.Bb.$a)):d.za(this.Bb);(z=this.Zc(E,"opacity"))&&d.Ih(d.$a*parseFloat(z.ud)/100);d.qE();g.wk(d);z=this.Db.pf*k;E=Math.abs(this.dr);for(const H of y)if(y=this.Db.mz(H)){G=y.pF()*k;if(t+G>this.qf+E+1E-5)break;b.set(t,p,t+z,p+P);a.tE(b,v,u);a.offset(n,q);g.Pl(a,y.Ph());t+=G+this.dr}else t+=this.Db.AO()*
k+this.dr}}zQ(g){g=!!g;this.Je!==g&&(this.Je=g,this.Fk())}rs(g){this.oc!==g&&(this.oc=g,this.Fk())}$Q(g){if(!l.has(g))throw Error("invalid word wrap mode");this.pr!==g&&(this.pr=g,this.Fk())}L6(g){if(!c.has(g))throw Error("invalid alignment");this.qe=g}y7(g){if(!f.has(g))throw Error("invalid alignment");this.ie=g}Mp(g){this.ec!==g&&(this.ec=g,this.Fk())}f7(g){this.Ix!==g&&(this.Ix=g,this.Fk())}sO(){return this.Ix}VQ(g){this.dr!==g&&(this.dr=g,this.Fk())}qA(g){this.Hc=g;this.Fk()}df(g){g=e.fa(g,0,
1);this.Bb.So=g}wk(g){this.Bb.gd(g)||this.Bb.za(g)}EO(){this.Vp();return this.Cf.jO()}DO(){this.Vp();const g=this.Hc;return this.Cf.Vk.length*(this.Db.rg*this.ec+g)-g}}}
{"use strict";const e=self.B,b={width:256,height:256,ZW:16,YW:16,characterSet:""};self.L7=class{constructor(a){a=Object.assign({},b,a);if(0>=a.width||0>=a.height||0>=a.ZW||0>=a.YW)throw Error("invalid size");this.W=a.width;this.T=a.height;this.pf=a.ZW;this.rg=a.YW;this.bo=a.characterSet;this.Pt="";this.Nx=null;this.ct=!1;this.cr=-1;this.$k=new e.Rect(0,0,1,1);this.jq=new Map;this.to=!0;this.fq=new Set}j(){this.$k=null;this.aT();this.jq=null;this.fq&&this.fq.clear();this.fq=null}aT(){for(let a of this.jq.values())a.j();
this.jq.clear()}U8(a){this.fq.add(a)}Fca(a){this.fq.delete(a)}nR(){if(this.to){this.aT();var a=[...this.bo],d=Math.floor(this.W/this.pf),c=d*Math.floor(this.T/this.rg);for(let f=0,l=a.length;f<l&&!(f>=c);++f){let g=a[f];this.jq.set(g,e.C(self.M7,this,g,f%d*this.pf,Math.floor(f/d)*this.rg))}this.ct=!1;this.cr=-1;if(Array.isArray(this.Nx))for(let f of this.Nx)if(Array.isArray(f)&&2===f.length&&(a=f[0],d=f[1],"number"===typeof a&&isFinite(a)&&"string"===typeof d&&a!==this.pf))for(let l of d)(d=this.jq.get(l))?
(d.GQ(a),this.ct=!0):" "===l&&(this.cr=a,this.ct=!0);this.to=!1;for(let f of this.fq)f.Fk()}}s6(){this.ct=!0;for(const a of this.fq)a.Fk()}mz(a){this.nR();return this.jq.get(a)||null}Zd(a){a=Math.floor(a);if(0>=a)throw Error("invalid size");this.W!==a&&(this.W=a,this.to=!0)}L(){return this.W}Be(a){a=Math.floor(a);if(0>=a)throw Error("invalid size");this.T!==a&&(this.T=a,this.to=!0)}M(){return this.T}j7(a){if(!this.$k.gd(a)){this.$k.za(a);for(const d of this.jq.values())d.ZT()}}Ph(){return this.$k}lA(a){a=
Math.floor(a);if(0>=a)throw Error("invalid size");this.pf!==a&&(this.pf=a,this.to=!0)}KG(a){a=Math.floor(a);if(0>=a)throw Error("invalid size");this.rg!==a&&(this.rg=a,this.to=!0)}LG(a){this.bo!==a&&(this.bo=a,this.to=!0)}ZG(a){if(this.Pt!==a&&(this.Pt=a,this.to=!0,this.Nx=null,this.Pt.length))try{this.Nx=JSON.parse(this.Pt)}catch(d){this.Nx=null}}g7(a){0>a&&(a=-1);this.cr!==a&&(this.cr=a,0<=this.cr&&(this.ct=!0))}AO(){return 0>this.cr?this.pf:this.cr}}}{"use strict";const e=self.B;e.Ka.Hp=class extends e.qv{constructor(b){super(b)}j(){super.j()}}}
{"use strict";const e=self.B;e.Ka.Hp.De=class extends e.sv{constructor(b){super(b)}j(){super.j()}Zb(){}}}
{"use strict";const e=self.B;e.Ka.Hp.Instance=class extends e.rv{constructor(b,a){super(b);this.am=this.zh=0;this.qd=!0;a&&(this.zh=e.Ia(a[0]),this.am=e.Ia(a[1]),this.qd=a[2]);this.qd&&this.Of()}j(){super.j()}Kc(){return{s:this.zh,a:this.am,e:this.qd}}Dc(b){this.zh=b.s;this.am=b.a;this.Tn(b.e)}Gd(){if(this.qd){var b=this.b.Al(this.R);if(0!==b&&(0!==this.am&&(this.zh+=this.am*b),0!==this.zh)){const a=this.R.A();a.Wc(a.na()+this.zh*b);a.ab()}}}kc(b){switch(b){case 0:return e.le(this.zh);case 1:return e.le(this.am);
case 2:return this.qd}}ef(b,a){switch(b){case 0:this.zh=e.Ia(a);break;case 1:this.am=e.Ia(a);break;case 2:this.Tn(a)}}Tn(b){(this.qd=!!b)?this.Of():this.aq()}}}"use strict";self.B.Ka.Hp.F={lk(){return this.qd}};{"use strict";const e=self.B;e.Ka.Hp.ja={oua(b){this.zh=e.Ia(b)},bta(b){this.am=e.Ia(b)},OG(b){this.Tn(b)}}}{"use strict";const e=self.B;e.Ka.Hp.ob={Dua(){return e.le(this.zh)},Gia(){return e.le(this.am)}}}{"use strict";const e=self.B;e.Ka.Mn=class extends e.qv{constructor(b){super(b)}j(){super.j()}}}
{"use strict";const e=self.B;e.Ka.Mn.De=class extends e.sv{constructor(b){super(b)}j(){super.j()}Zb(){}}}
{"use strict";const e=self.B,b=self.NO,a=2*Math.PI,d=Math.PI/2,c=3*Math.PI/2,f=[0,1,8,3,4,2,5,6,9,7];e.Ka.Mn.Instance=class extends e.rv{constructor(g,k){super(g);this.Oc=this.Oe=this.Ro=this.yg=this.Nc=0;this.qd=!0;this.rD=this.nt=this.Sf=this.yq=this.rb=this.BK=this.XK=this.YK=this.qB=this.eU=this.rB=0;k&&(this.yg=f[k[0]],this.Ro=k[1],this.YK=this.b.Ql()*k[3],this.rB=k[2],this.Oe=k[2],this.Oe+=this.YK,this.eU=k[4],0!==this.Oe&&(this.XK=this.b.Ql()*k[5],this.Nc=k[4]/this.Oe*a,this.Nc+=this.XK/this.Oe*
a),this.BK=this.b.Ql()*k[7],this.qB=k[6],this.Oc=k[6],this.Oc+=this.BK,this.qd=!!k[8]);5===this.yg&&(this.Oc=e.Ia(this.Oc));this.Tg();this.qd&&this.Of()}j(){super.j()}Kc(){return{i:this.Nc,e:this.qd,mv:this.yg,w:this.Ro,p:this.Oe,mag:this.Oc,iv:this.rb,iv2:this.yq,r:this.rD,lkv:this.Sf,lkv2:this.nt}}Dc(g){this.Nc=g.i;this.Tn(g.e);this.yg=g.mv;this.Ro=g.w;this.Oe=g.p;this.Oc=g.mag;this.rb=g.iv;this.yq=g.iv2;this.rD=g.r;this.Sf=g.lkv;this.nt=g.lkv2}Tg(){const g=this.R.A();switch(this.yg){case 0:this.rb=
g.O();break;case 1:this.rb=g.P();break;case 2:this.rb=g.L();this.rD=g.M()/g.L();break;case 3:this.rb=g.L();break;case 4:this.rb=g.M();break;case 5:this.rb=g.na();break;case 6:this.rb=g.Ld();break;case 7:this.rb=0;break;case 8:this.rb=g.O();this.yq=g.P();break;case 9:this.rb=g.Sa()}this.Sf=this.rb;this.nt=this.yq}Wh(g){g%=a;switch(this.Ro){case 0:return Math.sin(g);case 1:return g<=d?g/d:g<=c?1-2*(g-d)/Math.PI:(g-c)/d-1;case 2:return 2*g/a-1;case 3:return-2*g/a+1;case 4:return g<Math.PI?-1:1}return 0}Gd(){const g=
this.b.Al(this.R);this.qd&&0!==g&&(this.Nc=0===this.Oe?0:(this.Nc+g/this.Oe*a)%a,this.WT())}WT(){const g=this.R.A();switch(this.yg){case 0:g.O()!==this.Sf&&(this.rb+=g.O()-this.Sf);g.hf(this.rb+this.Wh(this.Nc)*this.Oc);this.Sf=g.O();break;case 1:g.P()!==this.Sf&&(this.rb+=g.P()-this.Sf);g.jf(this.rb+this.Wh(this.Nc)*this.Oc);this.Sf=g.P();break;case 2:g.Zd(this.rb+this.Wh(this.Nc)*this.Oc);g.Be(g.L()*this.rD);break;case 3:g.Zd(this.rb+this.Wh(this.Nc)*this.Oc);break;case 4:g.Be(this.rb+this.Wh(this.Nc)*
this.Oc);break;case 5:g.na()!==this.Sf&&(this.rb=e.Vd(this.rb+(g.na()-this.Sf)));g.Wc(this.rb+this.Wh(this.Nc)*this.Oc);this.Sf=g.na();break;case 6:g.df(this.rb+this.Wh(this.Nc)*this.Oc/100);break;case 8:g.O()!==this.Sf&&(this.rb+=g.O()-this.Sf);g.P()!==this.nt&&(this.yq+=g.P()-this.nt);g.hf(this.rb+Math.cos(g.na())*this.Wh(this.Nc)*this.Oc);g.jf(this.yq+Math.sin(g.na())*this.Wh(this.Nc)*this.Oc);this.Sf=g.O();this.nt=g.P();break;case 9:g.Ce(this.rb+this.Wh(this.Nc)*this.Oc)}g.ab()}Qda(g){this.Oe=
g}Lda(g){this.Oc=g}Mda(g){5===this.yg&&(g=e.Ia(g));this.Lda(g)}PH(){let g=this.Oc;5===this.yg&&(g=e.le(g));return g}Pda(g){5===this.yg&&5!==g&&(this.Oc=e.le(this.Oc));this.yg=g;this.Tg()}Rda(g){this.Nc=e.fa(g,0,2*Math.PI);this.WT()}Tn(g){(this.qd=!!g)?this.Of():this.aq()}kc(g){switch(g){case 0:return this.yg;case 1:return this.Ro;case 2:return this.rB;case 6:return this.qB;case 8:return this.qd}}ef(g,k){switch(g){case 0:this.yg=f[k];this.Tg();break;case 1:this.Ro=k;break;case 2:this.rB=k;this.Oe=
this.rB+this.YK;this.qd||(0!==this.Oe?(this.Nc=this.eU/this.Oe*a,this.Nc+=this.XK/this.Oe*a):this.Nc=0);break;case 6:this.qB=k;this.Oc=this.qB+this.BK;5===this.yg&&(this.Oc=e.Ia(this.Oc));break;case 8:this.qd=!!k}}Rg(){return self.W1}};const l=new WeakMap;self.W1=class extends b{constructor(){super();l.set(this,b.Up().ra)}get value(){const g=l.get(this);return g.Wh(g.Nc)*g.Oc}set isEnabled(g){l.get(this).Tn(!!g)}get isEnabled(){return l.get(this).qd}}}
{"use strict";const e=self.B;e.Ka.Mn.F={lk(){return this.qd},kla(b){return this.yg===b},nla(b,a){return e.compare(this.Oe,b,a)},jla(b,a){return e.compare(this.PH(),b,a)},tla(b){return this.Ro===b}}}"use strict";self.B.Ka.Mn.ja={OG(e){this.Tn(0!==e)},jua(e){this.Qda(e)},bua(e){this.Mda(e)},fua(e){this.Pda(e)},sua(e){this.Ro=e},kua(e){const b=2*Math.PI;this.Rda(e*b%b)},Nva(){this.Tg()}};"use strict";
self.B.Ka.Mn.ob={Jla(){return this.Nc/(2*Math.PI)},rqa(){return this.Oe},wpa(){return this.PH()},Qva(){return this.Wh(this.Nc)*this.PH()}};{"use strict";const e=self.B;e.Ka.Lh=class extends e.qv{constructor(b){super(b)}j(){super.j()}}}{"use strict";const e=self.B;e.Ka.Lh.De=class extends e.sv{constructor(b){super(b)}j(){super.j()}Zb(){}}}
{"use strict";const e=self.B;e.Ka.Lh.Instance=class extends e.rv{constructor(b,a){super(b);this.km=this.fl=this.Nk=0;this.gB=this.rj=!0;this.rW=!1;this.zd=0;this.Yk=e.C(e.Xr);this.uo=this.R.A().Ld()||1;a&&(this.Nk=a[0],this.fl=a[1],this.km=a[2],this.rj=!!a[3],this.zd=(this.gB=!!a[4])?0:3);this.gB&&(0===this.Nk?(this.zd=1,0===this.fl&&(this.zd=2)):(this.R.A().df(0),this.b.U()));this.Of()}j(){super.j()}Kc(){return{fit:this.Nk,wt:this.fl,fot:this.km,d:this.rj,s:this.zd,st:this.Yk.ea(),mo:this.uo}}Dc(b){this.Nk=
b.fit;this.fl=b.wt;this.km=b.fot;this.rj=b.d;this.zd=b.s;this.Yk.Set(b.st);this.uo=b.mo}Gd(){this.Yk.yc(this.b.Al(this.R));const b=this.R.A();0===this.zd&&(b.df(this.Yk.ea()/this.Nk*this.uo),this.b.U(),b.Ld()>=this.uo&&(b.df(this.uo),this.zd=1,this.Yk.Vc(),this.ia(e.Ka.Lh.F.s4)));1===this.zd&&this.Yk.ea()>=this.fl&&(this.zd=2,this.Yk.Vc(),this.ia(e.Ka.Lh.F.e5));2===this.zd&&0!==this.km&&(b.df(this.uo-this.Yk.ea()/this.km*this.uo),this.b.U(),0>=b.Ld()&&(this.zd=3,this.Yk.Vc(),this.ia(e.Ka.Lh.F.t4),
this.rj&&this.b.sl(this.R)))}Nn(){this.zd=0;this.Yk.Vc();0===this.Nk?(this.zd=1,0===this.fl&&(this.zd=2)):(this.R.A().df(0),this.b.U())}kc(b){switch(b){case 0:return this.Nk;case 1:return this.fl;case 2:return this.km;case 3:return this.rj}}ef(b,a){switch(b){case 0:this.Nk=a;break;case 1:this.fl=a;break;case 2:this.km=a;break;case 3:this.rj=!!a}}}}"use strict";self.B.Ka.Lh.F={t4(){return!0},s4(){return!0},e5(){return!0}};"use strict";
self.B.Ka.Lh.ja={P7(){this.gB||this.rW||(this.uo=this.R.A().Ld()||1,this.rW=!0);3===this.zd&&this.Nn()},W5(){this.Nn()},uta(e){0>e&&(e=0);this.Nk=e},rua(e){0>e&&(e=0);this.fl=e},vta(e){0>e&&(e=0);this.km=e}};"use strict";self.B.Ka.Lh.ob={sma(){return this.Nk},Wva(){return this.fl},tma(){return this.km}};{"use strict";const e=self.B;e.Ka.Mi=class extends e.qv{constructor(b){super(b)}j(){super.j()}}}{"use strict";const e=self.B;e.Ka.Mi.De=class extends e.sv{constructor(b){super(b)}j(){super.j()}Zb(){}}}
{"use strict";const e=self.B;e.Ka.Mi.Instance=class extends e.rv{constructor(b){super(b);this.bl=this.Zk=this.zd=this.dD=this.eD=0;this.Of()}j(){super.j()}Kc(){return{on:this.eD,off:this.dD,s:this.zd,stl:this.Zk,tl:this.bl}}Dc(b){this.eD=b.on;this.dD=b.off;this.zd=b.s;this.Zk=b.stl;this.bl=null===b.tl?Infinity:b.tl}Gd(){if(!(0>=this.bl)){var b=this.b.Al(this.R);this.bl-=b;if(0>=this.bl)return this.bl=0,this.R.A().Od(!0),this.b.U(),this.Bu(e.Ka.Mi.F.u4);this.Zk-=b;0>=this.Zk&&(0===this.zd?(this.R.A().Od(!1),
this.zd=1,this.Zk+=this.dD):(this.R.A().Od(!0),this.zd=0,this.Zk+=this.eD),this.b.U())}}}}"use strict";self.B.Ka.Mi.F={uoa(){return 0<this.bl},u4(){return!0}};"use strict";self.B.Ka.Mi.ja={Mi(e,b,a){this.eD=e;this.dD=b;this.zd=1;this.Zk=b;this.bl=a;this.R.A().Od(!1);this.b.U()},Lua(){this.bl=0;this.R.A().Od(!0);this.b.U()}};"use strict";self.B.Ka.Mi.ob={};{"use strict";const e=self.B;e.Ka.nk=class extends e.qv{constructor(b){super(b)}j(){super.j()}}}{"use strict";const e=self.B;e.Ka.nk.De=class extends e.sv{constructor(b){super(b)}j(){super.j()}Zb(){}}}
{"use strict";const e=self.B;e.Ka.nk.Instance=class extends e.rv{constructor(b,a){super(b);this.Wk=null;this.iD=-1;this.th="";this.Uq=new Set;this.no=this.PB=this.co=this.Rs=this.Ss=this.OB=this.NB=this.zx=this.Rq=this.Pe=0;this.rj=!1;a&&(this.rj=a[0]);b=this.b.Ib();this.ae=new e.jp(e.Kb.jc(b,"instancedestroy",d=>this.ZH(d.instance)),e.Kb.jc(b,"afterload",()=>this.Wp()))}j(){this.Wk=null;super.j()}fw(b){b?(this.Wk=b,this.MT()):(this.Wk=null,this.bB())}Rn(b,a,d){if(b&&(b=b.Dl(this.R)))if(this.th=a,
this.fw(b),a=this.R.A(),b=b.A(),"properties"===this.th){const c=this.Uq;c.clear();for(const f of d)c.add(f);this.NB=a.O()-b.O();this.OB=a.P()-b.P();this.co=a.na()-b.na();this.no=a.na();this.PB=a.Sa()-b.Sa();c.has("x")&&c.has("y")&&(this.Rq=e.hy(b.O(),b.P(),a.O(),a.P())-b.na(),this.Pe=e.ll(b.O(),b.P(),a.O(),a.P()));c.has("width-abs")?this.Ss=a.L()-b.L():c.has("width-scale")&&(this.Ss=a.L()/b.L());c.has("height-abs")?this.Rs=a.M()-b.M():c.has("height-scale")&&(this.Rs=a.M()/b.M())}else this.Pe=e.ll(b.O(),
b.P(),a.O(),a.P())}Kc(){const b=this.Uq,a=this.th,d={uid:this.Wk?this.Wk.ic:-1,m:a};if("rope"===a||"bar"===a)d.pd=this.Pe;else if("properties"===a){d.ps=[...this.Uq];b.has("imagepoint")?d.ip=this.zx:b.has("x")&&b.has("y")?(d.pa=this.Rq,d.pd=this.Pe):(b.has("x")&&(d.dx=this.NB),b.has("y")&&(d.dy=this.OB));b.has("angle")&&(d.da=this.co,d.lka=this.no);if(b.has("width-abs")||b.has("width-scale"))d.dw=this.Ss;if(b.has("height-abs")||b.has("height-scale"))d.dh=this.Rs;b.has("z")&&(d.dz=this.PB)}return d}Dc(b){const a=
b.m,d=this.Uq;d.clear();this.iD=b.uid;if("number"===typeof a)this.Taa(b);else if(this.th=a,"rope"===a||"bar"===a)this.Pe=b.pd;else if("properties"===a){for(const c of b.ps)d.add(c);d.has("imagepoint")?this.zx=b.ip:d.has("x")&&d.has("y")?(this.Rq=b.pa,this.Pe=b.pd):(d.has("x")&&(this.NB=b.dx),d.has("y")&&(this.OB=b.dy));d.has("angle")&&(this.co=b.da,this.no=b.lka||0);if(d.has("width-abs")||d.has("width-scale"))this.Ss=b.dw;if(d.has("height-abs")||d.has("height-scale"))this.Rs=b.dh;d.has("z")&&(this.PB=
b.dz)}}Taa(b){const a=this.Uq,d=b.msa,c=b.tsa,f=b.pa,l=b.pd;switch(b.m){case 0:this.th="properties";a.add("x").add("y").add("angle");this.Rq=f;this.Pe=l;this.co=d-c;this.no=b.lka;break;case 1:this.th="properties";a.add("x").add("y");this.Rq=f;this.Pe=l;break;case 2:this.th="properties";a.add("angle");this.co=d-c;this.no=b.lka;break;case 3:this.th="rope";this.Pe=b.pd;break;case 4:this.th="bar",this.Pe=b.pd}}Wp(){-1===this.iD?this.fw(null):(this.fw(this.b.Og(this.iD)),this.iD=-1)}ZH(b){this.Wk===b&&
(this.fw(null),this.rj&&this.b.sl(this.R))}Iv(){var b=this.Wk;if(b){var a=b.A(),d=this.R.A(),c=this.th,f=!1;if("rope"===c||"bar"===c){if(b=e.ll(d.O(),d.P(),a.O(),a.P()),b>this.Pe||"bar"===c&&b<this.Pe)f=e.hy(a.O(),a.P(),d.O(),d.P()),d.$i(a.O()+Math.cos(f)*this.Pe,a.P()+Math.sin(f)*this.Pe),f=!0}else{c=this.Uq;if(c.has("imagepoint")){const [l,g]=b.ln(this.zx);d.fF(l,g)||(d.$i(l,g),f=!0)}else if(c.has("x")&&c.has("y")){b=a.O()+Math.cos(a.na()+this.Rq)*this.Pe;const l=a.P()+Math.sin(a.na()+this.Rq)*
this.Pe;d.fF(b,l)||(d.$i(b,l),f=!0)}else b=a.O()+this.NB,c.has("x")&&b!==d.O()&&(d.hf(b),f=!0),b=a.P()+this.OB,c.has("y")&&b!==d.P()&&(d.jf(b),f=!0);c.has("angle")&&(this.no!==d.na()&&(this.co=e.Vd(this.co+(d.na()-this.no))),b=e.Vd(a.na()+this.co),b!==d.na()&&(d.Wc(b),f=!0),this.no=d.na());c.has("width-abs")&&(b=a.L()+this.Ss,b!==d.L()&&(d.Zd(b),f=!0));c.has("width-scale")&&(b=a.L()*this.Ss,b!==d.L()&&(d.Zd(b),f=!0));c.has("height-abs")&&(b=a.M()+this.Rs,b!==d.M()&&(d.Be(b),f=!0));c.has("height-scale")&&
(b=a.M()*this.Rs,b!==d.M()&&(d.Be(b),f=!0));c.has("z")&&(b=a.Sa()+this.PB,b!==d.Sa()&&(d.Ce(b),this.b.U()))}f&&d.ab()}}}}"use strict";self.B.Ka.nk.F={Ooa(){return!!this.Wk},hwa(){return this.rj}};"use strict";
self.B.Ka.nk.ja={Kqa(e,b){this.Rn(e,0===b?"rope":"bar")},Mqa(e,b,a,d,c,f,l){const g=[];b&&g.push("x");a&&g.push("y");d&&g.push("angle");l&&g.push("z");1===c?g.push("width-abs"):2===c&&g.push("width-scale");1===f?g.push("height-abs"):2===f&&g.push("height-scale");0!==g.length&&this.Rn(e,"properties",g)},Lqa(e,b,a,d,c,f){const l=["imagepoint"];a&&l.push("angle");f&&l.push("z");1===d?l.push("width-abs"):2===d&&l.push("width-scale");1===c?l.push("height-abs"):2===c&&l.push("height-scale");this.zx=b;this.Rn(e,
"properties",l)},lua(e){if("rope"===this.th||"bar"===this.th)this.Pe=Math.max(e,0)},ota(e){this.rj=e},Lva(){this.fw(null);this.th="";this.Uq.clear();this.zx=""},nk(e,b){switch(b){case 0:this.Rn(e,"properties",["x","y","angle"]);break;case 1:this.Rn(e,"properties",["x","y"]);break;case 2:this.Rn(e,"properties",["angle"]);break;case 3:this.Rn(e,"rope");break;case 4:this.Rn(e,"bar")}}};"use strict";self.B.Ka.nk.ob={Nqa(){return this.Wk?this.Wk.ic:-1}};
{const e=self.B;self.jN=function(){return[e.g.Ra,e.Ka.Hp,e.Ka.Mn,e.Ka.Lh,e.g.lf,e.g.Audio,e.g.Ic,e.g.Keyboard,e.g.xd,e.g.Touch,e.g.Vb,e.g.Mf,e.Ka.Mi,e.g.kf,e.Ka.nk,e.g.Ea.F.Sr,e.g.Ea.F.RP,e.g.Audio.ja.pg,e.g.Audio.ja.Play,e.g.Ra.ja.UG,e.g.Ea.ob.wha,e.g.Ea.ob.vha,e.g.kf.ja.UG,e.g.Ra.ja.jf,e.g.Ra.ob.qH,e.g.Ea.ja.Lp,e.g.Ea.ja.x7,e.g.Ea.F.Y_,e.g.Ea.ob.via,e.g.Ea.ob.wia,e.g.Ea.ob.uia,e.g.Ea.ob.tia,e.g.Ra.F.Vy,e.g.Ra.ja.UQ,e.g.kf.ja.UQ,e.g.Ea.F.iZ,e.g.kf.ja.rs,e.g.Ra.ob.zA,e.g.kf.ja.jf,e.g.kf.ob.zA,e.g.lf.ja.hf,
e.g.lf.ob.yA,e.g.Ra.ja.hf,e.g.Ra.ob.yA,e.g.Ra.ja.Wc,e.g.Ra.ja.m6,e.g.Touch.F.YP,e.g.Keyboard.F.EP,e.Ka.Mn.F.lk,e.Ka.Lh.ja.P7,e.Ka.Mn.ja.OG,e.g.Ra.F.JP,e.g.Ea.F.X_,e.g.Ea.ja.V7,e.g.Ea.ja.rY,e.g.Vb.ja.S6,e.g.Ea.ob.Rha,e.Ka.Lh.ja.W5,e.g.Ra.ja.Od,e.g.Ea.ja.u8,e.g.Ea.ja.u1,e.g.Ra.F.BP,e.g.Ra.ja.$E,e.g.Ra.F.IP,e.g.Ra.ja.dR,e.Ka.nk.ja.nk,e.g.Ra.ja.rc,e.g.Mf.ja.rc,e.g.Mf.ob.MO,e.g.Mf.ja.UG,e.g.Mf.ob.qH,e.g.Ra.ob.MO,e.g.Mf.ja.Zd,e.g.Keyboard.F.cP,e.g.Touch.F.o3,e.g.Ra.F.jZ,e.g.Ra.F.SE,e.g.Keyboard.F.NP,e.g.Ra.ja.l6,
e.g.Ra.F.AP,e.g.Ra.F.l4,e.g.Ra.F.Q2,e.g.Ra.ja.U7,e.Ka.Mi.ja.Mi,e.g.Ea.ob.random,e.g.Ra.ja.QG,e.g.Ea.ja.AN,e.g.Ra.F.S2,e.g.Ra.F.f3,e.g.Mf.ja.QG,e.g.Ra.F.hZ,e.g.Mf.F.Vy,e.g.Ra.ja.q6,e.g.kf.ja.Wc,e.g.Mf.ja.$E,e.g.Mf.F.SE,e.g.lf.F.SE,e.g.lf.ob.qH,e.g.lf.ja.QG,e.g.lf.F.Vy,e.g.Ra.ja.tP,e.g.lf.ja.tP,e.g.lf.ja.$E,e.g.Ra.ja.gY,e.g.Audio.ja.o5,e.g.Ea.F.fZ,e.g.Ea.ob.Bha,e.g.Ea.F.UP,e.g.xd.F.e3,e.g.Ea.ja.T6,e.g.Ea.ja.l7,e.g.Vb.ja.VY,e.g.Vb.F.KP,e.g.Vb.ob.r3,e.g.Ra.ja.Zd,e.g.Ra.ja.O7,e.g.Audio.ja.A7,e.g.Ea.F.JN,
e.g.Ra.F.gZ,e.g.Ea.ja.oH,e.g.Ea.ja.X5,e.g.Ic.ja.P5,e.g.Ic.ja.QY,e.g.xd.F.T2,e.g.xd.ja.u6,e.g.Ea.F.e8,e.g.Ea.ja.U6,e.g.Ea.ob.tha,e.g.Ea.ob.uha,e.g.Ea.F.v3,e.g.Ea.ja.G7,e.g.Ic.ja.v1,e.g.Ic.ja.cZ,e.g.kf.F.Vy,e.g.kf.ja.Od]};self.JY=[{Hla:0},{Ila:0},{Hp:0},{Yua:0},{Xla:0},{Yla:0},{Wma:0},{Bja:0},{xua:0},{Cja:0},{Xma:0},{yua:0},{Vma:0},{R3:0},{Sma:0},{Dna:0},{Gna:0},{Hna:0},{zna:0},{Tma:0},{Uma:0},{Ana:0},{Bna:0},{Nna:0},{Cna:0},{Ena:0},{Fna:0},{ama:0},{wua:0},{bna:0},{ana:0},{dR:0},{Lla:0},{Qqa:0},{zva:0},
{$ja:0},{Zja:0},{gka:0},{Xua:0},{vua:0},{Gua:0},{Nia:0},{Lh:0},{Uka:0},{Yoa:0},{Kja:0},{Ija:0},{vva:0},{wva:0},{xva:0},{Lja:0},{Jja:0},{cpa:0},{upa:0},{pva:0},{dka:0},{Xja:0},{Audio:0},{Ic:0},{Keyboard:0},{xd:0},{Touch:0},{Vb:0},{cma:0},{dma:0},{Yma:0},{ema:0},{hra:0},{ira:0},{jra:0},{Mi:0},{Yqa:0},{uua:0},{eka:0},{jpa:0},{kpa:0},{Fsa:0},{bla:0},{$ka:0},{Cma:0},{Dma:0},{Ema:0},{Hma:0},{Gma:0},{Fma:0},{Ima:0},{Jma:0},{Kma:0},{Lma:0},{tna:0},{vna:0},{una:0},{wna:0},{xna:0},{yna:0},{jma:0},{awa:0},{nva:0},
{Tsa:0},{iva:0},{Mpa:0},{Cua:0},{rpa:0},{cna:0},{Gsa:0},{Pla:0},{boa:0},{mka:0},{nka:0},{oka:0},{xka:0},{qka:0},{rka:0},{tka:0},{uka:0},{vka:0},{wka:0},{yka:0},{Aka:0},{Cka:0},{Dka:0},{Gka:0},{pka:0},{zka:0},{hka:0},{ika:0},{Eka:0},{Fka:0},{kka:0},{ska:0},{Bka:0},{Hka:0},{jka:0},{Ika:0},{bka:0},{cka:0},{qva:0},{nk:0},{ala:0},{Wka:0},{Zqa:0},{Zka:0},{Yka:0},{Xka:0},{Vka:0},{fva:0},{dva:0},{eva:0},{ava:0},{bva:0},{$ua:0},{Sja:0},{Tja:0},{Uja:0},{Vja:0},{nma:0},{pma:0},{oma:0},{rma:0},{mma:0},{fka:0},
{qma:0},{vpa:0},{Ama:0},{zma:0},{Sla:0},{fra:0},{dra:0},{kra:0},{cra:0},{bra:0},{ara:0},{$qa:0},{Jka:0},{hva:0},{yva:0},{Bma:0},{Hja:0},{Wpa:0},{$va:0},{Pqa:0},{Zla:0},{$la:0},{gra:0},{Vla:0},{coa:0},{dna:0},{$ma:0},{gja:0},{hja:0},{ija:0},{jja:0},{kja:0},{lja:0},{mja:0},{Zva:0},{bma:0},{Ssa:0},{$sa:0},{Dpa:0},{mva:0},{Cla:0},{Dla:0},{Bua:0},{Lpa:0},{pqa:0},{e0:0},{Zma:0},{Kla:0},{zra:0},{Qna:0}]}
{const e=self.B;function b(a,d){return"string"===typeof a||"string"===typeof d?("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a)+("number"===typeof d?(Math.round(1E10*d)/1E10).toString():d):a&&d?1:0}self.IY=[()=>"Game_Settings",()=>"Music",a=>{const d=a.D(0).Qb;return()=>d.eb()},a=>{const d=a.D(0).N();return()=>d()/2},a=>{const d=a.D(0).N();return()=>-d()},a=>{const d=a.D(0).N();return()=>d()/2-350},a=>{const d=a.D(0).N();return()=>d()/2+350},a=>{const d=a.D(0).N(),c=a.D(1);return()=>d()/
2+c.qb()/2},a=>{const d=a.D(0).N();return()=>d()/2-210},a=>{const d=a.D(0).N();return()=>d()/2-70},a=>{const d=a.D(0).N();return()=>d()/2+70},a=>{const d=a.D(0).N();return()=>d()/2+210},()=>"Time_Basic_Settings",()=>1,()=>0,()=>3,()=>3E3,()=>500,()=>50,()=>100,()=>120,()=>60,()=>80,a=>{const d=a.D(0).N();return()=>d(0)-70},a=>{const d=a.D(0).N();return()=>d(0)+70},a=>{const d=a.D(0).N();return()=>d(0)+120},a=>{const d=a.D(0).N();return()=>d(0)-120},a=>{const d=a.D(0).N();return()=>d(0)+330},a=>{const d=
a.D(0).N();return()=>d(0)-330},()=>"Weapons",a=>{const d=a.D(0).N();return()=>d(0)+160},()=>2,()=>"Score",a=>{const d=a.D(0).N();return()=>d()/2-370},()=>"Distance",a=>{const d=a.D(0).N();return()=>d()/2+100},()=>"Timer",a=>{const d=a.D(0).N();return()=>d(0)-410},a=>{const d=a.D(0);return()=>d.qb()+2},a=>{const d=a.D(0);return()=>d.qb()-4},a=>{const d=a.D(0),c=a.D(1).Qb;return()=>d.qb()-c.eb()},a=>{const d=a.D(0),c=a.D(1).Qb;return()=>d.qb()-c.eb()/2},a=>{const d=a.D(0),c=a.D(1).Qb;return()=>d.qb()-
c.eb()/3},a=>{const d=a.D(0),c=a.D(1).Qb;return()=>d.qb()-4*c.eb()},a=>{const d=a.D(0),c=a.D(1).Qb,f=a.D(2).Qb;return()=>d.qb()+(c.eb()+f.eb()/2)},()=>"Sound",()=>"Time_Settings",()=>.02,()=>-1,()=>59,a=>{const d=a.D(0).Qb,c=a.D(1).Qb;return()=>b(b("0",d.eb())+":",c.eb())},()=>9,a=>{const d=a.D(0).Qb,c=a.D(1).Qb;return()=>b(b("0",d.eb())+":0",c.eb())},a=>{const d=a.D(0).Qb,c=a.D(1).Qb;return()=>b(b(d.eb(),":"),c.eb())},()=>10,a=>{const d=a.D(0).Qb,c=a.D(1).Qb;return()=>b(b(d.eb(),":0"),c.eb())},a=>
{const d=a.D(0).N();return()=>d()+"Total Score"},()=>"Shadow_In_Settings",()=>"Shadow_In",()=>"Score_Settings",()=>-5,()=>5,()=>"Effects_Settings",()=>"Player",()=>"Created",a=>{const d=a.D(0);return()=>d.Xj()},a=>{const d=a.D(0),c=a.D(1);return()=>d.Xj()+2*c.Xj()},a=>{const d=a.D(0),c=a.D(1);return()=>d.qb()+2*c.Xj()},a=>{const d=a.D(0),c=a.D(1),f=a.D(2);return()=>d.qb()-(c.qb()/2+f.Xj())},a=>{const d=a.D(0),c=a.D(1),f=a.D(2);return()=>d.qb()-(c.qb()+f.qb()/5)},a=>{const d=a.D(0),c=a.D(1);return()=>
d.qb()-c.qb()/2},()=>.1,()=>2500,()=>4,()=>2E3,()=>1500,()=>6,()=>1E3,()=>7,()=>8,()=>"Up",a=>{const d=a.D(0).N(),c=a.D(1);return()=>d(0)+c.qb()/2},()=>"Down",a=>{const d=a.D(0).N(),c=a.D(1);return()=>d(0)-c.qb()/2},a=>{const d=a.D(0);return()=>d.qb()+5},()=>"Left",a=>{const d=a.D(0);return()=>d.qb()-6},()=>"Right",a=>{const d=a.D(0);return()=>d.qb()+6},()=>"Weapon",()=>"MAX",a=>{const d=a.D(0).N(),c=a.D(1);return()=>d(0)+c.qb()},()=>"Attack",()=>"Top",()=>"Fly",()=>"Attacked",()=>"Bullet",()=>"Death",
a=>{const d=a.D(0),c=a.D(1);return()=>d.Xj()*c.Xj()},()=>"Fire",()=>"Mace",()=>"Spike",()=>"Totem",a=>{const d=a.D(0).N();return()=>d(4,5)},a=>{const d=a.D(0).N();return()=>Math.round(d(1E3))},()=>"Water",()=>"Platform",()=>"Explosion",()=>45,()=>"Enemies",()=>"FlyEnemies",a=>{const d=a.D(0).N(),c=a.D(1).Qb;return()=>d(4,5)-c.eb()/10},a=>{const d=a.D(0).N(),c=a.D(1).N();return()=>d(0)+c(0)/3},a=>{const d=a.D(0).N(),c=a.D(1).N(),f=a.D(2).N();return()=>d(c(0)+300,f(0)-400)},a=>{const d=a.D(0);return()=>
d.qb()},()=>.25,a=>{const d=a.D(0);return()=>d.Er()},a=>{const d=a.D(0);return()=>0-d.qb()},a=>{const d=a.D(0),c=a.D(1).Qb,f=a.D(2).Qb;return()=>d.qb()-(c.eb()+f.eb()/2)},a=>{const d=a.D(0),c=a.D(1).Qb;return()=>d.qb()+c.eb()},()=>"Enemies_Created",a=>{const d=a.D(0).N();return()=>Math.round(d(0,1E13))},()=>"Background",a=>{const d=a.D(0),c=a.D(1).N(),f=a.D(2);return()=>d.Er()+c(f.Er()/10)},a=>{const d=a.D(0),c=a.D(1);return()=>d.Er()+2*c.Xj()},()=>"Enemies_Attack",a=>{const d=a.D(0),c=a.D(1);return()=>
d.Er()*c.Xj()},()=>12,()=>"Idle",()=>"Enemies_Attacked",a=>{const d=a.D(0).N();return()=>d(0)},a=>{const d=a.D(0),c=a.D(1);return()=>d.Xj()*c.Er()},()=>"Enemies_Death",a=>{const d=a.D(0);return()=>-d.qb()},a=>{const d=a.D(0);return()=>-d.qb()/2},a=>{const d=a.D(0),c=a.D(1);return()=>d.qb()+c.qb()/2},()=>"Trees",a=>{const d=a.D(0).N(),c=a.D(1).Qb;return()=>d(3,4)-c.eb()/10},a=>{const d=a.D(0).N(),c=a.D(1).N();return()=>d()+c(200,400)},a=>{const d=a.D(0).N();return()=>Math.round(d(0,4))},a=>{const d=
a.D(0).N(),c=a.D(1).N(),f=a.D(2).N();return()=>d(c()/5,f()/3)},a=>{const d=a.D(0).N();return()=>Math.round(d(0,2))},a=>{const d=a.D(0).N();return()=>Math.round(d(0,6))},a=>{const d=a.D(0).N();return()=>Math.round(d(0,1))},a=>{const d=a.D(0).N();return()=>Math.round(d(0,9))},a=>{const d=a.D(0).N(),c=a.D(1).N();return()=>d(c()/6)},a=>{const d=a.D(0).N(),c=a.D(1).N(),f=a.D(2).N();return()=>d(c()/5,f()/4)},a=>{const d=a.D(0).N(),c=a.D(1).N(),f=a.D(2).N();return()=>d(c()/3,f()/2)},a=>{const d=a.D(0).N(),
c=a.D(1).N(),f=a.D(2).N();return()=>d(c()/4,f()/2)},a=>{const d=a.D(0).N();return()=>d(0)+500},a=>{const d=a.D(0).N();return()=>d(0)/2-200},a=>{const d=a.D(0).N();return()=>d(0)/2-100},a=>{const d=a.D(0).N();return()=>d(0)/2},a=>{const d=a.D(0).N();return()=>d(0)/2+100},a=>{const d=a.D(0).N();return()=>d(0)/2+200},()=>"Platforms",a=>{const d=a.D(0).N(),c=a.D(1).N();return()=>d()+c(600,800)},a=>{const d=a.D(0).N(),c=a.D(1).N();return()=>d()/2+c(200,300)},a=>{const d=a.D(0).N();return()=>Math.round(d(0,
7))},()=>"Objects",()=>"Bomb",()=>"BonusBox",()=>30,()=>"+30",()=>"+50",()=>300,()=>"Coin",a=>{const d=a.D(0);return()=>d.qb()-2},()=>"Jewel",()=>"Loading_Settings",a=>{const d=a.D(0).N();return()=>d()/2-40},a=>{const d=a.D(0).N();return()=>d(0)-310},()=>"ButtonStart_Settings",a=>{const d=a.D(0).N();return()=>Math.round(100*d())},()=>99,a=>{const d=a.D(0).N();return()=>b("Loading-",Math.round(100*d()))+"%"},()=>"Loading-100%",()=>"ShowLayer_Settings",()=>"Shadow_Out_Settings",()=>132,()=>143,()=>
"Global_Settings",()=>"HideLayer_Settings",()=>"Gui",a=>{const d=a.D(0).N();return()=>d()},a=>{const d=a.D(0).Qb;return()=>b("Total Score:",d.eb())},()=>"Audio_Settings",a=>{const d=a.D(0),c=a.D(1),f=a.D(2).Qb,l=a.D(3);return()=>d.qb()-c.qb()-f.eb()*(l.qb()/100)},a=>{const d=a.D(0).Qb;return()=>b("SOUND:",d.eb()+100)+"%"},a=>{const d=a.D(0),c=a.D(1),f=a.D(2),l=a.D(3);return()=>e.ll(d.qb(),c.qb(),f.qb(),l.qb())},a=>{const d=a.D(0).Qb;return()=>b("MUSIC:",d.eb()+100)+"%"},a=>{const d=a.D(0).N();return()=>
d()+"Sound"},a=>{const d=a.D(0).N();return()=>d()+"Music"},()=>.05,()=>-100,a=>{const d=a.D(0).Qb;return()=>d.eb()/1.5},()=>"SoundON",()=>"SoundOFF",()=>"MusicON",()=>"MusicOFF",()=>107,()=>116,()=>"ButtonMenu_Settings",()=>"ButtonPause_Settings",()=>.3,a=>{const d=a.D(0).N();return()=>d()/2-260},a=>{const d=a.D(0).N();return()=>d()/2-120},a=>{const d=a.D(0).N();return()=>d()/2-50},a=>{const d=a.D(0).N();return()=>d()/2+60},a=>{const d=a.D(0).N();return()=>d()/2+130},a=>{const d=a.D(0).N();return()=>
d()/2+290},()=>"ButtonReload_Settings",()=>"ButtonFullscreen_Settings",()=>"FulLscreenON",()=>"FulLscreenOFF",()=>"Mouse_Settings",()=>"Settings",()=>1.5,()=>.03,a=>{const d=a.D(0).N();return()=>e.pc(d("Settings"),100,.25)},a=>{const d=a.D(0).N();return()=>e.pc(d("Settings"),1,.25)},a=>{const d=a.D(0).N();return()=>e.pc(d("Gui"),0,.25)},()=>.01,a=>{const d=a.D(0).N();return()=>e.pc(d("Settings"),0,.25)},a=>{const d=a.D(0).N();return()=>e.pc(d("Settings"),1.5,.25)},a=>{const d=a.D(0).N();return()=>
e.pc(d("Gui"),100,.25)},()=>"Shadow_Settings",()=>"Shadow",a=>{const d=a.D(0).N();return()=>d("Shadow")+6},a=>{const d=a.D(0).N();return()=>d("Shadow")-6},()=>"Shadow_Out",()=>"Menu_Settings",a=>{const d=a.D(0).N();return()=>d(0)+200},a=>{const d=a.D(0).N();return()=>d(0)-110},a=>{const d=a.D(0).N();return()=>d(0)+110},a=>{const d=a.D(0).N();return()=>d(0)-200},a=>{const d=a.D(0).N();return()=>d(2,3)},()=>"ButtonPlay_Settings",()=>260,()=>282,()=>"ButtonMoreGames_Settings",()=>"https://codecanyon.net/user/muscle-ss/portfolio?ref=Muscle-SS",
()=>"NewWindow",()=>"ButtonInfo_Settings",()=>"ButtonExit_Settings",()=>"InfoMenu_Settings",()=>16,a=>{const d=a.D(0).Qb;return()=>b("Type_",d.eb())},()=>240,()=>"Description",()=>"Name",()=>242,()=>320,()=>"Viking escape - is a game in which you control a Viking flying on a dragon, the Viking must go its way to the end to get out of a dark forest filled with goblins and other mutants. Viking can throw different types of weapons, and the dragon breathe a fiery flame. Help the Viking survive to get out of the woods and collect as many points and ammunition as possible!",
()=>"DESCRIPTION",()=>322,()=>"Life",()=>"",()=>"Speed",()=>"Damage",()=>"Armour",()=>"Reward",()=>"Number",()=>"GOBLIN ARCHER",()=>"SLOW",()=>"LOW",()=>150,()=>"1/16",()=>"GOBLIN BOMBER",()=>"FAST",()=>"NONE",()=>"2/16",()=>"GOBLIN CYCLOPS",()=>"HARD",()=>"3/16",()=>"GOBLIN HOGRIDER",()=>200,()=>70,()=>"4/16",()=>"GOBLIN SHAMAN",()=>160,()=>20,()=>"5/16",()=>"GOBLIN WARRIOR",()=>"MED",()=>"6/16",()=>"FLY ENEMY-1",()=>"7/16",()=>"FLY ENEMY-2",()=>40,()=>"8/16",()=>"FLY ENEMY-3",()=>"9/16",()=>"FLY ENEMY-4",
()=>"10/16",()=>11,()=>"FLY ENEMY-5",()=>"11/16",()=>"FLY ENEMY-6",()=>"12/16",()=>13,()=>"FLY ENEMY-7",()=>"13/16",()=>14,()=>"FLY ENEMY-8",()=>"14/16",()=>15,()=>"FLY ENEMY-9",()=>"15/16",()=>"FLY ENEMY-10",()=>"16/16",()=>"ButtonGo_Settings",()=>"GameOver_Settings",a=>{const d=a.D(0).N();return()=>d()/2-30},a=>{const d=a.D(0).N();return()=>d(0)-250},a=>{const d=a.D(0).N();return()=>d()/2-180},a=>{const d=a.D(0).N();return()=>d()/2+180},()=>"ButtonRestart_Settings",()=>"ButtonFacebook_Settings",
a=>{const d=a.D(0).Qb;return()=>b("https://www.facebook.com/sharer/sharer.php?u=http://codecanyon.net/user/muscle-ss/portfolio&title=Viking Escape&description=I love this game, I scored the most points:",d.eb())+"&image=https://user-profile.s3.envato.com/files/122504059/bomb.jpg"},()=>"Share",()=>112,()=>"ButtonTwitter_Settings",()=>"https://twitter.com/share?&text=Viking Escape&url=http://codecanyon.net/user/muscle-ss/portfolio",()=>"ButtonGooglePlus_Settings",()=>"https://plus.google.com/share?url=http://codecanyon.net/user/muscle-ss/portfolio"]};
